package steve

import (
	"fmt"
	"os"

	"github.com/labstack/echo/v4"

	"github.com/epinio/ui-backend/src/jetstream/plugins/epinio/rancherproxy/interfaces"
)

const (
	epinioVersion = "EPINIO_VERSION"
	epinioTheme   = "EPINIO_THEME"
)

func NewDefaultSettings(ec echo.Context) *interfaces.Collection {
	col := interfaces.Collection{
		Type:         interfaces.CollectionType,
		ResourceType: interfaces.SettingsResourceType,
		Actions:      make(map[string]string),
		Links:        make(map[string]string),
	}

	col.Links["self"] = interfaces.GetSelfLink(ec)

	baseURL := interfaces.GetSelfLink(ec)

	epinioVersion := os.Getenv(epinioVersion)
	if epinioVersion == "" {
		epinioVersion = "unknown"
	}

	epinioTheme := os.Getenv(epinioTheme)
	if epinioTheme == "" {
		epinioTheme = "light"
	}

	col.Data = make([]interface{}, 6)
	// Visible to all, regardless of auth
	col.Data[0] = NewStringSettings(baseURL, "first-login", "false")
	col.Data[1] = NewStringSettings(baseURL, "ui-pl", "Epinio")
	col.Data[2] = NewStringSettings(baseURL, "server-version", epinioVersion)
	col.Data[3] = NewStringSettings(baseURL, "ui-theme", epinioTheme)
	col.Data[4] = NewStringSettings(baseURL, "ui-favicon", GetFavicon())
	col.Data[5] = NewStringSettings(baseURL, "ui-performance", "{}")

	return &col
}

func NewStringSettings(baseURL, id, value string) *interfaces.Setting {

	setting := interfaces.Setting{}
	setting.ID = id
	setting.APIVersion = "management.cattle.io/v3"
	setting.Kind = "Setting"
	setting.Type = "management.cattle.io.setting"
	setting.Customized = false
	setting.Default = value
	setting.Value = value
	setting.Links = make(map[string]string)
	setting.Links["self"] = fmt.Sprintf("%s/%s", baseURL, id)

	return &setting
}

func GetFavicon() string {
	// Provide the string straight up rather than load the favicon file every time (src/jetstream/plugins/epinio/static/favicon.png)
	// - Avoids path issues to favicon (dev different than deployed)
	// - Avoids updating docker image & goreleaser to ship favicon
	// - Quicker!
	return "data:image/png;base64,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"
}

// func GetFavicon() string {
// 	file, err := filepath.Abs("./plugins/epinio/static/favicon.png")
// 	if err != nil {
// 		log.Fatalf("Failed to find favicon at %+v. %+v", file, err)
// 	}

// 	bytes, err := ioutil.ReadFile(file)

// 	if err != nil {
// 		log.Fatal(err)
// 	}

// 	return "data:image/png;base64," + base64.StdEncoding.EncodeToString(bytes)
// }
