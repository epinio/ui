(("undefined"!==typeof self?self:this)["webpackChunkepinio_1_13_2_rc3"]=("undefined"!==typeof self?self:this)["webpackChunkepinio_1_13_2_rc3"]||[]).push([[715],{2837:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return f}});var n=t(9274),o=t(65359),c=t(32766),l=t(87619),r=t(5895),s=t(95572);const i={key:1},u={class:"filter-block"},p=["placeholder"];var d=(0,n.defineComponent)({__name:"catalogservices",props:{schema:{}},setup(e){const a=(0,o.Pj)(),t=(0,n.ref)(!0),d=(0,n.ref)(null);(0,n.onMounted)(async()=>{await a.dispatch("epinio/findAll",{type:c.F6.CATALOG_SERVICE}),t.value=!1,(0,s.g)(["namespaces","applications","catalogservices","services"],a)}),(0,n.onUnmounted)(()=>{(0,s.E)(["namespaces","applications","catalogservices","services"])});const m=(0,n.computed)(()=>{const e=a.getters["epinio/all"](c.F6.CATALOG_SERVICE);if(d.value){const a=d.value.toLowerCase();return e.filter(e=>e?.chart.toLowerCase().includes(a)||e?.description.toLowerCase().includes(a)||e?.short_description.toLowerCase().includes(a))}return e}),v=e=>{a.$router.push(e.detailLocation)},f=()=>"color-1";return(e,a)=>t.value?((0,n.openBlock)(),(0,n.createBlock)(l.A,{key:0})):((0,n.openBlock)(),(0,n.createElementBlock)("div",i,[(0,n.createElementVNode)("div",u,[(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),type:"search",class:"input-sm",placeholder:e.t("catalog.charts.search")},null,8,p),[[n.vModelText,d.value]])]),(0,n.createVNode)(r.A,{rows:m.value,"color-for":f,"name-field":"name","icon-field":"serviceIcon","key-field":"name","description-field":"short_description",onClicked:a[1]||(a[1]=e=>v(e))},null,8,["rows"])]))}}),m=(t(41453),t(47433));const v=(0,m.A)(d,[["__scopeId","data-v-2d009968"]]);var f=v},39565:function(e,a,t){"use strict";t.r(a);var n=t(36758),o=t.n(n),c=t(40935),l=t.n(c),r=l()(o());r.push([e.id,".filter-block[data-v-2d009968]{display:flex;justify-content:flex-end}.filter-block input[data-v-2d009968]{width:315px}",""]),a["default"]=r},41453:function(e,a,t){var n=t(39565);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=t(74825).A;o("b4f86560",n,!0,{sourceMap:!1,shadowMode:!1})},42708:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return u}});var n=t(9274),o=t(32766),c=t(65359),l=t(32632),r=t(95572),s=(0,n.defineComponent)({__name:"appcharts",props:{schema:{}},setup(e){const a=(0,n.ref)(!0),t=(0,c.Pj)(),s=(0,n.useAttrs)();(0,n.onMounted)(async()=>{await t.dispatch("epinio/findAll",{type:o.F6.APP_CHARTS}),a.value=!1,(0,r.g)(["appcharts"],t)}),(0,n.onUnmounted)(()=>{(0,r.E)(["appcharts"])});const i=(0,n.computed)(()=>t.getters["epinio/all"](o.F6.APP_CHARTS));return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(l.A),(0,n.mergeProps)((0,n.unref)(s),{rows:i.value,schema:e.schema,loading:a.value,"table-actions":!1}),null,16,["rows","schema","loading"]))}});const i=s;var u=i},55254:function(e,a,t){"use strict";t.r(a);var n=t(36758),o=t.n(n),c=t(40935),l=t.n(c),r=l()(o());r.push([e.id,".modal[data-v-5bb448c4]{position:fixed;z-index:50;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4);border-radius:var(--border-radius)}.modal .banner[data-v-5bb448c4]{margin-bottom:0}.modal-content[data-v-5bb448c4]{background-color:var(--default);margin:15% auto;padding:20px;border:1px solid #888;width:50%;max-width:500px}.modal-content .model-body[data-v-5bb448c4]{min-height:116px}.modal-content .model-actions[data-v-5bb448c4]{justify-content:flex-end;display:flex;flex:1}",""]),a["default"]=r},61237:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return f}});var n=t(9274),o=t(32632),c=t(32766),l=t(87619),r=t(65359),s=t(95572);const i={key:1},u={key:1,class:"text-muted"},p={key:0},d={key:1,class:"text-muted"};var m=(0,n.defineComponent)({__name:"configurations",props:{schema:{}},setup(e){const a=(0,r.Pj)(),t=(0,n.useAttrs)(),m=(0,n.ref)(!0);(0,n.onMounted)(async()=>{a.dispatch("epinio/findAll",{type:c.F6.APP}),a.dispatch("epinio/findAll",{type:c.F6.SERVICE_INSTANCE}),await a.dispatch("epinio/findAll",{type:c.F6.CONFIGURATION}),m.value=!1,(0,s.g)(["applications","namespaces","appcharts","configurations","services"],a)}),(0,n.onUnmounted)(()=>{(0,s.E)(["applications","namespaces","appcharts","configurations","services"])});const v=(0,n.computed)(()=>a.getters["epinio/all"](c.F6.CONFIGURATION));return(e,a)=>{const c=(0,n.resolveComponent)("LinkDetail");return m.value?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(l.A),{key:0})):((0,n.openBlock)(),(0,n.createElementBlock)("div",i,[(0,n.createVNode)((0,n.unref)(o.A),(0,n.mergeProps)((0,n.unref)(t),{rows:v.value,schema:e.schema}),{"cell:service":(0,n.withCtx)(({row:e})=>[e.service?((0,n.openBlock)(),(0,n.createBlock)(c,{key:e.service.id,row:e.service,value:e.service.meta.name},null,8,["row","value"])):((0,n.openBlock)(),(0,n.createElementBlock)("span",u," "))]),"cell:boundApps":(0,n.withCtx)(({row:e})=>[e.applications.length?((0,n.openBlock)(),(0,n.createElementBlock)("span",p,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.applications,(a,t)=>((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:a.id},[(0,n.createVNode)(c,{row:a,value:a.meta.name},null,8,["row","value"]),t<e.applications.length-1?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:a.id+"i"},", ")):(0,n.createCommentVNode)("",!0)],64))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)("span",d," "))]),_:1},16,["rows","schema"])]))}}});const v=m;var f=v},73590:function(e,a,t){var n=t(55254);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=t(74825).A;o("241f6ad6",n,!0,{sourceMap:!1,shadowMode:!1})},87666:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var n=t(9274),o=t(32766),c=t(87619),l=t(65359),r=t(32632),s=t(95572);const i={key:1},u={key:0},p={key:1,class:"text-muted"};var d=(0,n.defineComponent)({__name:"services",setup(e){const a=(0,n.ref)(!0),t=(0,l.Pj)(),d=(0,n.useAttrs)();(0,n.onMounted)(async()=>{await Promise.all([t.dispatch("epinio/findAll",{type:o.F6.APP}),t.dispatch("epinio/findAll",{type:o.F6.SERVICE_INSTANCE})]),a.value=!1,(0,s.g)(["catalogservices","namespaces","applications"],t)}),(0,n.onUnmounted)(()=>{(0,s.E)(["catalogservices","namespaces","applications"])});const m=(0,n.computed)(()=>t.getters["epinio/all"](o.F6.SERVICE_INSTANCE));return(e,t)=>{const o=(0,n.resolveComponent)("LinkDetail");return a.value?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(c.A),{key:0})):((0,n.openBlock)(),(0,n.createElementBlock)("div",i,[(0,n.createVNode)((0,n.unref)(r.A),(0,n.mergeProps)((0,n.unref)(d),{rows:m.value}),{"cell:boundApps":(0,n.withCtx)(({row:e})=>[e.applications.length?((0,n.openBlock)(),(0,n.createElementBlock)("span",u,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.applications,(a,t)=>((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:a.id},[(0,n.createVNode)(o,{row:a,value:a.meta.name},null,8,["row","value"]),t<e.applications.length-1?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:a.id+"i"},", ")):(0,n.createCommentVNode)("",!0)],64))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)("span",p," "))]),_:1},16,["rows"])]))}}});const m=d;var v=m},95318:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return B}});var n=t(9274),o=t(65359),c=t(32766),l=t(91364),r=t(68745),s=t(14220),i=t(67607),u=t(32632),p=t(68968),d=t(43970),m=t(8746),v=t(23242),f=t(95572);const k={key:0,class:"modal"},h={key:0};var g=(0,n.defineComponent)({__name:"namespaces",props:{schema:{},rows:{}},setup(e){const a=(0,n.useAttrs)(),t=(0,o.Pj)(),g=t.getters["i18n/t"],y=(0,n.ref)([]),w=(0,n.ref)("namespaceName"),B=(0,n.ref)(!1),A=(0,n.ref)(!1),E=(0,n.ref)(!1),C=s.YQ,b=c.F6.NAMESPACE,_=(0,n.ref)({meta:{name:""}}),N=(0,n.computed)(()=>t.state["action-menu"].showPromptRemove),x=(0,n.computed)(()=>(A.value||(y.value=[],y.value=I(_.value.meta.name)),0===y.value?.length));async function V(){B.value=!0,(0,n.nextTick)(()=>w.value.focus()),_.value=await t.dispatch("epinio/create",{type:c.F6.NAMESPACE})}function F(){B.value=!1,y.value=[],E.value=!1}async function P(e){A.value=!0;try{await _.value.create(),F(),e(!0),E.value=!1}catch(a){y.value=[],y.value=(0,d.L)(a).map(JSON.stringify),e(!1)}}function S(e){e?.length||E.value||(E.value=!0),y.value=I(e)}function I(e){const a=(0,v.o)(e||"",g("epinio.namespace.name"),t.getters,void 0,[]);if(a.length)return[a.join(", ")];const n=e.match(/[a-z0-9]([-a-z0-9]*[a-z0-9])?/);return!n||n[0]!==e&&!y.value.includes(g("epinio.namespace.validations.name"))?[g("epinio.namespace.validations.name")]:[]}return(0,n.onMounted)(()=>{"openModal"===t.$router.currentRoute._value.query.mode&&V(),(0,f.g)(["namespaces","applications","configurations"],t)}),(0,n.onUnmounted)(()=>{(0,f.E)(["namespaces","applications","configurations"])}),(0,n.watch)(()=>N,(e,a)=>{}),(0,n.watch)(()=>_.value.meta.name,()=>{A.value=!1,S(_.value.meta.name)}),(e,t)=>{const o=(0,n.resolveDirective)("clean-html");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)((0,n.unref)(p.A),{schema:e.schema,resource:(0,n.unref)(b)},{createButton:(0,n.withCtx)(()=>[(0,n.createElementVNode)("button",{class:"btn role-primary",onClick:V},(0,n.toDisplayString)((0,n.unref)(g)("generic.create")),1)]),_:1},8,["schema","resource"]),(0,n.createVNode)((0,n.unref)(u.A),(0,n.mergeProps)((0,n.unref)(a),{rows:e.rows,groupable:!1,schema:e.schema,"key-field":"_key",useQueryParamsForSimpleFiltering:!0}),null,16,["rows","schema"]),B.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",k,[(0,n.createVNode)((0,n.unref)(l.Z),{class:"modal-content","show-actions":!0},{title:(0,n.withCtx)(()=>[(0,n.withDirectives)((0,n.createElementVNode)("h4",null,null,512),[[o,(0,n.unref)(g)("epinio.namespace.create")]])]),body:(0,n.withCtx)(()=>[(0,n.createVNode)(m.A,{ref_key:"namespaceName",ref:w,value:_.value.meta.name,"onUpdate:value":t[0]||(t[0]=e=>_.value.meta.name=e),label:(0,n.unref)(g)("epinio.namespace.name"),required:!0},null,8,["value","label"]),E.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",h,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(y.value,(e,a)=>((0,n.openBlock)(),(0,n.createBlock)(r.A,{key:a,color:"error",label:e},null,8,["label"]))),128))])):(0,n.createCommentVNode)("",!0)]),actions:(0,n.withCtx)(()=>[(0,n.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:F},(0,n.toDisplayString)((0,n.unref)(g)("generic.cancel")),1),(0,n.createVNode)((0,n.unref)(i.A),{disabled:!x.value,mode:(0,n.unref)(C),onClick:P},null,8,["disabled","mode"])]),_:1})])):(0,n.createCommentVNode)("",!0)])}}}),y=(t(73590),t(47433));const w=(0,y.A)(g,[["__scopeId","data-v-5bb448c4"]]);var B=w}}]);
//# sourceMappingURL=epinio-1.13.2-rc3.umd.min.list.js.map