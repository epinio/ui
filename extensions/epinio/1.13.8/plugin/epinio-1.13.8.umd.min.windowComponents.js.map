{"version":3,"file":"epinio-1.13.8.umd.min.windowComponents.js","mappings":"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","sources":["webpack://epinio-1.13.8/./windowComponents/ApplicationShell.vue?b1f5","webpack://epinio-1.13.8/./windowComponents/ApplicationLogs.vue?04a5","webpack://epinio-1.13.8/./windowComponents/ApplicationLogs.vue?78b7","webpack://epinio-1.13.8/./windowComponents/ApplicationShell.vue?dfef","webpack://epinio-1.13.8/./windowComponents/ApplicationShell.vue","webpack://epinio-1.13.8/./windowComponents/ApplicationShell.vue?28c4","webpack://epinio-1.13.8/./windowComponents/ApplicationShell.vue?1049","webpack://epinio-1.13.8/./windowComponents/ApplicationSocketMixin.ts","webpack://epinio-1.13.8/./windowComponents/ApplicationLogs.vue?a2ca","webpack://epinio-1.13.8/./windowComponents/ApplicationLogs.vue?2df7","webpack://epinio-1.13.8/./windowComponents/ApplicationLogs.vue","webpack://epinio-1.13.8/./windowComponents/ApplicationLogs.vue?6cc3","webpack://epinio-1.13.8/./windowComponents/ApplicationLogs.vue?8a31","webpack://epinio-1.13.8/./windowComponents/ApplicationShell.vue?9104","webpack://epinio-1.13.8/./windowComponents/ApplicationShell.vue?17f3"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./ApplicationShell.vue?vue&type=style&index=0&id=7bc331ac&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"931703e8\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".title-inner[data-v-414b97ae],.title-inner-left[data-v-414b97ae],.title-inner-right[data-v-414b97ae]{display:flex;flex-direction:row}.logs-container[data-v-414b97ae]{height:100%;overflow:auto;padding:5px;background-color:var(--logs-bg);font-family:Menlo,Consolas,monospace;color:var(--logs-text)}.logs-container .closed[data-v-414b97ae]{opacity:.25}.logs-container .time[data-v-414b97ae]{white-space:nowrap;display:none;width:0;padding-right:15px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.logs-container.show-times .time[data-v-414b97ae]{display:initial;width:auto}.logs-container .msg[data-v-414b97ae]{white-space:nowrap}.logs-container .msg .highlight[data-v-414b97ae]{color:var(--logs-highlight);background-color:var(--logs-highlight-bg)}.logs-container.wrap-lines .msg[data-v-414b97ae]{white-space:normal}[data-v-414b97ae] .containerPicker.unlabeled-select{display:inline-block;min-width:200px;height:30px;min-height:30px;width:auto}.log-action button[data-v-414b97ae]{border:0!important;min-height:30px;line-height:30px}.log-action>input[data-v-414b97ae],.status[data-v-414b97ae]{height:30px}.status[data-v-414b97ae]{align-items:center;display:flex;min-width:80px}.filter-popup[data-v-414b97ae]{padding:10px;width:280px;position:relative;overflow:visible}.filter-popup[data-v-414b97ae]>*{margin-bottom:10px}.filter-popup .filter-section[data-v-414b97ae]{margin-top:15px}.filter-popup .filter-section .text-label[data-v-414b97ae]{display:block;margin-bottom:5px;font-size:12px;font-weight:600}.filter-popup .filter-section .form-control[data-v-414b97ae]{width:100%;padding:5px 10px;border:1px solid var(--border);border-radius:3px;background-color:var(--input-bg);color:var(--input-text)}.filter-popup .filter-section .form-control[data-v-414b97ae]:disabled{opacity:.5;cursor:not-allowed}.filter-popup .filter-section .text-muted[data-v-414b97ae]{display:block;margin-top:3px;font-size:11px;opacity:.7}.filter-popup .mt-10[data-v-414b97ae]{margin-top:10px}.title-left[data-v-414b97ae]{display:flex}.container-filter-btn[data-v-414b97ae]{display:flex;align-items:center}.container-filter-panel[data-v-414b97ae]{min-width:300px;max-width:400px;max-height:500px;display:flex;flex-direction:column;padding:10px;color:var(--body-text)}.container-filter-panel .filter-search[data-v-414b97ae]{margin-bottom:10px}.container-filter-panel .filter-search input[data-v-414b97ae]{width:100%}.container-filter-panel .filter-app-checkbox[data-v-414b97ae]{margin-bottom:10px;padding:6px 8px}.container-filter-panel .container-list[data-v-414b97ae]{flex:1;overflow-y:auto;max-height:250px;margin-bottom:10px}.container-filter-panel .container-list .container-item[data-v-414b97ae]{display:flex;align-items:center;gap:8px;padding:6px 8px;cursor:pointer;border-radius:4px;transition:background-color .2s;color:var(--body-text)}.container-filter-panel .container-list .container-item[data-v-414b97ae]:hover{background-color:var(--hover-bg)}.container-filter-panel .container-list .container-item.active-nav[data-v-414b97ae],.container-filter-panel .container-list .container-item.is-selected[data-v-414b97ae]{background-color:var(--body-bg);color:var(--body-text)}.container-filter-panel .container-list .container-item.is-sidecar[data-v-414b97ae]{opacity:.8}.container-filter-panel .container-list .container-item[data-v-414b97ae] .checkbox-label,.container-filter-panel .container-list .container-item[data-v-414b97ae] label{color:var(--body-text)}.container-filter-panel .container-list .container-item .badge[data-v-414b97ae]{font-size:10px;padding:2px 6px}.container-filter-panel .filter-section[data-v-414b97ae]{margin-top:15px}.container-filter-panel .filter-section .text-label[data-v-414b97ae]{display:block;margin-bottom:5px;font-size:12px;font-weight:600}.container-filter-panel .filter-section .form-control[data-v-414b97ae]{width:100%;padding:5px 10px;border:1px solid var(--border);border-radius:3px;background-color:var(--input-bg);color:var(--input-text)}.container-filter-panel .filter-section .form-control[data-v-414b97ae]:disabled{opacity:.5;cursor:not-allowed}.container-filter-panel .filter-section .text-muted[data-v-414b97ae]{display:block;margin-top:3px;font-size:11px;opacity:.7}.container-filter-panel .filter-footer[data-v-414b97ae]{display:flex;flex-direction:column;padding-top:10px;border-top:1px solid var(--border)}.container-filter-panel .filter-footer .filter-instruction[data-v-414b97ae]{font-size:12px;color:var(--body-text);line-height:1.4}.filter-indicator[data-v-414b97ae]{display:block;margin-top:5px;font-size:12px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./ApplicationLogs.vue?vue&type=style&index=0&id=414b97ae&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7360499c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, withCtx as _withCtx } from \"vue\"\n\nconst _hoisted_1 = { class: \"pull-left ml-5\" }\nconst _hoisted_2 = { class: \"status pull-left\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"text-success\"\n}\nconst _hoisted_4 = {\n  key: 1,\n  class: \"text-warning\"\n}\nconst _hoisted_5 = {\n  key: 2,\n  class: \"text-error\"\n}\n\nimport { useStore } from 'vuex';\nimport { \n  ref, \n  onMounted, \n  onBeforeUnmount, \n  watch,\n  PropType,\n} from 'vue';\n\nimport Socket, {\n  EVENT_CONNECTED,\n  EVENT_CONNECTING,\n  EVENT_DISCONNECTED,\n  EVENT_MESSAGE,\n  EVENT_CONNECT_ERROR,\n} from '@shell/utils/socket';\nimport { allHash } from '@shell/utils/promise';\nimport { addParams } from '@shell/utils/url';\nimport { base64Decode, base64Encode } from '@shell/utils/crypto';\nimport { useApplicationSocketMixin } from './ApplicationSocketMixin';\n\nimport Select from '@shell/components/form/Select';\nimport Window from '@shell/components/nav/WindowManager/Window';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ApplicationShell',\n  props: {\n  application: {\n    type: Object as PropType<object>,\n    default: null,\n  },\n  endpoint: {\n    type: String as PropType<string>,\n    default: '',\n  },\n  initialInstance: {\n    type: String,\n    default: null,\n  },\n},\n  setup(__props) {\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = __props;\n\nconst {\n  socket,\n  isOpen,\n  backlog,\n  instanceChoices,\n  getRootSocketUrl,\n} = useApplicationSocketMixin(props);\n\nconst active = ref<boolean>(true);\nconst xterm = ref<HTMLElement | null>(null);\nconst instance = ref<string>(props.initialInstance || instanceChoices.value[0]);\nconst terminal = ref<object | null>(null);\nconst fitAddon = ref<object | null>(null);\nconst searchAddon = ref<object | null>(null);\nconst webglAddon = ref<object | null>(null);\nconst isOpening = ref<boolean>(false);\nconst keepAliveTimer = ref<object | null>(null);\nconst xtermConfig = {\n  allowProposedApi: true,\n  cursorBlink:      true,\n  useStyle:         true,\n  fontSize:         12,\n};\n\nwatch(\n  () => instance.value,\n  () => {\n    connect();\n  }\n);\n\nonBeforeUnmount(() => {\n  clearInterval(keepAliveTimer.value);\n  cleanup();\n});\n\nonMounted(async () => {\n  await setupTerminal();\n  await connect();\n\n  isOpen.value = true;\n\n  clearInterval(keepAliveTimer.value);\n  keepAliveTimer.value = setInterval(() => {\n    fit();\n  }, 60 * 1000);\n}); \n\nconst setupTerminal = async () => {\n  const docStyle = getComputedStyle(document.querySelector('body'));\n  const xtermLib = await import('xterm');\n\n  const addons = await allHash({\n    fit:      import('xterm-addon-fit'),\n    webgl:    import('xterm-addon-webgl'),\n    weblinks: import('xterm-addon-web-links'),\n    search:   import('xterm-addon-search'),\n  });\n\n  const terminalTemp = new xtermLib.Terminal({\n    theme: {\n      background: docStyle.getPropertyValue('--terminal-bg').trim(),\n      foreground: docStyle.getPropertyValue('--terminal-text').trim(),\n      cursor: docStyle.getPropertyValue('--terminal-cursor').trim(),\n      selectionBackground: docStyle.getPropertyValue('--terminal-selection').trim(),\n    },\n    ...xtermConfig,\n  });\n\n  fitAddon.value = new addons.fit.FitAddon();\n  searchAddon.value = new addons.search.SearchAddon();\n\n  try {\n    webglAddon.value = new addons.webgl.WebGlAddon();\n  } catch (e: any) { // eslint-disable-line @typescript-eslint/no-unused-vars\n    // Some browsers (Safari) don't support the webgl renderer, so don't use it.\n    webglAddon.value = null;\n  }\n\n  terminalTemp.loadAddon(fitAddon.value);\n  terminalTemp.loadAddon(searchAddon.value);\n  terminalTemp.loadAddon(new addons.weblinks.WebLinksAddon());\n  if (webglAddon.value) {\n    terminalTemp.loadAddon(webglAddon.value);\n  }\n  \n  terminalTemp.open(xterm.value);\n\n  fit();\n  flush();\n\n  terminalTemp.onData((input) => {\n    const msg = `0${ base64Encode(input) }`;\n\n    write(msg);\n  });\n\n  terminal.value = terminalTemp;\n};\n\nconst write = (msg) => {\n  if (isOpen.value) {\n    socket.value.send(msg);\n  } else {\n    backlog.value.push(msg);\n  }\n};\n\nconst clear = () => {\n  terminal.value.clear();\n};\n\nconst getSocketUrl = async () => {\n  const { url, token } = await getRootSocketUrl();\n\n  return addParams(url, {\n    authtoken: token,\n    instance: instance.value,\n  });\n};\n\nconst connect = async () => {\n  if (socket.value) {\n    await socket.value.disconnect();\n    socket.value = null;\n    terminal.value.reset();\n  }\n\n  const url = await getSocketUrl();\n\n  if (!url) {\n    return;\n  }\n\n  socket.value = new Socket(url, false, 0, 'base64.channel.k8s.io');\n\n  socket.value.addEventListener(EVENT_CONNECTING, () => {\n    isOpen.value = false;\n    isOpening.value = true;\n  });\n\n  socket.value.addEventListener(EVENT_CONNECT_ERROR, (e) => {\n    isOpen.value = false;\n    isOpening.value = false;\n    console.error('Connect Error', e);\n  });\n\n  socket.value.addEventListener(EVENT_CONNECTED, () => {\n    isOpen.value = true;\n    isOpening.value = false;\n    fit();\n    flush();\n  });\n\n  socket.value.addEventListener(EVENT_DISCONNECTED, () => {\n    isOpen.value = false;\n    isOpening.value = false;\n  });\n\n  socket.value.addEventListener(EVENT_MESSAGE, (e) => {\n    const type = e.detail.data.substr(0, 1);\n    const msg = base64Decode(e.detail.data.substr(1));\n\n    if (`${ type }` === '1') {\n      terminal.value.write(msg);\n    } else {\n      console.error(msg);\n    }\n  });\n\n  socket.value.connect();\n  terminal.value.focus();\n};\n\nconst flush = () => {\n  const backlogTemp = backlog.value.slice();\n\n  backlog.value = [];\n\n  for (const data of backlogTemp) {\n    socket.value.send(data);\n  }\n};\n\nconst fit = () => {\n  if (!fitAddon.value) {\n    return;\n  }\n  \n  fitAddon.value.fit();\n  const { rows, cols } = fitAddon.value.proposeDimensions();\n\n  if (!isOpen.value) {\n    return;\n  }\n\n  const message = `4${ base64Encode(\n    JSON.stringify({\n      Width:  Math.floor(cols),\n      Height: Math.floor(rows),\n    })\n  ) }`;\n\n  socket.value.send(message);\n};\n\nconst cleanup = () => {\n  if (socket.value) {\n    socket.value.disconnect();\n    socket.value = null;\n  }\n\n  if (terminal.value) {\n    terminal.value.dispose();\n    terminal.value = null;\n  }\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_resize_observer = _resolveComponent(\"resize-observer\")!\n  const _directive_clean_html = _resolveDirective(\"clean-html\")!\n\n  return (_openBlock(), _createBlock(_unref(Window), {\n    active: active.value,\n    \"before-close\": cleanup,\n    class: \"epinio-app-shell\"\n  }, {\n    title: _withCtx(() => [\n      (_unref(instanceChoices).length > 1)\n        ? (_openBlock(), _createBlock(_unref(Select), {\n            key: 0,\n            value: instance.value,\n            \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((instance).value = $event)),\n            disabled: _unref(instanceChoices).length === 1,\n            class: \"containerPicker auto-width pull-left\",\n            options: _unref(instanceChoices),\n            clearable: false,\n            placement: \"top\"\n          }, null, 8, [\"value\", \"disabled\", \"options\"]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"button\", {\n          class: \"btn btn-sm bg-primary\",\n          onClick: clear\n        }, _toDisplayString(_unref(t)('wm.containerShell.clear')), 1)\n      ]),\n      _createElementVNode(\"div\", _hoisted_2, [\n        (_unref(isOpen))\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _toDisplayString(_unref(t)('wm.connection.connected')), 1))\n          : (isOpening.value)\n            ? _withDirectives((_openBlock(), _createElementBlock(\"span\", _hoisted_4, null, 512)), [\n                [_directive_clean_html, _unref(t)('wm.connection.connecting')]\n              ])\n            : (_openBlock(), _createElementBlock(\"span\", _hoisted_5, _toDisplayString(_unref(t)('wm.connection.disconnected')), 1))\n      ])\n    ]),\n    body: _withCtx(() => [\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"shell-container\", { open: _unref(isOpen), closed: !_unref(isOpen) }])\n      }, [\n        _createElementVNode(\"div\", {\n          ref_key: \"xterm\",\n          ref: xterm,\n          class: \"shell-body\"\n        }, null, 512),\n        _createVNode(_component_resize_observer, { onNotify: fit })\n      ], 2)\n    ]),\n    _: 1\n  }, 8, [\"active\"]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { useStore } from 'vuex';\nimport { \n  ref, \n  onMounted, \n  onBeforeUnmount, \n  watch,\n  PropType,\n} from 'vue';\n\nimport Socket, {\n  EVENT_CONNECTED,\n  EVENT_CONNECTING,\n  EVENT_DISCONNECTED,\n  EVENT_MESSAGE,\n  EVENT_CONNECT_ERROR,\n} from '@shell/utils/socket';\nimport { allHash } from '@shell/utils/promise';\nimport { addParams } from '@shell/utils/url';\nimport { base64Decode, base64Encode } from '@shell/utils/crypto';\nimport { useApplicationSocketMixin } from './ApplicationSocketMixin';\n\nimport Select from '@shell/components/form/Select';\nimport Window from '@shell/components/nav/WindowManager/Window';\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = defineProps({\n  application: {\n    type: Object as PropType<object>,\n    default: null,\n  },\n  endpoint: {\n    type: String as PropType<string>,\n    default: '',\n  },\n  initialInstance: {\n    type: String,\n    default: null,\n  },\n});\n\nconst {\n  socket,\n  isOpen,\n  backlog,\n  instanceChoices,\n  getRootSocketUrl,\n} = useApplicationSocketMixin(props);\n\nconst active = ref<boolean>(true);\nconst xterm = ref<HTMLElement | null>(null);\nconst instance = ref<string>(props.initialInstance || instanceChoices.value[0]);\nconst terminal = ref<object | null>(null);\nconst fitAddon = ref<object | null>(null);\nconst searchAddon = ref<object | null>(null);\nconst webglAddon = ref<object | null>(null);\nconst isOpening = ref<boolean>(false);\nconst keepAliveTimer = ref<object | null>(null);\nconst xtermConfig = {\n  allowProposedApi: true,\n  cursorBlink:      true,\n  useStyle:         true,\n  fontSize:         12,\n};\n\nwatch(\n  () => instance.value,\n  () => {\n    connect();\n  }\n);\n\nonBeforeUnmount(() => {\n  clearInterval(keepAliveTimer.value);\n  cleanup();\n});\n\nonMounted(async () => {\n  await setupTerminal();\n  await connect();\n\n  isOpen.value = true;\n\n  clearInterval(keepAliveTimer.value);\n  keepAliveTimer.value = setInterval(() => {\n    fit();\n  }, 60 * 1000);\n}); \n\nconst setupTerminal = async () => {\n  const docStyle = getComputedStyle(document.querySelector('body'));\n  const xtermLib = await import('xterm');\n\n  const addons = await allHash({\n    fit:      import('xterm-addon-fit'),\n    webgl:    import('xterm-addon-webgl'),\n    weblinks: import('xterm-addon-web-links'),\n    search:   import('xterm-addon-search'),\n  });\n\n  const terminalTemp = new xtermLib.Terminal({\n    theme: {\n      background: docStyle.getPropertyValue('--terminal-bg').trim(),\n      foreground: docStyle.getPropertyValue('--terminal-text').trim(),\n      cursor: docStyle.getPropertyValue('--terminal-cursor').trim(),\n      selectionBackground: docStyle.getPropertyValue('--terminal-selection').trim(),\n    },\n    ...xtermConfig,\n  });\n\n  fitAddon.value = new addons.fit.FitAddon();\n  searchAddon.value = new addons.search.SearchAddon();\n\n  try {\n    webglAddon.value = new addons.webgl.WebGlAddon();\n  } catch (e: any) { // eslint-disable-line @typescript-eslint/no-unused-vars\n    // Some browsers (Safari) don't support the webgl renderer, so don't use it.\n    webglAddon.value = null;\n  }\n\n  terminalTemp.loadAddon(fitAddon.value);\n  terminalTemp.loadAddon(searchAddon.value);\n  terminalTemp.loadAddon(new addons.weblinks.WebLinksAddon());\n  if (webglAddon.value) {\n    terminalTemp.loadAddon(webglAddon.value);\n  }\n  \n  terminalTemp.open(xterm.value);\n\n  fit();\n  flush();\n\n  terminalTemp.onData((input) => {\n    const msg = `0${ base64Encode(input) }`;\n\n    write(msg);\n  });\n\n  terminal.value = terminalTemp;\n};\n\nconst write = (msg) => {\n  if (isOpen.value) {\n    socket.value.send(msg);\n  } else {\n    backlog.value.push(msg);\n  }\n};\n\nconst clear = () => {\n  terminal.value.clear();\n};\n\nconst getSocketUrl = async () => {\n  const { url, token } = await getRootSocketUrl();\n\n  return addParams(url, {\n    authtoken: token,\n    instance: instance.value,\n  });\n};\n\nconst connect = async () => {\n  if (socket.value) {\n    await socket.value.disconnect();\n    socket.value = null;\n    terminal.value.reset();\n  }\n\n  const url = await getSocketUrl();\n\n  if (!url) {\n    return;\n  }\n\n  socket.value = new Socket(url, false, 0, 'base64.channel.k8s.io');\n\n  socket.value.addEventListener(EVENT_CONNECTING, () => {\n    isOpen.value = false;\n    isOpening.value = true;\n  });\n\n  socket.value.addEventListener(EVENT_CONNECT_ERROR, (e) => {\n    isOpen.value = false;\n    isOpening.value = false;\n    console.error('Connect Error', e);\n  });\n\n  socket.value.addEventListener(EVENT_CONNECTED, () => {\n    isOpen.value = true;\n    isOpening.value = false;\n    fit();\n    flush();\n  });\n\n  socket.value.addEventListener(EVENT_DISCONNECTED, () => {\n    isOpen.value = false;\n    isOpening.value = false;\n  });\n\n  socket.value.addEventListener(EVENT_MESSAGE, (e) => {\n    const type = e.detail.data.substr(0, 1);\n    const msg = base64Decode(e.detail.data.substr(1));\n\n    if (`${ type }` === '1') {\n      terminal.value.write(msg);\n    } else {\n      console.error(msg);\n    }\n  });\n\n  socket.value.connect();\n  terminal.value.focus();\n};\n\nconst flush = () => {\n  const backlogTemp = backlog.value.slice();\n\n  backlog.value = [];\n\n  for (const data of backlogTemp) {\n    socket.value.send(data);\n  }\n};\n\nconst fit = () => {\n  if (!fitAddon.value) {\n    return;\n  }\n  \n  fitAddon.value.fit();\n  const { rows, cols } = fitAddon.value.proposeDimensions();\n\n  if (!isOpen.value) {\n    return;\n  }\n\n  const message = `4${ base64Encode(\n    JSON.stringify({\n      Width:  Math.floor(cols),\n      Height: Math.floor(rows),\n    })\n  ) }`;\n\n  socket.value.send(message);\n};\n\nconst cleanup = () => {\n  if (socket.value) {\n    socket.value.disconnect();\n    socket.value = null;\n  }\n\n  if (terminal.value) {\n    terminal.value.dispose();\n    terminal.value = null;\n  }\n};\n</script>\n\n<template>\n  <Window\n    :active=\"active\"\n    :before-close=\"cleanup\"\n    class=\"epinio-app-shell\"\n  >\n    <template #title>\n      <Select\n        v-if=\"instanceChoices.length > 1\"\n        v-model:value=\"instance\"\n        :disabled=\"instanceChoices.length === 1\"\n        class=\"containerPicker auto-width pull-left\"\n        :options=\"instanceChoices\"\n        :clearable=\"false\"\n        placement=\"top\"\n      />\n      <div class=\"pull-left ml-5\">\n        <button\n          class=\"btn btn-sm bg-primary\"\n          @click=\"clear\"\n        >\n          {{t('wm.containerShell.clear')}}\n        </button>\n      </div>\n      <div class=\"status pull-left\">\n        <span v-if=\"isOpen\" class=\"text-success\">\n          {{t('wm.connection.connected')}}\n        </span>\n        <span \n          v-else-if=\"isOpening\"\n          v-clean-html=\"t('wm.connection.connecting')\"\n          class=\"text-warning\"\n        />\n        <span \n          v-else\n          class=\"text-error\"\n        >\n          {{t('wm.connection.disconnected')}}\n        </span>\n      </div>\n    </template>\n    <template #body>\n      <div\n        class=\"shell-container\"\n        :class=\"{ open: isOpen, closed: !isOpen }\"\n      >\n        <div\n          ref=\"xterm\"\n          class=\"shell-body\"\n        />\n        <resize-observer @notify=\"fit\" />\n      </div>\n    </template>\n  </Window>\n</template>\n\n<style lang=\"scss\">\n.epinio-app-shell {\n  .v-select.inline.vs--single.vs--open .vs__selected {\n    position: inherit;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.text-warning {\n  animation: flasher 2.5s linear infinite;\n}\n\n@keyframes flasher {\n  50% {\n    opacity: 0;\n  }\n}\n\n.shell-container {\n  height: 100%;\n  overflow: hidden;\n}\n\n.shell-body {\n  padding: calc(2 * var(--outline-width));\n  height: 100%;\n\n  & > .terminal.focus {\n    outline: var(--outline-width) solid var(--outline);\n  }\n}\n\n.containerPicker {\n  ::v-deep &.unlabeled-select {\n    display: inline-block;\n    min-width: 200px;\n    height: 30px;\n    min-height: 30px;\n    width: initial;\n  }\n}\n\n.status {\n  align-items: center;\n  display: flex;\n  min-width: 80px;\n  height: 30px;\n  margin-left: 10px;\n}\n</style>\n","import script from \"./ApplicationShell.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ApplicationShell.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ApplicationShell.vue?vue&type=style&index=0&id=7bc331ac&lang=scss\"\nimport \"./ApplicationShell.vue?vue&type=style&index=1&id=7bc331ac&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7bc331ac\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".epinio-app-shell .v-select.inline.vs--single.vs--open .vs__selected{position:inherit}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { useStore } from 'vuex';\nimport { ref, computed } from 'vue';\n\nimport { EPINIO_MGMT_STORE, EPINIO_PRODUCT_NAME, EPINIO_TYPES } from '../types';\n\nexport function useApplicationSocketMixin(props: any) {\n  const store = useStore();\n  const socket = ref<any>(null);\n  const isOpen = ref<boolean>(false);\n  const backlog = ref<Array<any>>([]);\n\n  const instanceChoices = computed(() => {\n    return props.application.instances.map((instance: any) => instance.id);\n  });\n\n  const getRootSocketUrl = async () => {\n    const { token } = await store.dispatch(\n      `epinio/request`,\n      { opt: { url: '/api/v1/authtoken' } },\n    );\n\n    const isSingleProduct = !!store.getters['isSingleProduct'];\n    let api = '';\n    let prependPath = '';\n\n    console.log(store);\n    if (isSingleProduct) {\n      const cnsi = store.getters[`${ EPINIO_PRODUCT_NAME }/singleProductCNSI`]();\n\n      prependPath = `/pp/v1/direct/ws/${ cnsi?.guid }`;\n    } else {\n      const currentClusterId = store.getters['clusterId'];\n      const currentCluster = store.getters[`${ EPINIO_MGMT_STORE }/byId`](\n        EPINIO_TYPES.CLUSTER,\n        currentClusterId,\n      );\n\n      api = currentCluster.api;\n    }\n\n    return {\n      url: `${ api }${ prependPath }${ props.endpoint }`.replace(/^http/, 'ws'),\n      token\n    };\n  }\n\n  return {\n    socket,\n    isOpen,\n    backlog,\n    instanceChoices,\n    getRootSocketUrl,\n  };\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./ApplicationLogs.vue?vue&type=style&index=1&id=414b97ae&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"34493eb2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, createVNode as _createVNode, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, resolveDirective as _resolveDirective, createTextVNode as _createTextVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"title-inner log-action\" }\nconst _hoisted_2 = { class: \"title-inner-left\" }\nconst _hoisted_3 = { class: \"container-filter-panel\" }\nconst _hoisted_4 = { class: \"filter-search\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"text-center p-10\"\n}\nconst _hoisted_6 = {\n  key: 1,\n  class: \"text-center p-10\"\n}\nconst _hoisted_7 = {\n  key: 2,\n  class: \"container-list\"\n}\nconst _hoisted_8 = [\"onClick\"]\nconst _hoisted_9 = {\n  key: 0,\n  class: \"badge badge-sm bg-warning\"\n}\nconst _hoisted_10 = {\n  key: 1,\n  class: \"badge badge-sm bg-info\"\n}\nconst _hoisted_11 = { class: \"filter-section\" }\nconst _hoisted_12 = { class: \"filter-section\" }\nconst _hoisted_13 = [\"disabled\"]\nconst _hoisted_14 = { class: \"filter-section\" }\nconst _hoisted_15 = [\"disabled\"]\nconst _hoisted_16 = { class: \"filter-footer\" }\nconst _hoisted_17 = { class: \"filter-instruction\" }\nconst _hoisted_18 = { class: \"mt-10\" }\nconst _hoisted_19 = [\"disabled\"]\nconst _hoisted_20 = [\"disabled\"]\nconst _hoisted_21 = [\"disabled\"]\nconst _hoisted_22 = { class: \"title-inner-right\" }\nconst _hoisted_23 = {\n  class: \"status log-action text-center p-10\",\n  style: {\"min-width\":\"80px\"}\n}\nconst _hoisted_24 = { class: \"log-action ml-5\" }\nconst _hoisted_25 = { class: \"filter-popup\" }\nconst _hoisted_26 = { class: \"log-action ml-5\" }\nconst _hoisted_27 = [\"placeholder\"]\nconst _hoisted_28 = {\n  class: \"fixed\",\n  cellpadding: \"0\",\n  cellspacing: \"0\"\n}\nconst _hoisted_29 = { class: \"logs-body\" }\nconst _hoisted_30 = { class: \"time\" }\nconst _hoisted_31 = { class: \"msg\" }\nconst _hoisted_32 = { key: 1 }\nconst _hoisted_33 = {\n  colspan: \"2\",\n  class: \"msg text-muted\"\n}\nconst _hoisted_34 = {\n  key: 0,\n  class: \"filter-indicator\"\n}\nconst _hoisted_35 = { key: 2 }\nconst _hoisted_36 = {\n  colspan: \"2\",\n  class: \"msg text-muted\"\n}\n\nimport { useStore } from 'vuex';\nimport {\n  ref,\n  onMounted,\n  onBeforeUnmount,\n  computed,\n  nextTick,\n  PropType,\n} from 'vue';\n\nimport Socket, {\n  EVENT_CONNECTED,\n  EVENT_DISCONNECTED,\n  EVENT_MESSAGE,\n  EVENT_CONNECT_ERROR\n} from '@shell/utils/socket';\nimport day from 'dayjs';\nimport AnsiUp from 'ansi_up';\nimport { addParams } from '@shell/utils/url';\nimport { downloadFile } from '@shell/utils/download';\nimport { escapeHtml, escapeRegex } from '@shell/utils/string';\nimport { LOGS_TIME, LOGS_WRAP, DATE_FORMAT, TIME_FORMAT } from '@shell/store/prefs';\n\nimport Select from '@shell/components/form/Select';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport Window from '@shell/components/nav/WindowManager/Window';\n\nimport { useApplicationSocketMixin } from './ApplicationSocketMixin';\n\ninterface ContainerInfo {\n  name: string;\n  podName: string;\n  isInitContainer: boolean;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ApplicationLogs',\n  props: {\n  application: {\n    type: Object as PropType<object>,\n    default: null,\n  },\n  endpoint: {\n    type: String as PropType<string>,\n    default: '',\n  },\n  ansiToHtml: {\n    type: Boolean as PropType<boolean>,\n    default: false,\n  },\n  initialInstance: {\n    type:    String,\n    default: null,\n  },\n},\n  setup(__props) {\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = __props;\n\nconst {\n  socket,\n  isOpen,\n  backlog,\n  instanceChoices,\n  getRootSocketUrl,\n} = useApplicationSocketMixin(props);\n\nconst lastId = ref<number>(1);\nconst search = ref<string>('');\nconst instance = ref<string>(props.initialInstance || instanceChoices[0]);\nconst lines = ref<Array<any>>([]);\nconst timerFlush = ref<object>(null);\nconst isFollowing = ref<boolean>(false);\nconst active = ref<boolean>(true);\nconst body = ref<HTMLElement>(null);\nconst isApplyingFilters = ref<boolean>(false);\n\n// Time-based filter parameters\nconst tail = ref<number | null>(null); // Number of lines to show\nconst since = ref<string | null>(null); // Duration like \"1h\", \"30m\", \"24h\"\nconst sinceTime = ref<string | null>(null); // ISO datetime string from native input\n\n// Container filtering state\nconst availableContainers = ref<ContainerInfo[]>([]);\nconst selectedContainers = ref<Set<string>>(new Set());\nconst excludedContainers = ref<Set<string>>(new Set());\nconst filterMode = ref<'include' | 'exclude'>('exclude');\nconst containerSearch = ref<string>('');\nconst loadingContainers = ref<boolean>(false);\n\nconst ansiup = new AnsiUp();\nconst timestamps = store.getters['prefs/get'](LOGS_TIME);\nconst wrap = ref<boolean>(store.getters['prefs/get'](LOGS_WRAP));\n\nonMounted(async () => {\n  await fetchContainers();\n  await connect();\n  let boundUpdateFollowing = updateFollowing.bind(body);\n  body.value.addEventListener('scroll', boundUpdateFollowing);\n  timerFlush.value = setInterval(flush, 100);\n});\n\nonBeforeUnmount(() => {\n  const el = document.querySelector('.logs-container') as HTMLElement;\n  if (el) {\n    el.removeEventListener('scroll', updateFollowing);\n  }\n  cleanup();\n  isOpen.value = false;\n});\n\nconst instanceChoicesWithNone = computed(() => {\n  return [\n    ...instanceChoices.value,\n    {\n      label: 'No Instance Filter',\n      value: null\n    }\n  ];\n});\n\n// Compute active filter count\nconst activeFilterCount = computed(() => {\n  if (filterMode.value === 'include') {\n    return selectedContainers.value.size;\n  } else {\n    return excludedContainers.value.size;\n  }\n});\n\n// Filter containers for the search\nconst filteredContainers = computed(() => {\n  if (!containerSearch.value) {\n    return availableContainers.value;\n  }\n  const searchLower = containerSearch.value.toLowerCase();\n  return availableContainers.value.filter(c =>\n    c.name.toLowerCase().includes(searchLower) ||\n    c.podName.toLowerCase().includes(searchLower)\n  );\n});\n\nconst filtered = computed(() => {\n  let filteredLines = lines.value;\n\n  // Filter out excluded containers from existing logs\n  if (excludedContainers.value.size > 0) {\n    filteredLines = filteredLines.filter(line => {\n      // Extract container name from log line format: [PodName] ContainerName Message\n      const match = line.rawMsg.match(/\\[[^\\]]+\\]\\s+(\\S+)\\s+/);\n      if (match && match[1]) {\n        const containerName = match[1];\n        return !excludedContainers.value.has(containerName);\n      }\n      return true; // Keep line if we can't parse container name\n    });\n  }\n\n  if (!search.value && !instance.value) {\n    return filteredLines;\n  }\n\n  const re = new RegExp(escapeRegex(search.value), 'img');\n  const out = [];\n\n  for (const line of filteredLines) {\n    let msg = line.rawMsg;\n\n    if (instance.value) {\n      const pod = msg.substring(1, msg.length);\n\n      if (!pod.startsWith(instance.value)) {\n        continue;\n      }\n    }\n\n    const matches = msg.match(re);\n\n    if (!matches) {\n      continue;\n    }\n\n    const parts = msg.split(re);\n\n    msg = '';\n    while (parts.length || matches.length) {\n      if (parts.length) {\n        msg += ansiup.ansi_to_html(parts.shift()); // This also escapes\n      }\n\n      if (matches.length) {\n        msg += `<span class=\"highlight\">${ ansiup.ansi_to_html(matches.shift()) }</span>`;\n      }\n    }\n\n    out.push({\n      id:   line.id,\n      time: line.time,\n      msg,\n    });\n  }\n\n  return out;\n});\n\nconst timeFormatStr = computed(() => {\n  const dateFormat = escapeHtml(store.getters['prefs/get'](DATE_FORMAT));\n  const timeFormat = escapeHtml(store.getters['prefs/get'](TIME_FORMAT));\n\n  return `${ dateFormat } ${ timeFormat }`;\n});\n\nconst getSocketUrl = async () => {\n  const { url, token } = await getRootSocketUrl();\n\n  // Build params object with time-based filters\n  const params: any = {\n    follow: true,\n    authtoken: token\n  };\n\n  // Add optional time-based filter parameters if they have values\n  if (tail.value !== null && tail.value > 0) {\n    params.tail = tail.value;\n  }\n\n  // Add time-based filters (since_seconds or since duration)\n  if (sinceTime.value) {\n    const selectedTime = new Date(sinceTime.value).getTime();\n    const secondsAgo = Math.floor((Date.now() - selectedTime) / 1000);\n\n    if (secondsAgo > 0) {\n      params.since_seconds = secondsAgo;\n    }\n  } else if (since.value) {\n    params.since = since.value; // Duration like \"1h\", \"30m\", \"24h\"\n  }\n\n  // Add container filter parameters\n  if (filterMode.value === 'include' && selectedContainers.value.size > 0) {\n    params.include_containers = Array.from(selectedContainers.value).join(',');\n  }\n\n  if (excludedContainers.value.size > 0) {\n    params.exclude_containers = Array.from(excludedContainers.value).join(',');\n  }\n\n  return addParams(url, params);\n};\n\nconst connect = async () => {\n  console.log('Connecting to application logs socket...');\n  // Disconnect existing socket and clear logs\n  if (socket.value) {\n    console.log('Disconnecting existing socket...');\n    await socket.value.disconnect();\n    socket.value = null;\n  }\n  backlog.value = [];\n  lines.value = [];\n\n  const url = await getSocketUrl();\n\n  socket.value = new Socket(url, true, 600000);\n  socket.value.setAutoReconnectUrl(getSocketUrl);\n\n  socket.value.addEventListener(EVENT_CONNECTED, () => {\n    lines.value = [];\n    backlog.value = [];\n    isOpen.value = true;\n  });\n\n  socket.value.addEventListener(EVENT_DISCONNECTED, () => {\n    isOpen.value = false;\n  });\n\n  socket.value.addEventListener(EVENT_CONNECT_ERROR, (e: any) => {\n    isOpen.value = false;\n    console.error('WebSocket Connect Error', e);\n  });\n\n  socket.value.addEventListener(EVENT_MESSAGE, async (e: any) => {\n    let parsedData;\n\n    try {\n      parsedData = JSON.parse(e.detail.data);\n    } catch (e) {\n      console.warn('Unable to parse websocket data: ', e);\n      return;\n    }\n\n    const { PodName, ContainerName, Message, Timestamp } = parsedData;\n\n    // Filter out excluded containers client-side as a safety measure\n    if (ContainerName && excludedContainers.value.has(ContainerName)) {\n      return; // Skip this log if container is excluded\n    }\n\n    // Extract container name from log data if not already discovered\n    // This is especially important for staging logs where pods API may not be available\n    if (ContainerName) {\n      const existingContainer = availableContainers.value.find(c => c.name === ContainerName);\n      if (!existingContainer) {\n        availableContainers.value.push({\n          name: ContainerName,\n          podName: PodName || '',\n          isInitContainer: false, // We can't determine this from log data\n        });\n        // If we were loading containers, mark as complete once we find at least one\n        if (loadingContainers.value && availableContainers.value.length > 0) {\n          loadingContainers.value = false;\n        }\n      }\n    }\n\n    const line = `[${ PodName }] ${ ContainerName } ${ Message }`;\n\n    if (line == \"[]  ___FILTER_START___\") {\n      // Clear existing logs before new filtered logs arrive\n      lines.value = [];\n      backlog.value = [];\n      return;\n    }\n\n    if (line == \"[]  ___FILTER_COMPLETE___\") {\n      isApplyingFilters.value = false;\n      return;\n    }\n\n    backlog.value.push({\n      id:     lastId.value++,\n      msg:    props.ansiToHtml ? ansiup.ansi_to_html(line) : line,\n      rawMsg: line,\n      time:   Timestamp || null,\n    });\n  });\n\n  socket.value.connect();\n};\n\nconst flush = () => {\n  if (backlog.value.length) {\n    lines.value.push(...backlog.value);\n    backlog.value = [];\n  }\n\n  if (isFollowing.value) {\n    nextTick(() => {\n      follow();\n    });\n  }\n};\n\nconst updateFollowing = () => {\n  const el = body.value;\n\n  isFollowing.value = el.scrollTop + el.clientHeight + 2 >= el.scrollHeight;\n};\n\nconst clear = () => {\n  lines.value = [];\n};\n\nconst download = (btnCb) => {\n  const date = new Date().toISOString().split('.')[0];\n  const fileName = `${ props.application.nameDisplay }-${ date }`;\n\n  downloadFile(fileName, lines.value.map((l) => `${ l.rawMsg }`).join('\\n'))\n    .then(() => btnCb(true))\n    .catch(() => btnCb(false));\n};\n\nconst follow = () => {\n  body.value.scrollTop = body.value.scrollHeight;\n};\n\nconst toggleWrap = () => {\n  store.dispatch('prefs/set', { key: LOGS_WRAP, value: wrap.value });\n};\n\nconst format = (time) => {\n  if (!time) {\n    return '';\n  }\n\n  return day(time).format(timeFormatStr.value);\n};\n\nconst cleanup = () => {\n  if (socket.value) {\n    socket.value.disconnect();\n    socket.value = null;\n  }\n\n  clearInterval(timerFlush.value);\n};\n\nconst clearFilters = () => {\n  tail.value = null;\n  since.value = null;\n  sinceTime.value = null;\n  applyFilters();\n};\n\nconst applyFilters = async () => {\n  // Prevent multiple simultaneous reconnections\n  if (isApplyingFilters.value) {\n    return;\n  }\n\n  isApplyingFilters.value = true;\n\n  // Clear existing lines before applying new filters to prevent duplicates\n  lines.value = [];\n  backlog.value = [];\n\n  try {\n    // Clear conflicting filters\n    if (sinceTime.value && since.value) {\n      sinceTime.value = undefined;\n    }\n\n    let sinceTimeParsed = undefined;\n    if (sinceTime.value) {\n      sinceTimeParsed = new Date(sinceTime.value).toISOString();\n    }\n\n    // Build filter params including container filters\n    // If no filters are active, resume following mode\n    // If filters are active, use one-shot mode (follow: false)\n    const hasTimeFilters = tail.value != null || since.value != null || sinceTime.value != null;\n    const hasContainerFilters = (filterMode.value === 'include' && selectedContainers.value.size > 0) || excludedContainers.value.size > 0;\n\n    const filterParams: any = {\n      follow: !hasTimeFilters && !hasContainerFilters, // Follow only when no filters\n      tail: tail.value != null ? tail.value : (!hasTimeFilters && !hasContainerFilters ? 10000 : null),\n      since: since.value,\n      since_time: sinceTimeParsed,\n    };\n\n    // Add container filter parameters\n    if (filterMode.value === 'include' && selectedContainers.value.size > 0) {\n      filterParams.include_containers = Array.from(selectedContainers.value).join(',');\n    }\n\n    if (excludedContainers.value.size > 0) {\n      filterParams.exclude_containers = Array.from(excludedContainers.value).join(',');\n    }\n\n    const payload = {\n      type: 'filter_params',\n      params: filterParams\n    };\n\n    const payload_string = JSON.stringify(payload);\n\n    socket.value.send(payload_string);\n\n    // Safety timeout: reset flag after 5 seconds even if marker not received\n    setTimeout(() => {\n      if (isApplyingFilters.value) {\n        console.warn('Filter complete marker not received, resetting flag');\n        isApplyingFilters.value = false;\n      }\n    }, 5000);\n\n  } catch (e) {\n    console.error('Error applying log filters:', e);\n    isApplyingFilters.value = false;\n  }\n};\n\n// Container filtering functions\nconst fetchContainers = async () => {\n  loadingContainers.value = true;\n  try {\n    const namespace = props.application?.meta?.namespace;\n    const appName = props.application?.meta?.name;\n\n    if (!namespace || !appName) {\n      console.warn('Missing namespace or app name for container fetch');\n      return;\n    }\n\n    const res = await store.dispatch('epinio/request', {\n      url: `/api/v1/namespaces/${ namespace }/applications/${ appName }/pods`\n    });\n\n    const containers: ContainerInfo[] = [];\n\n    if (res && res.data) {\n      for (const pod of res.data) {\n        const podName = pod.name;\n\n        // Add main containers\n        if (pod.containers) {\n          for (const container of pod.containers) {\n            containers.push({\n              name: container.name,\n              podName,\n              isInitContainer: false,\n            });\n          }\n        }\n\n        // Add init containers\n        if (pod.init_containers) {\n          for (const container of pod.init_containers) {\n            containers.push({\n              name: container.name,\n              podName,\n              isInitContainer: true,\n            });\n          }\n        }\n      }\n    }\n\n    availableContainers.value = containers;\n  } catch (e) {\n    console.error('Error fetching containers:', e);\n  } finally {\n    loadingContainers.value = false;\n  }\n};\n\nconst isSidecar = (containerName: string): boolean => {\n  const sidecarPrefixes = ['linkerd-', 'istio-'];\n  return sidecarPrefixes.some(prefix => containerName.startsWith(prefix));\n};\n\nconst toggleContainer = (containerName: string) => {\n  if (filterMode.value === 'include') {\n    if (selectedContainers.value.has(containerName)) {\n      selectedContainers.value.delete(containerName);\n    } else {\n      selectedContainers.value.add(containerName);\n    }\n    selectedContainers.value = new Set(selectedContainers.value);\n  } else {\n    if (excludedContainers.value.has(containerName)) {\n      excludedContainers.value.delete(containerName);\n    } else {\n      excludedContainers.value.add(containerName);\n    }\n    excludedContainers.value = new Set(excludedContainers.value);\n  }\n};\n\nconst isContainerSelected = (containerName: string): boolean => {\n  if (filterMode.value === 'include') {\n    return selectedContainers.value.has(containerName);\n  } else {\n    return excludedContainers.value.has(containerName);\n  }\n};\n\nconst clearContainerFilters = () => {\n  selectedContainers.value.clear();\n  excludedContainers.value.clear();\n  selectedContainers.value = new Set();\n  excludedContainers.value = new Set();\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_VDropdown = _resolveComponent(\"VDropdown\")!\n  const _directive_clean_html = _resolveDirective(\"clean-html\")!\n\n  return (_openBlock(), _createBlock(_unref(Window), {\n    active: active.value,\n    \"before-close\": cleanup,\n    class: \"epinio-app-log\"\n  }, {\n    title: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          (_unref(instanceChoices).length > 1)\n            ? (_openBlock(), _createBlock(_unref(Select), {\n                key: 0,\n                value: instance.value,\n                \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((instance).value = $event)),\n                disabled: _unref(instanceChoices).length === 1,\n                class: \"containerPicker auto-width\",\n                options: instanceChoicesWithNone.value,\n                clearable: true,\n                placement: \"top\",\n                placeholder: \"Filter by Instance\"\n              }, null, 8, [\"value\", \"disabled\", \"options\"]))\n            : _createCommentVNode(\"\", true),\n          _createVNode(_component_VDropdown, {\n            placement: \"bottom-start\",\n            distance: 6\n          }, {\n            popper: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_3, [\n                _createElementVNode(\"div\", _hoisted_4, [\n                  _withDirectives(_createElementVNode(\"input\", {\n                    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((containerSearch).value = $event)),\n                    type: \"text\",\n                    class: \"input-sm\",\n                    placeholder: \"Search containers...\"\n                  }, null, 512), [\n                    [_vModelText, containerSearch.value]\n                  ])\n                ]),\n                (loadingContainers.value)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, \" Loading containers... \"))\n                  : (filteredContainers.value.length === 0)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \" No containers found \"))\n                    : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(filteredContainers.value, (container) => {\n                          return (_openBlock(), _createElementBlock(\"div\", {\n                            key: `${container.podName}-${container.name}`,\n                            class: _normalizeClass([\"container-item\", {\n                      'is-selected': isContainerSelected(container.name),\n                      'is-sidecar': isSidecar(container.name)\n                    }]),\n                            onClick: ($event: any) => (toggleContainer(container.name))\n                          }, [\n                            _createVNode(_unref(Checkbox), {\n                              value: isContainerSelected(container.name),\n                              label: container.name\n                            }, null, 8, [\"value\", \"label\"]),\n                            (isSidecar(container.name))\n                              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, \" Sidecar \"))\n                              : _createCommentVNode(\"\", true),\n                            (container.isInitContainer)\n                              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_10, \" Init \"))\n                              : _createCommentVNode(\"\", true)\n                          ], 10, _hoisted_8))\n                        }), 128))\n                      ])),\n                _createElementVNode(\"div\", _hoisted_11, [\n                  _cache[8] || (_cache[8] = _createElementVNode(\"label\", { class: \"text-label\" }, \"Tail (number of lines)\", -1)),\n                  _withDirectives(_createElementVNode(\"input\", {\n                    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((tail).value = $event)),\n                    type: \"number\",\n                    class: \"form-control\",\n                    placeholder: \"e.g., 100\",\n                    min: \"1\"\n                  }, null, 512), [\n                    [\n                      _vModelText,\n                      tail.value,\n                      void 0,\n                      { number: true }\n                    ]\n                  ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_12, [\n                  _cache[9] || (_cache[9] = _createElementVNode(\"label\", { class: \"text-label\" }, \"Since (duration)\", -1)),\n                  _withDirectives(_createElementVNode(\"input\", {\n                    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((since).value = $event)),\n                    type: \"text\",\n                    class: \"form-control\",\n                    placeholder: \"e.g., 1h, 30m, 24h\",\n                    disabled: !!sinceTime.value\n                  }, null, 8, _hoisted_13), [\n                    [_vModelText, since.value]\n                  ]),\n                  _cache[10] || (_cache[10] = _createElementVNode(\"small\", { class: \"text-muted\" }, \"Use this OR Since Time below\", -1))\n                ]),\n                _createElementVNode(\"div\", _hoisted_14, [\n                  _cache[11] || (_cache[11] = _createElementVNode(\"label\", { class: \"text-label\" }, \"Since Time (absolute date)\", -1)),\n                  _withDirectives(_createElementVNode(\"input\", {\n                    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((sinceTime).value = $event)),\n                    type: \"datetime-local\",\n                    class: \"form-control\",\n                    disabled: !!since.value\n                  }, null, 8, _hoisted_15), [\n                    [_vModelText, sinceTime.value]\n                  ]),\n                  _cache[12] || (_cache[12] = _createElementVNode(\"small\", { class: \"text-muted\" }, \"Use this OR Since above\", -1))\n                ]),\n                _createElementVNode(\"div\", _hoisted_16, [\n                  _createElementVNode(\"p\", _hoisted_17, _toDisplayString(filterMode.value === 'include'\n                      ? 'Selected containers will be included in logs'\n                      : 'Selected containers will be excluded from logs'), 1),\n                  _createElementVNode(\"div\", _hoisted_18, [\n                    _createElementVNode(\"button\", {\n                      class: \"btn btn-sm bg-primary\",\n                      disabled: isApplyingFilters.value,\n                      onClick: applyFilters\n                    }, _toDisplayString(isApplyingFilters.value ? 'Applying...' : 'Apply Filters'), 9, _hoisted_19),\n                    _createElementVNode(\"button\", {\n                      class: \"btn btn-sm bg-warning ml-5\",\n                      disabled: activeFilterCount.value === 0 && !tail.value && !since.value && !sinceTime.value,\n                      onClick: _cache[5] || (_cache[5] = ($event: any) => {clearContainerFilters(); clearFilters();})\n                    }, \" Clear \", 8, _hoisted_20)\n                  ])\n                ])\n              ])\n            ]),\n            default: _withCtx(() => [\n              _cache[13] || (_cache[13] = _createElementVNode(\"button\", { class: \"btn bg-primary ml-5 container-filter-btn\" }, \" Container Filter \", -1))\n            ]),\n            _: 1,\n            __: [13]\n          }),\n          _createElementVNode(\"button\", {\n            class: \"btn bg-primary ml-5\",\n            disabled: isFollowing.value,\n            onClick: follow\n          }, _toDisplayString(_unref(t)('wm.containerLogs.follow')), 9, _hoisted_21),\n          _createElementVNode(\"button\", {\n            class: \"btn bg-primary ml-5\",\n            onClick: clear\n          }, _toDisplayString(_unref(t)('wm.containerLogs.clear')), 1),\n          _createVNode(_unref(AsyncButton), {\n            class: \"ml-5\",\n            mode: \"download\",\n            onClick: download\n          })\n        ]),\n        _cache[15] || (_cache[15] = _createElementVNode(\"div\", { style: {\"flex\":\"1\"} }, null, -1)),\n        _createElementVNode(\"div\", _hoisted_22, [\n          _createElementVNode(\"div\", _hoisted_23, [\n            _createElementVNode(\"span\", {\n              class: _normalizeClass({'text-success': _unref(isOpen), 'text-error': !_unref(isOpen)})\n            }, _toDisplayString(_unref(t)(_unref(isOpen) ? 'wm.connection.connected' : 'wm.connection.disconnected')), 3)\n          ]),\n          _createElementVNode(\"div\", _hoisted_24, [\n            _createVNode(_component_VDropdown, { placement: \"top-end\" }, {\n              popper: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_25, [\n                  _createVNode(_unref(Checkbox), {\n                    value: wrap.value,\n                    \"onUpdate:value\": [\n                      _cache[6] || (_cache[6] = ($event: any) => ((wrap).value = $event)),\n                      toggleWrap\n                    ],\n                    label: _unref(t)('wm.containerLogs.wrap')\n                  }, null, 8, [\"value\", \"label\"])\n                ])\n              ]),\n              default: _withCtx(() => [\n                _cache[14] || (_cache[14] = _createElementVNode(\"button\", { class: \"btn bg-primary\" }, [\n                  _createElementVNode(\"i\", { class: \"icon icon-gear\" })\n                ], -1))\n              ]),\n              _: 1,\n              __: [14]\n            })\n          ]),\n          _createElementVNode(\"div\", _hoisted_26, [\n            _withDirectives(_createElementVNode(\"input\", {\n              \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((search).value = $event)),\n              class: \"input-sm\",\n              type: \"search\",\n              placeholder: _unref(t)('wm.containerLogs.search')\n            }, null, 8, _hoisted_27), [\n              [_vModelText, search.value]\n            ])\n          ])\n        ])\n      ])\n    ]),\n    body: _withCtx(() => [\n      _createElementVNode(\"div\", {\n        ref_key: \"body\",\n        ref: body,\n        class: _normalizeClass({'logs-container': true, 'open': _unref(isOpen), 'closed': !_unref(isOpen), 'show-times': _unref(timestamps) && filtered.value.length, 'wrap-lines': wrap.value})\n      }, [\n        _createElementVNode(\"table\", _hoisted_28, [\n          _createElementVNode(\"tbody\", _hoisted_29, [\n            (filtered.value.length)\n              ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(filtered.value, (line) => {\n                  return (_openBlock(), _createElementBlock(\"tr\", {\n                    key: line.id\n                  }, [\n                    _withDirectives(_createElementVNode(\"td\", _hoisted_30, null, 512), [\n                      [_directive_clean_html, format(line.time)]\n                    ]),\n                    _withDirectives(_createElementVNode(\"td\", _hoisted_31, null, 512), [\n                      [_directive_clean_html, line.msg]\n                    ])\n                  ]))\n                }), 128))\n              : (search.value || activeFilterCount.value > 0)\n                ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_32, [\n                    _createElementVNode(\"td\", _hoisted_33, [\n                      _createTextVNode(_toDisplayString(_unref(t)('wm.containerLogs.noMatch')) + \" \", 1),\n                      (activeFilterCount.value > 0)\n                        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_34, \" (\" + _toDisplayString(filterMode.value === 'include' ? 'Including' : 'Excluding') + \" \" + _toDisplayString(activeFilterCount.value) + \" container\" + _toDisplayString(activeFilterCount.value !== 1 ? 's' : '') + \") \", 1))\n                        : _createCommentVNode(\"\", true)\n                    ])\n                  ]))\n                : (_openBlock(), _createElementBlock(\"tr\", _hoisted_35, [\n                    _createElementVNode(\"td\", _hoisted_36, _toDisplayString(_unref(t)('epinio.applications.wm.noData')), 1)\n                  ]))\n          ])\n        ])\n      ], 2)\n    ]),\n    _: 1\n  }, 8, [\"active\"]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { useStore } from 'vuex';\nimport {\n  ref,\n  onMounted,\n  onBeforeUnmount,\n  computed,\n  nextTick,\n  PropType,\n} from 'vue';\n\nimport Socket, {\n  EVENT_CONNECTED,\n  EVENT_DISCONNECTED,\n  EVENT_MESSAGE,\n  EVENT_CONNECT_ERROR\n} from '@shell/utils/socket';\nimport day from 'dayjs';\nimport AnsiUp from 'ansi_up';\nimport { addParams } from '@shell/utils/url';\nimport { downloadFile } from '@shell/utils/download';\nimport { escapeHtml, escapeRegex } from '@shell/utils/string';\nimport { LOGS_TIME, LOGS_WRAP, DATE_FORMAT, TIME_FORMAT } from '@shell/store/prefs';\n\nimport Select from '@shell/components/form/Select';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport Window from '@shell/components/nav/WindowManager/Window';\n\nimport { useApplicationSocketMixin } from './ApplicationSocketMixin';\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\ninterface ContainerInfo {\n  name: string;\n  podName: string;\n  isInitContainer: boolean;\n}\n\nconst props = defineProps({\n  application: {\n    type: Object as PropType<object>,\n    default: null,\n  },\n  endpoint: {\n    type: String as PropType<string>,\n    default: '',\n  },\n  ansiToHtml: {\n    type: Boolean as PropType<boolean>,\n    default: false,\n  },\n  initialInstance: {\n    type:    String,\n    default: null,\n  },\n});\n\nconst {\n  socket,\n  isOpen,\n  backlog,\n  instanceChoices,\n  getRootSocketUrl,\n} = useApplicationSocketMixin(props);\n\nconst lastId = ref<number>(1);\nconst search = ref<string>('');\nconst instance = ref<string>(props.initialInstance || instanceChoices[0]);\nconst lines = ref<Array<any>>([]);\nconst timerFlush = ref<object>(null);\nconst isFollowing = ref<boolean>(false);\nconst active = ref<boolean>(true);\nconst body = ref<HTMLElement>(null);\nconst isApplyingFilters = ref<boolean>(false);\n\n// Time-based filter parameters\nconst tail = ref<number | null>(null); // Number of lines to show\nconst since = ref<string | null>(null); // Duration like \"1h\", \"30m\", \"24h\"\nconst sinceTime = ref<string | null>(null); // ISO datetime string from native input\n\n// Container filtering state\nconst availableContainers = ref<ContainerInfo[]>([]);\nconst selectedContainers = ref<Set<string>>(new Set());\nconst excludedContainers = ref<Set<string>>(new Set());\nconst filterMode = ref<'include' | 'exclude'>('exclude');\nconst containerSearch = ref<string>('');\nconst loadingContainers = ref<boolean>(false);\n\nconst ansiup = new AnsiUp();\nconst timestamps = store.getters['prefs/get'](LOGS_TIME);\nconst wrap = ref<boolean>(store.getters['prefs/get'](LOGS_WRAP));\n\nonMounted(async () => {\n  await fetchContainers();\n  await connect();\n  let boundUpdateFollowing = updateFollowing.bind(body);\n  body.value.addEventListener('scroll', boundUpdateFollowing);\n  timerFlush.value = setInterval(flush, 100);\n});\n\nonBeforeUnmount(() => {\n  const el = document.querySelector('.logs-container') as HTMLElement;\n  if (el) {\n    el.removeEventListener('scroll', updateFollowing);\n  }\n  cleanup();\n  isOpen.value = false;\n});\n\nconst instanceChoicesWithNone = computed(() => {\n  return [\n    ...instanceChoices.value,\n    {\n      label: 'No Instance Filter',\n      value: null\n    }\n  ];\n});\n\n// Compute active filter count\nconst activeFilterCount = computed(() => {\n  if (filterMode.value === 'include') {\n    return selectedContainers.value.size;\n  } else {\n    return excludedContainers.value.size;\n  }\n});\n\n// Filter containers for the search\nconst filteredContainers = computed(() => {\n  if (!containerSearch.value) {\n    return availableContainers.value;\n  }\n  const searchLower = containerSearch.value.toLowerCase();\n  return availableContainers.value.filter(c =>\n    c.name.toLowerCase().includes(searchLower) ||\n    c.podName.toLowerCase().includes(searchLower)\n  );\n});\n\nconst filtered = computed(() => {\n  let filteredLines = lines.value;\n\n  // Filter out excluded containers from existing logs\n  if (excludedContainers.value.size > 0) {\n    filteredLines = filteredLines.filter(line => {\n      // Extract container name from log line format: [PodName] ContainerName Message\n      const match = line.rawMsg.match(/\\[[^\\]]+\\]\\s+(\\S+)\\s+/);\n      if (match && match[1]) {\n        const containerName = match[1];\n        return !excludedContainers.value.has(containerName);\n      }\n      return true; // Keep line if we can't parse container name\n    });\n  }\n\n  if (!search.value && !instance.value) {\n    return filteredLines;\n  }\n\n  const re = new RegExp(escapeRegex(search.value), 'img');\n  const out = [];\n\n  for (const line of filteredLines) {\n    let msg = line.rawMsg;\n\n    if (instance.value) {\n      const pod = msg.substring(1, msg.length);\n\n      if (!pod.startsWith(instance.value)) {\n        continue;\n      }\n    }\n\n    const matches = msg.match(re);\n\n    if (!matches) {\n      continue;\n    }\n\n    const parts = msg.split(re);\n\n    msg = '';\n    while (parts.length || matches.length) {\n      if (parts.length) {\n        msg += ansiup.ansi_to_html(parts.shift()); // This also escapes\n      }\n\n      if (matches.length) {\n        msg += `<span class=\"highlight\">${ ansiup.ansi_to_html(matches.shift()) }</span>`;\n      }\n    }\n\n    out.push({\n      id:   line.id,\n      time: line.time,\n      msg,\n    });\n  }\n\n  return out;\n});\n\nconst timeFormatStr = computed(() => {\n  const dateFormat = escapeHtml(store.getters['prefs/get'](DATE_FORMAT));\n  const timeFormat = escapeHtml(store.getters['prefs/get'](TIME_FORMAT));\n\n  return `${ dateFormat } ${ timeFormat }`;\n});\n\nconst getSocketUrl = async () => {\n  const { url, token } = await getRootSocketUrl();\n\n  // Build params object with time-based filters\n  const params: any = {\n    follow: true,\n    authtoken: token\n  };\n\n  // Add optional time-based filter parameters if they have values\n  if (tail.value !== null && tail.value > 0) {\n    params.tail = tail.value;\n  }\n\n  // Add time-based filters (since_seconds or since duration)\n  if (sinceTime.value) {\n    const selectedTime = new Date(sinceTime.value).getTime();\n    const secondsAgo = Math.floor((Date.now() - selectedTime) / 1000);\n\n    if (secondsAgo > 0) {\n      params.since_seconds = secondsAgo;\n    }\n  } else if (since.value) {\n    params.since = since.value; // Duration like \"1h\", \"30m\", \"24h\"\n  }\n\n  // Add container filter parameters\n  if (filterMode.value === 'include' && selectedContainers.value.size > 0) {\n    params.include_containers = Array.from(selectedContainers.value).join(',');\n  }\n\n  if (excludedContainers.value.size > 0) {\n    params.exclude_containers = Array.from(excludedContainers.value).join(',');\n  }\n\n  return addParams(url, params);\n};\n\nconst connect = async () => {\n  console.log('Connecting to application logs socket...');\n  // Disconnect existing socket and clear logs\n  if (socket.value) {\n    console.log('Disconnecting existing socket...');\n    await socket.value.disconnect();\n    socket.value = null;\n  }\n  backlog.value = [];\n  lines.value = [];\n\n  const url = await getSocketUrl();\n\n  socket.value = new Socket(url, true, 600000);\n  socket.value.setAutoReconnectUrl(getSocketUrl);\n\n  socket.value.addEventListener(EVENT_CONNECTED, () => {\n    lines.value = [];\n    backlog.value = [];\n    isOpen.value = true;\n  });\n\n  socket.value.addEventListener(EVENT_DISCONNECTED, () => {\n    isOpen.value = false;\n  });\n\n  socket.value.addEventListener(EVENT_CONNECT_ERROR, (e: any) => {\n    isOpen.value = false;\n    console.error('WebSocket Connect Error', e);\n  });\n\n  socket.value.addEventListener(EVENT_MESSAGE, async (e: any) => {\n    let parsedData;\n\n    try {\n      parsedData = JSON.parse(e.detail.data);\n    } catch (e) {\n      console.warn('Unable to parse websocket data: ', e);\n      return;\n    }\n\n    const { PodName, ContainerName, Message, Timestamp } = parsedData;\n\n    // Filter out excluded containers client-side as a safety measure\n    if (ContainerName && excludedContainers.value.has(ContainerName)) {\n      return; // Skip this log if container is excluded\n    }\n\n    // Extract container name from log data if not already discovered\n    // This is especially important for staging logs where pods API may not be available\n    if (ContainerName) {\n      const existingContainer = availableContainers.value.find(c => c.name === ContainerName);\n      if (!existingContainer) {\n        availableContainers.value.push({\n          name: ContainerName,\n          podName: PodName || '',\n          isInitContainer: false, // We can't determine this from log data\n        });\n        // If we were loading containers, mark as complete once we find at least one\n        if (loadingContainers.value && availableContainers.value.length > 0) {\n          loadingContainers.value = false;\n        }\n      }\n    }\n\n    const line = `[${ PodName }] ${ ContainerName } ${ Message }`;\n\n    if (line == \"[]  ___FILTER_START___\") {\n      // Clear existing logs before new filtered logs arrive\n      lines.value = [];\n      backlog.value = [];\n      return;\n    }\n\n    if (line == \"[]  ___FILTER_COMPLETE___\") {\n      isApplyingFilters.value = false;\n      return;\n    }\n\n    backlog.value.push({\n      id:     lastId.value++,\n      msg:    props.ansiToHtml ? ansiup.ansi_to_html(line) : line,\n      rawMsg: line,\n      time:   Timestamp || null,\n    });\n  });\n\n  socket.value.connect();\n};\n\nconst flush = () => {\n  if (backlog.value.length) {\n    lines.value.push(...backlog.value);\n    backlog.value = [];\n  }\n\n  if (isFollowing.value) {\n    nextTick(() => {\n      follow();\n    });\n  }\n};\n\nconst updateFollowing = () => {\n  const el = body.value;\n\n  isFollowing.value = el.scrollTop + el.clientHeight + 2 >= el.scrollHeight;\n};\n\nconst clear = () => {\n  lines.value = [];\n};\n\nconst download = (btnCb) => {\n  const date = new Date().toISOString().split('.')[0];\n  const fileName = `${ props.application.nameDisplay }-${ date }`;\n\n  downloadFile(fileName, lines.value.map((l) => `${ l.rawMsg }`).join('\\n'))\n    .then(() => btnCb(true))\n    .catch(() => btnCb(false));\n};\n\nconst follow = () => {\n  body.value.scrollTop = body.value.scrollHeight;\n};\n\nconst toggleWrap = () => {\n  store.dispatch('prefs/set', { key: LOGS_WRAP, value: wrap.value });\n};\n\nconst format = (time) => {\n  if (!time) {\n    return '';\n  }\n\n  return day(time).format(timeFormatStr.value);\n};\n\nconst cleanup = () => {\n  if (socket.value) {\n    socket.value.disconnect();\n    socket.value = null;\n  }\n\n  clearInterval(timerFlush.value);\n};\n\nconst clearFilters = () => {\n  tail.value = null;\n  since.value = null;\n  sinceTime.value = null;\n  applyFilters();\n};\n\nconst applyFilters = async () => {\n  // Prevent multiple simultaneous reconnections\n  if (isApplyingFilters.value) {\n    return;\n  }\n\n  isApplyingFilters.value = true;\n\n  // Clear existing lines before applying new filters to prevent duplicates\n  lines.value = [];\n  backlog.value = [];\n\n  try {\n    // Clear conflicting filters\n    if (sinceTime.value && since.value) {\n      sinceTime.value = undefined;\n    }\n\n    let sinceTimeParsed = undefined;\n    if (sinceTime.value) {\n      sinceTimeParsed = new Date(sinceTime.value).toISOString();\n    }\n\n    // Build filter params including container filters\n    // If no filters are active, resume following mode\n    // If filters are active, use one-shot mode (follow: false)\n    const hasTimeFilters = tail.value != null || since.value != null || sinceTime.value != null;\n    const hasContainerFilters = (filterMode.value === 'include' && selectedContainers.value.size > 0) || excludedContainers.value.size > 0;\n\n    const filterParams: any = {\n      follow: !hasTimeFilters && !hasContainerFilters, // Follow only when no filters\n      tail: tail.value != null ? tail.value : (!hasTimeFilters && !hasContainerFilters ? 10000 : null),\n      since: since.value,\n      since_time: sinceTimeParsed,\n    };\n\n    // Add container filter parameters\n    if (filterMode.value === 'include' && selectedContainers.value.size > 0) {\n      filterParams.include_containers = Array.from(selectedContainers.value).join(',');\n    }\n\n    if (excludedContainers.value.size > 0) {\n      filterParams.exclude_containers = Array.from(excludedContainers.value).join(',');\n    }\n\n    const payload = {\n      type: 'filter_params',\n      params: filterParams\n    };\n\n    const payload_string = JSON.stringify(payload);\n\n    socket.value.send(payload_string);\n\n    // Safety timeout: reset flag after 5 seconds even if marker not received\n    setTimeout(() => {\n      if (isApplyingFilters.value) {\n        console.warn('Filter complete marker not received, resetting flag');\n        isApplyingFilters.value = false;\n      }\n    }, 5000);\n\n  } catch (e) {\n    console.error('Error applying log filters:', e);\n    isApplyingFilters.value = false;\n  }\n};\n\n// Container filtering functions\nconst fetchContainers = async () => {\n  loadingContainers.value = true;\n  try {\n    const namespace = props.application?.meta?.namespace;\n    const appName = props.application?.meta?.name;\n\n    if (!namespace || !appName) {\n      console.warn('Missing namespace or app name for container fetch');\n      return;\n    }\n\n    const res = await store.dispatch('epinio/request', {\n      url: `/api/v1/namespaces/${ namespace }/applications/${ appName }/pods`\n    });\n\n    const containers: ContainerInfo[] = [];\n\n    if (res && res.data) {\n      for (const pod of res.data) {\n        const podName = pod.name;\n\n        // Add main containers\n        if (pod.containers) {\n          for (const container of pod.containers) {\n            containers.push({\n              name: container.name,\n              podName,\n              isInitContainer: false,\n            });\n          }\n        }\n\n        // Add init containers\n        if (pod.init_containers) {\n          for (const container of pod.init_containers) {\n            containers.push({\n              name: container.name,\n              podName,\n              isInitContainer: true,\n            });\n          }\n        }\n      }\n    }\n\n    availableContainers.value = containers;\n  } catch (e) {\n    console.error('Error fetching containers:', e);\n  } finally {\n    loadingContainers.value = false;\n  }\n};\n\nconst isSidecar = (containerName: string): boolean => {\n  const sidecarPrefixes = ['linkerd-', 'istio-'];\n  return sidecarPrefixes.some(prefix => containerName.startsWith(prefix));\n};\n\nconst toggleContainer = (containerName: string) => {\n  if (filterMode.value === 'include') {\n    if (selectedContainers.value.has(containerName)) {\n      selectedContainers.value.delete(containerName);\n    } else {\n      selectedContainers.value.add(containerName);\n    }\n    selectedContainers.value = new Set(selectedContainers.value);\n  } else {\n    if (excludedContainers.value.has(containerName)) {\n      excludedContainers.value.delete(containerName);\n    } else {\n      excludedContainers.value.add(containerName);\n    }\n    excludedContainers.value = new Set(excludedContainers.value);\n  }\n};\n\nconst isContainerSelected = (containerName: string): boolean => {\n  if (filterMode.value === 'include') {\n    return selectedContainers.value.has(containerName);\n  } else {\n    return excludedContainers.value.has(containerName);\n  }\n};\n\nconst clearContainerFilters = () => {\n  selectedContainers.value.clear();\n  excludedContainers.value.clear();\n  selectedContainers.value = new Set();\n  excludedContainers.value = new Set();\n};\n</script>\n\n<template>\n  <Window\n    :active=\"active\"\n    :before-close=\"cleanup\"\n    class=\"epinio-app-log\"\n  >\n    <template #title>\n      <div class=\"title-inner log-action \">\n        <div class=\"title-inner-left\">\n          <Select\n            v-if=\"instanceChoices.length > 1\"\n            v-model:value=\"instance\"\n            :disabled=\"instanceChoices.length === 1\"\n            class=\"containerPicker auto-width\"\n            :options=\"instanceChoicesWithNone\"\n            :clearable=\"true\"\n            placement=\"top\"\n            placeholder=\"Filter by Instance\"\n          />\n\n          <!-- Container Filter Button -->\n          <VDropdown placement=\"bottom-start\" :distance=\"6\">\n            <button\n              class=\"btn bg-primary ml-5 container-filter-btn\"\n            >\n              Container Filter\n            </button>\n            <template #popper>\n              <div class=\"container-filter-panel\">\n                <div class=\"filter-search\">\n                  <input\n                    v-model=\"containerSearch\"\n                    type=\"text\"\n                    class=\"input-sm\"\n                    placeholder=\"Search containers...\"\n                  >\n                </div>\n\n                <div v-if=\"loadingContainers\" class=\"text-center p-10\">\n                  Loading containers...\n                </div>\n                <div v-else-if=\"filteredContainers.length === 0\" class=\"text-center p-10\">\n                  No containers found\n                </div>\n                <div v-else class=\"container-list\">\n                  <div\n                    v-for=\"container in filteredContainers\"\n                    :key=\"`${container.podName}-${container.name}`\"\n                    class=\"container-item\"\n                    :class=\"{\n                      'is-selected': isContainerSelected(container.name),\n                      'is-sidecar': isSidecar(container.name)\n                    }\"\n                    @click=\"toggleContainer(container.name)\"\n                  >\n                    <Checkbox\n                      :value=\"isContainerSelected(container.name)\"\n                      :label=\"container.name\"\n                    />\n                    <span v-if=\"isSidecar(container.name)\" class=\"badge badge-sm bg-warning\">\n                      Sidecar\n                    </span>\n                    <span v-if=\"container.isInitContainer\" class=\"badge badge-sm bg-info\">\n                      Init\n                    </span>\n                  </div>\n                </div>\n\n                <!-- Time-based filters -->\n                <div class=\"filter-section\">\n                  <label class=\"text-label\">Tail (number of lines)</label>\n                  <input\n                    v-model.number=\"tail\"\n                    type=\"number\"\n                    class=\"form-control\"\n                    placeholder=\"e.g., 100\"\n                    min=\"1\"\n                  >\n                </div>\n\n                <div class=\"filter-section\">\n                  <label class=\"text-label\">Since (duration)</label>\n                  <input\n                    v-model=\"since\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"e.g., 1h, 30m, 24h\"\n                    :disabled=\"!!sinceTime\"\n                  >\n                  <small class=\"text-muted\">Use this OR Since Time below</small>\n                </div>\n\n                <div class=\"filter-section\">\n                  <label class=\"text-label\">Since Time (absolute date)</label>\n                  <input\n                    v-model=\"sinceTime\"\n                    type=\"datetime-local\"\n                    class=\"form-control\"\n                    :disabled=\"!!since\"\n                  >\n                  <small class=\"text-muted\">Use this OR Since above</small>\n                </div>\n\n                <div class=\"filter-footer\">\n                  <p class=\"filter-instruction\">\n                    {{ filterMode === 'include'\n                      ? 'Selected containers will be included in logs'\n                      : 'Selected containers will be excluded from logs' }}\n                  </p>\n                  <div class=\"mt-10\">\n                    <button\n                      class=\"btn btn-sm bg-primary\"\n                      :disabled=\"isApplyingFilters\"\n                      @click=\"applyFilters\"\n                    >\n                      {{ isApplyingFilters ? 'Applying...' : 'Apply Filters' }}\n                    </button>\n                    <button\n                      class=\"btn btn-sm bg-warning ml-5\"\n                      :disabled=\"activeFilterCount === 0 && !tail && !since && !sinceTime\"\n                      @click=\"clearContainerFilters(); clearFilters();\"\n                    >\n                      Clear\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </VDropdown>\n\n          <button\n            class=\"btn bg-primary ml-5\"\n            :disabled=\"isFollowing\"\n            @click=\"follow\"\n          >\n            {{t('wm.containerLogs.follow')}}\n          </button>\n           <button\n            class=\" btn bg-primary ml-5\"\n            @click=\"clear\"\n          >\n            {{t('wm.containerLogs.clear')}}\n          </button>\n          <AsyncButton\n            class=\"ml-5\"\n            mode=\"download\"\n            @click=\"download\"\n          />\n        </div>\n        <div style=\"flex: 1;\" />\n        <div class=\"title-inner-right\">\n          <div\n            class=\"status log-action text-center p-10\"\n            style=\"min-width: 80px;\"\n          >\n            <span :class=\"{'text-success': isOpen, 'text-error': !isOpen}\">\n              {{t(isOpen ? 'wm.connection.connected' : 'wm.connection.disconnected')}}\n            </span>\n          </div>\n          <div class=\"log-action ml-5\">\n            <VDropdown placement=\"top-end\">\n              <button class=\"btn bg-primary\">\n                <i class=\"icon icon-gear\" />\n              </button>\n              <template #popper>\n                <div class=\"filter-popup\">\n                  <Checkbox\n                    v-model:value=\"wrap\"\n                    :label=\"t('wm.containerLogs.wrap')\"\n                    @update:value=\"toggleWrap\"\n                  />\n                </div>\n              </template>\n            </VDropdown>\n          </div>\n          <div class=\"log-action  ml-5\">\n            <input\n              v-model=\"search\"\n              class=\"input-sm\"\n              type=\"search\"\n              :placeholder=\"t('wm.containerLogs.search')\"\n            >\n          </div>\n        </div>\n      </div>\n    </template>\n    <template #body>\n      <div\n        ref=\"body\"\n        :class=\"{'logs-container': true, 'open': isOpen, 'closed': !isOpen, 'show-times': timestamps && filtered.length, 'wrap-lines': wrap}\"\n      >\n        <table\n          class=\"fixed\"\n          cellpadding=\"0\"\n          cellspacing=\"0\"\n        >\n          <tbody class=\"logs-body\">\n            <template v-if=\"filtered.length\">\n              <tr\n                v-for=\"line in filtered\"\n                :key=\"line.id\"\n              >\n                <td\n                  v-clean-html=\"format(line.time)\"\n                  class=\"time\"\n                />\n                <td\n                  v-clean-html=\"line.msg\"\n                  class=\"msg\"\n                />\n              </tr>\n            </template>\n            <tr v-else-if=\"search || activeFilterCount > 0\">\n              <td colspan=\"2\" class=\"msg text-muted\">\n                {{t('wm.containerLogs.noMatch')}}\n                <span v-if=\"activeFilterCount > 0\" class=\"filter-indicator\">\n                  ({{ filterMode === 'include' ? 'Including' : 'Excluding' }} {{ activeFilterCount }} container{{ activeFilterCount !== 1 ? 's' : '' }})\n                </span>\n              </td>\n            </tr>\n            <tr v-else>\n              <td colspan=\"2\" class=\"msg text-muted\">\n                {{t('epinio.applications.wm.noData')}}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </template>\n  </Window>\n</template>\n\n<style lang=\"scss\">\n.epinio-app-log {\n  .v-select.inline.vs--single.vs--open .vs__selected {\n    position: inherit;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n  .title-inner {\n    display: flex;\n    flex-direction: row;\n  }\n  .title-inner {\n    display: flex;\n    flex-direction: row;\n    &-left, &-right {\n      display: flex;\n      flex-direction: row;\n    }\n  }\n\n  .logs-container {\n    height: 100%;\n    overflow: auto;\n    padding: 5px;\n    background-color: var(--logs-bg);\n    font-family: Menlo,Consolas,monospace;\n    color: var(--logs-text);\n\n    .closed {\n      opacity: 0.25;\n    }\n\n    .time {\n      white-space: nowrap;\n      display: none;\n      width: 0;\n      padding-right: 15px;\n      user-select: none;\n    }\n\n    &.show-times .time {\n      display: initial;\n      width: auto;\n    }\n\n    .msg {\n      white-space: nowrap;\n\n      .highlight {\n        color: var(--logs-highlight);\n        background-color: var(--logs-highlight-bg);\n      }\n    }\n\n    &.wrap-lines .msg {\n      white-space: normal;\n    }\n  }\n\n  .containerPicker {\n    ::v-deep &.unlabeled-select {\n      display: inline-block;\n      min-width: 200px;\n      height: 30px;\n      min-height: 30px;\n      width: initial;\n    }\n  }\n\n  .log-action {\n    button {\n      border: 0 !important;\n      min-height: 30px;\n      line-height: 30px;\n    }\n\n    > input {\n      height: 30px;\n    }\n  }\n\n  .status {\n    align-items: center;\n    display: flex;\n    min-width: 80px;\n    height: 30px;\n  }\n\n  .filter-popup {\n    padding: 10px;\n    width: 280px;\n    position: relative;\n    overflow: visible;\n\n    > * {\n      margin-bottom: 10px;\n    }\n\n    .filter-section {\n      margin-top: 15px;\n\n      .text-label {\n        display: block;\n        margin-bottom: 5px;\n        font-size: 12px;\n        font-weight: 600;\n      }\n\n      .form-control {\n        width: 100%;\n        padding: 5px 10px;\n        border: 1px solid var(--border);\n        border-radius: 3px;\n        background-color: var(--input-bg);\n        color: var(--input-text);\n\n        &:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n      }\n\n      .text-muted {\n        display: block;\n        margin-top: 3px;\n        font-size: 11px;\n        opacity: 0.7;\n      }\n    }\n\n    .mt-10 {\n      margin-top: 10px;\n    }\n  }\n\n  .title-left {\n    display: flex;\n  }\n\n  .container-filter-btn {\n    display: flex;\n    align-items: center;\n  }\n\n  .container-filter-panel {\n    min-width: 300px;\n    max-width: 400px;\n    max-height: 500px;\n    display: flex;\n    flex-direction: column;\n    padding: 10px;\n    color: var(--body-text);\n\n\n    .filter-search {\n      margin-bottom: 10px;\n\n      input {\n        width: 100%;\n      }\n    }\n\n    .filter-app-checkbox {\n      margin-bottom: 10px;\n      padding: 6px 8px;\n    }\n\n    .container-list {\n      flex: 1;\n      overflow-y: auto;\n      max-height: 250px;\n      margin-bottom: 10px;\n\n      .container-item {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        padding: 6px 8px;\n        cursor: pointer;\n        border-radius: 4px;\n        transition: background-color 0.2s;\n        color: var(--body-text);\n\n        &:hover {\n          background-color: var(--hover-bg);\n        }\n\n        &.is-selected,\n        &.active-nav {\n          background-color: var(--body-bg);\n          color: var(--body-text);\n        }\n\n        &.is-sidecar {\n          opacity: 0.8;\n        }\n\n        :deep(label),\n        :deep(.checkbox-label) {\n          color: var(--body-text);\n        }\n\n        .badge {\n          font-size: 10px;\n          padding: 2px 6px;\n        }\n      }\n    }\n\n    .filter-section {\n      margin-top: 15px;\n\n      .text-label {\n        display: block;\n        margin-bottom: 5px;\n        font-size: 12px;\n        font-weight: 600;\n      }\n\n      .form-control {\n        width: 100%;\n        padding: 5px 10px;\n        border: 1px solid var(--border);\n        border-radius: 3px;\n        background-color: var(--input-bg);\n        color: var(--input-text);\n\n        &:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n      }\n\n      .text-muted {\n        display: block;\n        margin-top: 3px;\n        font-size: 11px;\n        opacity: 0.7;\n      }\n    }\n\n    .filter-footer {\n      display: flex;\n      flex-direction: column;\n      padding-top: 10px;\n      border-top: 1px solid var(--border);\n\n      .filter-instruction {\n        font-size: 12px;\n        color: var(--body-text);\n        line-height: 1.4;\n      }\n    }\n  }\n\n  .filter-indicator {\n    display: block;\n    margin-top: 5px;\n    font-size: 12px;\n  }\n</style>\n","import script from \"./ApplicationLogs.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ApplicationLogs.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ApplicationLogs.vue?vue&type=style&index=0&id=414b97ae&lang=scss\"\nimport \"./ApplicationLogs.vue?vue&type=style&index=1&id=414b97ae&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-414b97ae\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".epinio-app-log .v-select.inline.vs--single.vs--open .vs__selected{position:inherit}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./ApplicationShell.vue?vue&type=style&index=1&id=7bc331ac&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5ca08394\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".text-warning[data-v-7bc331ac]{animation:flasher-7bc331ac 2.5s linear infinite}@keyframes flasher-7bc331ac{50%{opacity:0}}.shell-container[data-v-7bc331ac]{height:100%;overflow:hidden}.shell-body[data-v-7bc331ac]{padding:calc(var(--outline-width)*2);height:100%}.shell-body>.terminal.focus[data-v-7bc331ac]{outline:var(--outline-width) solid var(--outline)}[data-v-7bc331ac] .containerPicker.unlabeled-select{display:inline-block;min-width:200px;height:30px;min-height:30px;width:auto}.status[data-v-7bc331ac]{align-items:center;display:flex;min-width:80px;height:30px;margin-left:10px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["content","__esModule","default","module","id","locals","exports","add","___CSS_LOADER_EXPORT___","push","_hoisted_1","class","_hoisted_2","_hoisted_3","key","_hoisted_4","_hoisted_5","_defineComponent","__name","props","application","type","Object","endpoint","String","initialInstance","setup","__props","store","useStore","t","getters","socket","isOpen","backlog","instanceChoices","getRootSocketUrl","useApplicationSocketMixin","active","ref","xterm","instance","value","terminal","fitAddon","searchAddon","webglAddon","isOpening","keepAliveTimer","xtermConfig","allowProposedApi","cursorBlink","useStyle","fontSize","watch","connect","onBeforeUnmount","clearInterval","cleanup","onMounted","async","setupTerminal","setInterval","fit","docStyle","getComputedStyle","document","querySelector","xtermLib","addons","allHash","webgl","weblinks","search","terminalTemp","Terminal","theme","background","getPropertyValue","trim","foreground","cursor","selectionBackground","FitAddon","SearchAddon","WebGlAddon","e","loadAddon","WebLinksAddon","open","flush","onData","input","msg","base64Encode","write","send","clear","getSocketUrl","url","token","addParams","authtoken","disconnect","reset","Socket","addEventListener","EVENT_CONNECTING","EVENT_CONNECT_ERROR","console","error","EVENT_CONNECTED","EVENT_DISCONNECTED","EVENT_MESSAGE","detail","data","substr","base64Decode","focus","backlogTemp","slice","rows","cols","proposeDimensions","message","JSON","stringify","Width","Math","floor","Height","dispose","_ctx","_cache","_component_resize_observer","_resolveComponent","_directive_clean_html","_resolveDirective","_openBlock","_createBlock","_unref","Window","title","_withCtx","length","Select","$event","disabled","options","clearable","placement","_createCommentVNode","_createElementVNode","onClick","_toDisplayString","_createElementBlock","_withDirectives","body","_normalizeClass","closed","ref_key","_createVNode","onNotify","_","__exports__","computed","instances","map","dispatch","opt","isSingleProduct","api","prependPath","log","cnsi","EPINIO_PRODUCT_NAME","guid","currentClusterId","currentCluster","EPINIO_MGMT_STORE","EPINIO_TYPES","CLUSTER","replace","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","style","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","cellpadding","cellspacing","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","colspan","_hoisted_34","_hoisted_35","_hoisted_36","ansiToHtml","Boolean","lastId","lines","timerFlush","isFollowing","isApplyingFilters","tail","since","sinceTime","availableContainers","selectedContainers","Set","excludedContainers","filterMode","containerSearch","loadingContainers","ansiup","AnsiUp","timestamps","LOGS_TIME","wrap","LOGS_WRAP","fetchContainers","boundUpdateFollowing","updateFollowing","bind","el","removeEventListener","instanceChoicesWithNone","label","activeFilterCount","size","filteredContainers","searchLower","toLowerCase","filter","c","name","includes","podName","filtered","filteredLines","line","match","rawMsg","containerName","has","re","RegExp","escapeRegex","out","pod","substring","startsWith","matches","parts","split","ansi_to_html","shift","time","timeFormatStr","dateFormat","escapeHtml","DATE_FORMAT","timeFormat","TIME_FORMAT","params","follow","selectedTime","Date","getTime","secondsAgo","now","since_seconds","include_containers","Array","from","join","exclude_containers","setAutoReconnectUrl","parsedData","parse","warn","PodName","ContainerName","Message","Timestamp","existingContainer","find","isInitContainer","nextTick","scrollTop","clientHeight","scrollHeight","download","btnCb","date","toISOString","fileName","nameDisplay","downloadFile","l","then","catch","toggleWrap","format","day","clearFilters","applyFilters","sinceTimeParsed","undefined","hasTimeFilters","hasContainerFilters","filterParams","since_time","payload","payload_string","setTimeout","namespace","meta","appName","res","containers","container","init_containers","isSidecar","sidecarPrefixes","some","prefix","toggleContainer","delete","isContainerSelected","clearContainerFilters","_component_VDropdown","placeholder","distance","popper","_vModelText","_Fragment","_renderList","Checkbox","min","number","__","AsyncButton","mode","_createTextVNode"],"sourceRoot":""}