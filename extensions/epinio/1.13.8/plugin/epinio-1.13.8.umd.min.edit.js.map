{"version":3,"file":"epinio-1.13.8.umd.min.edit.js","mappings":"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","sources":["webpack://epinio-1.13.8/./edit/configurations.vue?e7ae","webpack://epinio-1.13.8/./edit/applications.vue?8e87","webpack://epinio-1.13.8/./edit/applications.vue?b065","webpack://epinio-1.13.8/./edit/services.vue?5fa8","webpack://epinio-1.13.8/./edit/services.vue","webpack://epinio-1.13.8/./edit/services.vue?17cf","webpack://epinio-1.13.8/./edit/applications.vue?0a6e","webpack://epinio-1.13.8/./edit/configurations.vue?8948","webpack://epinio-1.13.8/./edit/configurations.vue","webpack://epinio-1.13.8/./edit/configurations.vue?0141","webpack://epinio-1.13.8/./edit/bind-apps-mixin.ts","webpack://epinio-1.13.8/./edit/applications.vue?c495","webpack://epinio-1.13.8/./edit/applications.vue","webpack://epinio-1.13.8/./edit/applications.vue?fa29","webpack://epinio-1.13.8/./edit/applications.vue?6543","webpack://epinio-1.13.8/./edit/configurations.vue?23d5"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./configurations.vue?vue&type=style&index=0&id=0359b7e1&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2f05de15\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".hide-buttons-deploy .cru__footer{display:none!important}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./applications.vue?vue&type=style&index=1&id=a5bdeaf2&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1bf3116c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createVNode as _createVNode, unref as _unref, createElementVNode as _createElementVNode, isRef as _isRef, withCtx as _withCtx } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = { class: \"col span-6\" }\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = { class: \"col span-6\" }\nconst _hoisted_6 = {\n  key: 1,\n  class: \"row\"\n}\nconst _hoisted_7 = { class: \"col span-6\" }\n\nimport { useStore } from 'vuex';\nimport { ref, computed, reactive, onMounted, watch } from 'vue';\n\nimport {\n  EPINIO_TYPES,\n  EpinioNamespace,\n  EpinioCatalogService,\n} from '../types';\nimport ServiceInstance from '../models/services';\nimport { objValuesToString } from '../utils/settings';\nimport { useEpinioBindAppsMixin } from './bind-apps-mixin';\nimport { useUnsavedChangesMixin } from './unsaved-changes-mixin';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport ChartValues from '../components/settings/ChartValues.vue';\nimport EpinioCatalogServiceModel from '../models/catalogservices';\n\nimport Banner from '@components/Banner/Banner.vue';\nimport Loading from '@shell/components/Loading.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport LabeledSelect from '@shell/components/form/LabeledSelect.vue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription.vue';\nimport { validateKubernetesName } from '@shell/utils/validators/kubernetes-name';\n\nimport isEqual from 'lodash/isEqual';\nimport sortBy from 'lodash/sortBy';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'services',\n  props: {\n    value: {},\n    initialValue: {},\n    mode: {}\n  },\n  setup(__props: any) {\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = __props;\n\nconst {\n  selectedApps,\n  nsAppOptions,\n  noApps,\n  updateServiceInstanceAppBindings,\n} = useEpinioBindAppsMixin(props);\n\nconst { setUnsavedChanges } = useUnsavedChangesMixin();\n\nconst doneRoute = ref<string>('');\nconst pending = ref<boolean>(true);\nconst errors = ref<Array<string>>([]);\nconst doneParams = reactive<object>({});\nconst validChartValues = ref<object>({});\nconst failedWaitingForServiceInstance = ref<boolean>(false);\nconst chartValues = reactive<ChartValues>(objValuesToString(props.value?.settings) || {});\n\nonMounted(async () => {\n  await Promise.all([\n    store.dispatch('epinio/findAll', { type: EPINIO_TYPES.CATALOG_SERVICE }),\n    store.dispatch('epinio/findAll', { type: EPINIO_TYPES.APP }),\n  ]);\n\n  pending.value = false;\n\n  const catalogQuery = store.$router.currentRoute._value.query.catalogservice;\n  if (catalogQuery && !props.value.catalog_service) {\n    props.value.catalog_service = catalogQuery as string;\n  }\n\n  //Needed doneParams/doneRoute but the mixin that generates these is a rancher\n  //shell mixin, copied parts needed, will move to composable function as needed.\n  if (props.value?.doneParams) {\n    return props.value.doneParams;\n  }\n\n  const out = { ...store.$router.currentRoute._value.params };\n\n  delete out.namespace;\n  delete out.id;\n\n  doneParams.value = out;\n\n  if (props.value?.doneRoute ) {\n    doneRoute.value = props.value.doneRoute;\n  }else{\n    let name = props.route.name;\n\n    if ( name?.endsWith('-id') ) {\n      name = name.replace(/(-namespace)?-id$/, '');\n    } else if ( name?.endsWith('-create') ) {\n      name = name.replace(/-create$/, '');\n    }\n\n    doneRoute.value = name;\n  }\n})\n\nwatch(\n  () => props.value.meta.namespace,\n  () => {\n    return selectedApps.value = [];\n  }\n);\n\n// Track changes to mark as unsaved\nwatch([() => props.value, selectedApps, chartValues], () => {\n  setUnsavedChanges(true);\n}, { deep: true });\n\nconst catalogServices = computed(() => {\n  return store.getters['epinio/all'](EPINIO_TYPES.CATALOG_SERVICE);\n});\n\nconst selectedCatalogService = computed(() => {\n  return catalogServices.value?.find(\n    ({id}: EpinioCatalogServiceModel) => id === props.value.catalog_service)\n  ;\n});\n\nconst isEdit = computed(() => {\n  return props.mode === 'edit';\n});\n\nconst validationPassed = computed(() => {\n  if (isEdit.value && newBinds.value) {\n    return true;\n  }\n\n  if (!props.value.catalog_service) {\n    return false;\n  }\n\n  if (!Object.values(validChartValues.value).every((v) => !!v)) {\n    return false;\n  }\n\n  const nameErrors = validateKubernetesName(\n    props.value.name || '',\n    t('epinio.namespace.name'),\n    store.getters,\n    undefined,\n    [],\n  );\n  const nsErrors = validateKubernetesName(\n    props.value.meta.namespace || '',\n    '',\n    store.getters,\n    undefined,\n    [],\n  );\n\n  if (nameErrors.length === 0 && nsErrors.length === 0) {\n    return !failedWaitingForServiceInstance.value;\n  }\n\n  return false;\n});\n\nconst namespaces = computed(() => {\n  return sortBy(\n    store.getters['epinio/all'](EPINIO_TYPES.NAMESPACE),\n    'name',\n    false,\n  );\n});\n\nconst namespaceNames = computed(() => {\n  return namespaces.value.map((n: EpinioNamespace) => n.meta?.name)\n});\n\nconst catalogServiceOpts = computed(() => {\n  return catalogServices.value.map((cs: EpinioCatalogService) => ({\n    label: `${cs.name} (${cs.short_description})`,\n    value: cs.name,\n  }));\n});\n\nconst noCatalogServices = computed(() => {\n  return catalogServices.value.length === 0;\n});\n\nconst newBinds = computed(() => {\n  return !isEqual(sortBy(selectedApps.value), sortBy(props.value.boundapps));\n});\n\nconst showChartValues = computed(() => {\n  return Object.keys(selectedCatalogService.value?.settings || {}).length !== 0;\n});\n\nconst done = () => {\n  if (!doneRoute.value) {\n    return;\n  }\n\n  store.$router.replace({\n    name:   doneRoute.value,\n    params: doneParams.value || { resource: props.value.type },\n  });\n}\n\nconst save = async (saveCb: (success: boolean) => void) => {\n  errors.value = [];\n\n  const newSettings = !isEqual(\n    objValuesToString(chartValues),\n    objValuesToString(props.value.settings),\n  );\n\n  if (newSettings) {\n    props.value.settings = objValuesToString(chartValues.value);\n  }else{\n    props.value.settings = undefined;\n  }\n\n  try {\n    if (!isEdit.value) {\n      await props.value.create();\n      if (selectedApps.value.length) {\n        await updateServiceInstanceAppBindings(props.value);\n      }\n      await store.dispatch(\n        'epinio/findAll',\n        { type: props.value.type, opt: { force: true }},\n      );\n\n      setUnsavedChanges(false); // Clear after successful save\n      saveCb(true);\n      done();\n    }\n\n    if (isEdit.value) {\n      if (newSettings) {\n        await props.value.update();\n      }\n      await updateServiceInstanceAppBindings(props.value);\n      await props.value.forceFetch();\n\n      setUnsavedChanges(false); // Clear after successful save\n      saveCb(true);\n      done();\n\n      //Can't find exactly how this is coming in, seems like a k8s attribute\n      //if (!_isBeingDestroyed || !_isDestroyed) {\n      //}\n    }\n  } catch (err: Error | any) {\n    if (err.message === 'waitingForServiceInstance') {\n      failedWaitingForServiceInstance.value = true;\n      errors.value = [t('epinio.serviceInstance.create.catalogService.failedWaitingForServiceInstance')];\n    } else {\n      errors.value = epinioExceptionToErrorsArray(err);\n    }\n    saveCb(false);\n  }\n};\n\nconst resetChartValues = () => {\n  chartValues.value = {};\n  validChartValues.value = {};\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (!props.value || pending.value)\n    ? (_openBlock(), _createBlock(Loading, { key: 0 }))\n    : (_ctx.value)\n      ? (_openBlock(), _createBlock(CruResource, {\n          key: 1,\n          \"can-yaml\": false,\n          \"done-route\": doneRoute.value,\n          mode: _ctx.mode,\n          \"validation-passed\": validationPassed.value,\n          resource: _ctx.value,\n          errors: errors.value,\n          \"namespace-key\": \"meta.namespace\",\n          onFinish: save,\n          onErrors: _cache[4] || (_cache[4] = e=>errors.value = e)\n        }, {\n          default: _withCtx(() => [\n            (errors.value.length > 0)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(errors.value, (err, i) => {\n                    return (_openBlock(), _createBlock(Banner, {\n                      key: i,\n                      color: \"error\",\n                      label: err\n                    }, null, 8, [\"label\"]))\n                  }), 128))\n                ]))\n              : _createCommentVNode(\"\", true),\n            _createVNode(NameNsDescription, {\n              \"data-testid\": \"epinio_app-info_name-ns\",\n              \"namespaces-override\": namespaceNames.value,\n              \"create-namespace-override\": true,\n              \"description-hidden\": true,\n              value: {metadata: _ctx.value.meta},\n              mode: props.mode\n            }, null, 8, [\"namespaces-override\", \"value\", \"mode\"]),\n            _createElementVNode(\"div\", _hoisted_2, [\n              _createElementVNode(\"div\", _hoisted_3, [\n                _createVNode(LabeledSelect, {\n                  value: _ctx.value.catalog_service,\n                  \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.value.catalog_service) = $event)),\n                  loading: pending.value,\n                  options: catalogServiceOpts.value,\n                  disabled: pending.value || isEdit.value,\n                  searchable: true,\n                  mode: _ctx.mode,\n                  multiple: false,\n                  \"label-key\": 'epinio.serviceInstance.create.catalogService.label',\n                  placeholder: pending.value || noCatalogServices.value ? _unref(t)('epinio.serviceInstance.create.catalogService.placeholderNoOptions') : _unref(t)('epinio.serviceInstance.create.catalogService.placeholderWithOptions'),\n                  required: \"\",\n                  \"onOption:selected\": resetChartValues\n                }, null, 8, [\"value\", \"loading\", \"options\", \"disabled\", \"mode\", \"placeholder\"])\n              ])\n            ]),\n            _cache[6] || (_cache[6] = _createElementVNode(\"div\", { class: \"spacer\" }, null, -1)),\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createVNode(LabeledSelect, {\n                  value: _unref(selectedApps),\n                  \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => (_isRef(selectedApps) ? (selectedApps).value = $event : null)),\n                  loading: pending.value,\n                  options: _unref(nsAppOptions),\n                  disabled: _unref(noApps) || pending.value,\n                  searchable: true,\n                  mode: _ctx.mode,\n                  multiple: true,\n                  \"label-key\": 'epinio.configurations.bindApps.label',\n                  placeholder: pending.value || _unref(noApps) ? _unref(t)('epinio.configurations.bindApps.placeholderNoOptions') : _unref(t)('epinio.configurations.bindApps.placeholderWithOptions')\n                }, null, 8, [\"value\", \"loading\", \"options\", \"disabled\", \"mode\", \"placeholder\"])\n              ])\n            ]),\n            (showChartValues.value)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                  _createElementVNode(\"div\", _hoisted_7, [\n                    _cache[5] || (_cache[5] = _createElementVNode(\"div\", { class: \"spacer\" }, null, -1)),\n                    _createVNode(ChartValues, {\n                      value: chartValues,\n                      \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((chartValues) = $event)),\n                      chart: selectedCatalogService.value.settings,\n                      title: _unref(t)('epinio.services.chartValues.title'),\n                      mode: _ctx.mode,\n                      onValid: _cache[3] || (_cache[3] = ($event: any) => (validChartValues.value = $event))\n                    }, null, 8, [\"value\", \"chart\", \"title\", \"mode\"])\n                  ])\n                ]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1,\n          __: [6]\n        }, 8, [\"done-route\", \"mode\", \"validation-passed\", \"resource\", \"errors\"]))\n      : _createCommentVNode(\"\", true)\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { useStore } from 'vuex';\nimport { ref, computed, reactive, onMounted, watch } from 'vue';\n\nimport {\n  EPINIO_TYPES,\n  EpinioNamespace,\n  EpinioCatalogService,\n} from '../types';\nimport ServiceInstance from '../models/services';\nimport { objValuesToString } from '../utils/settings';\nimport { useEpinioBindAppsMixin } from './bind-apps-mixin';\nimport { useUnsavedChangesMixin } from './unsaved-changes-mixin';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport ChartValues from '../components/settings/ChartValues.vue';\nimport EpinioCatalogServiceModel from '../models/catalogservices';\n\nimport Banner from '@components/Banner/Banner.vue';\nimport Loading from '@shell/components/Loading.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport LabeledSelect from '@shell/components/form/LabeledSelect.vue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription.vue';\nimport { validateKubernetesName } from '@shell/utils/validators/kubernetes-name';\n\nimport isEqual from 'lodash/isEqual';\nimport sortBy from 'lodash/sortBy';\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = defineProps<{\n  value: ServiceInstance,\n  initialValue: ServiceInstance,\n  mode: string,\n}>();\n\nconst {\n  selectedApps,\n  nsAppOptions,\n  noApps,\n  updateServiceInstanceAppBindings,\n} = useEpinioBindAppsMixin(props);\n\nconst { setUnsavedChanges } = useUnsavedChangesMixin();\n\nconst doneRoute = ref<string>('');\nconst pending = ref<boolean>(true);\nconst errors = ref<Array<string>>([]);\nconst doneParams = reactive<object>({});\nconst validChartValues = ref<object>({});\nconst failedWaitingForServiceInstance = ref<boolean>(false);\nconst chartValues = reactive<ChartValues>(objValuesToString(props.value?.settings) || {});\n\nonMounted(async () => {\n  await Promise.all([\n    store.dispatch('epinio/findAll', { type: EPINIO_TYPES.CATALOG_SERVICE }),\n    store.dispatch('epinio/findAll', { type: EPINIO_TYPES.APP }),\n  ]);\n\n  pending.value = false;\n\n  const catalogQuery = store.$router.currentRoute._value.query.catalogservice;\n  if (catalogQuery && !props.value.catalog_service) {\n    props.value.catalog_service = catalogQuery as string;\n  }\n\n  //Needed doneParams/doneRoute but the mixin that generates these is a rancher\n  //shell mixin, copied parts needed, will move to composable function as needed.\n  if (props.value?.doneParams) {\n    return props.value.doneParams;\n  }\n\n  const out = { ...store.$router.currentRoute._value.params };\n\n  delete out.namespace;\n  delete out.id;\n\n  doneParams.value = out;\n\n  if (props.value?.doneRoute ) {\n    doneRoute.value = props.value.doneRoute;\n  }else{\n    let name = props.route.name;\n\n    if ( name?.endsWith('-id') ) {\n      name = name.replace(/(-namespace)?-id$/, '');\n    } else if ( name?.endsWith('-create') ) {\n      name = name.replace(/-create$/, '');\n    }\n\n    doneRoute.value = name;\n  }\n})\n\nwatch(\n  () => props.value.meta.namespace,\n  () => {\n    return selectedApps.value = [];\n  }\n);\n\n// Track changes to mark as unsaved\nwatch([() => props.value, selectedApps, chartValues], () => {\n  setUnsavedChanges(true);\n}, { deep: true });\n\nconst catalogServices = computed(() => {\n  return store.getters['epinio/all'](EPINIO_TYPES.CATALOG_SERVICE);\n});\n\nconst selectedCatalogService = computed(() => {\n  return catalogServices.value?.find(\n    ({id}: EpinioCatalogServiceModel) => id === props.value.catalog_service)\n  ;\n});\n\nconst isEdit = computed(() => {\n  return props.mode === 'edit';\n});\n\nconst validationPassed = computed(() => {\n  if (isEdit.value && newBinds.value) {\n    return true;\n  }\n\n  if (!props.value.catalog_service) {\n    return false;\n  }\n\n  if (!Object.values(validChartValues.value).every((v) => !!v)) {\n    return false;\n  }\n\n  const nameErrors = validateKubernetesName(\n    props.value.name || '',\n    t('epinio.namespace.name'),\n    store.getters,\n    undefined,\n    [],\n  );\n  const nsErrors = validateKubernetesName(\n    props.value.meta.namespace || '',\n    '',\n    store.getters,\n    undefined,\n    [],\n  );\n\n  if (nameErrors.length === 0 && nsErrors.length === 0) {\n    return !failedWaitingForServiceInstance.value;\n  }\n\n  return false;\n});\n\nconst namespaces = computed(() => {\n  return sortBy(\n    store.getters['epinio/all'](EPINIO_TYPES.NAMESPACE),\n    'name',\n    false,\n  );\n});\n\nconst namespaceNames = computed(() => {\n  return namespaces.value.map((n: EpinioNamespace) => n.meta?.name)\n});\n\nconst catalogServiceOpts = computed(() => {\n  return catalogServices.value.map((cs: EpinioCatalogService) => ({\n    label: `${cs.name} (${cs.short_description})`,\n    value: cs.name,\n  }));\n});\n\nconst noCatalogServices = computed(() => {\n  return catalogServices.value.length === 0;\n});\n\nconst newBinds = computed(() => {\n  return !isEqual(sortBy(selectedApps.value), sortBy(props.value.boundapps));\n});\n\nconst showChartValues = computed(() => {\n  return Object.keys(selectedCatalogService.value?.settings || {}).length !== 0;\n});\n\nconst done = () => {\n  if (!doneRoute.value) {\n    return;\n  }\n\n  store.$router.replace({\n    name:   doneRoute.value,\n    params: doneParams.value || { resource: props.value.type },\n  });\n}\n\nconst save = async (saveCb: (success: boolean) => void) => {\n  errors.value = [];\n\n  const newSettings = !isEqual(\n    objValuesToString(chartValues),\n    objValuesToString(props.value.settings),\n  );\n\n  if (newSettings) {\n    props.value.settings = objValuesToString(chartValues.value);\n  }else{\n    props.value.settings = undefined;\n  }\n\n  try {\n    if (!isEdit.value) {\n      await props.value.create();\n      if (selectedApps.value.length) {\n        await updateServiceInstanceAppBindings(props.value);\n      }\n      await store.dispatch(\n        'epinio/findAll',\n        { type: props.value.type, opt: { force: true }},\n      );\n\n      setUnsavedChanges(false); // Clear after successful save\n      saveCb(true);\n      done();\n    }\n\n    if (isEdit.value) {\n      if (newSettings) {\n        await props.value.update();\n      }\n      await updateServiceInstanceAppBindings(props.value);\n      await props.value.forceFetch();\n\n      setUnsavedChanges(false); // Clear after successful save\n      saveCb(true);\n      done();\n\n      //Can't find exactly how this is coming in, seems like a k8s attribute\n      //if (!_isBeingDestroyed || !_isDestroyed) {\n      //}\n    }\n  } catch (err: Error | any) {\n    if (err.message === 'waitingForServiceInstance') {\n      failedWaitingForServiceInstance.value = true;\n      errors.value = [t('epinio.serviceInstance.create.catalogService.failedWaitingForServiceInstance')];\n    } else {\n      errors.value = epinioExceptionToErrorsArray(err);\n    }\n    saveCb(false);\n  }\n};\n\nconst resetChartValues = () => {\n  chartValues.value = {};\n  validChartValues.value = {};\n};\n</script>\n\n<template>\n  <Loading v-if=\"!props.value || pending\" />\n  <CruResource\n    v-else-if=\"value\"\n    :can-yaml=\"false\"\n    :done-route=\"doneRoute\"\n    :mode=\"mode\"\n    :validation-passed=\"validationPassed\"\n    :resource=\"value\"\n    :errors=\"errors\"\n    namespace-key=\"meta.namespace\"\n    @finish=\"save\"\n    @errors=\"e=>errors = e\"\n  >\n    <div v-if=\"errors.length > 0\">\n      <Banner\n        v-for=\"(err, i) in errors\"\n        :key=\"i\"\n        color=\"error\"\n        :label=\"err\"\n      />\n    </div>\n    <NameNsDescription\n      data-testid=\"epinio_app-info_name-ns\"\n      :namespaces-override=\"namespaceNames\"\n      :create-namespace-override=\"true\"\n      :description-hidden=\"true\"\n      :value=\"{metadata: value.meta}\"\n      :mode=\"props.mode\"\n    />\n    <div class=\"row\">\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-model:value=\"value.catalog_service\"\n          :loading=\"pending\"\n          :options=\"catalogServiceOpts\"\n          :disabled=\"pending || isEdit\"\n          :searchable=\"true\"\n          :mode=\"mode\"\n          :multiple=\"false\"\n          :label-key=\"'epinio.serviceInstance.create.catalogService.label'\"\n          :placeholder=\"pending || noCatalogServices ? t('epinio.serviceInstance.create.catalogService.placeholderNoOptions') : t('epinio.serviceInstance.create.catalogService.placeholderWithOptions')\"\n          required\n          @option:selected=\"resetChartValues\"\n        />\n      </div>\n    </div>\n    <div class=\"spacer\" />\n    <div class=\"row\">\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-model:value=\"selectedApps\"\n          :loading=\"pending\"\n          :options=\"nsAppOptions\"\n          :disabled=\"noApps || pending\"\n          :searchable=\"true\"\n          :mode=\"mode\"\n          :multiple=\"true\"\n          :label-key=\"'epinio.configurations.bindApps.label'\"\n          :placeholder=\"pending || noApps ? t('epinio.configurations.bindApps.placeholderNoOptions') : t('epinio.configurations.bindApps.placeholderWithOptions')\"\n        />\n      </div>\n    </div>\n    <div\n      v-if=\"showChartValues\"\n      class=\"row\"\n    >\n      <div class=\"col span-6\">\n        <div class=\"spacer\" />\n        <ChartValues\n          v-model:value=\"chartValues\"\n          :chart=\"selectedCatalogService.settings\"\n          :title=\"t('epinio.services.chartValues.title')\"\n          :mode=\"mode\"\n          @valid=\"validChartValues = $event\"\n        />\n      </div>\n    </div>\n  </CruResource>\n</template>\n","import script from \"./services.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./services.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./applications.vue?vue&type=style&index=0&id=a5bdeaf2&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"01da7a94\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createVNode as _createVNode, isRef as _isRef, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { key: 1 }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = { class: \"col span-6\" }\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = { class: \"col span-11\" }\n\nimport { useStore } from 'vuex';\nimport { ref, computed, onMounted, watch } from 'vue';\n\nimport EpinioConfiguration from '../models/configurations';\nimport { useEpinioBindAppsMixin } from './bind-apps-mixin';\nimport { useUnsavedChangesMixin } from './unsaved-changes-mixin';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport { EPINIO_TYPES, EpinioNamespace } from '../types';\n\nimport { sortBy } from '@shell/utils/sort';\nimport { _EDIT } from '@shell/config/query-params';\nimport Loading from '@shell/components/Loading.vue';\nimport Banner from '@components/Banner/Banner.vue';\nimport KeyValue from '@shell/components/form/KeyValue.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport LabeledSelect from '@shell/components/form/LabeledSelect.vue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription.vue';\nimport { validateKubernetesName } from '@shell/utils/validators/kubernetes-name';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'configurations',\n  props: {\n    value: {},\n    initialValue: {},\n    mode: {}\n  },\n  setup(__props: any) {\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = __props;\n\nconst {\n  doneParams,\n  doneRoute,\n  selectedApps,\n  nsAppOptions,\n  noApps,\n  updateConfigurationAppBindings,\n} = useEpinioBindAppsMixin(props);\n\nconst { setUnsavedChanges } = useUnsavedChangesMixin();\n\nconst errors = ref<Array<any>>([]);\nconst pending = ref<boolean>(true);\nconst validationPassed = ref<boolean>(false);\n\nonMounted(async () => {\n  props.value.meta.namespace = props.initialValue.meta.namespace ||\n    namespaces.value[0]?.metadata.name;\n  props.value.data = { ...props.initialValue.configuration?.details };\n  selectedApps.value = [...props.initialValue.configuration?.boundapps || []];\n\n  updateValidation();\n\n  pending.value = false;\n});\n\n// Track changes to mark as unsaved\nwatch([() => props.value, selectedApps], () => {\n  setUnsavedChanges(true);\n}, { deep: true });\n\nconst isEdit = computed(() => {\n  return props.mode === _EDIT;\n});\n\nconst namespaces = computed(() => {\n  return sortBy(\n    store.getters['epinio/all'](EPINIO_TYPES.NAMESPACE),\n    'name',\n    false,\n  );\n});\n\nconst namespaceNames = computed(() => {\n  console.log('namespaces', namespaces.value);\n  return namespaces.value.map((n: EpinioNamespace) => n.meta?.name);\n});\n\nconst done = () => {\n  if (!doneRoute) {\n    return;\n  }\n\n  store.$router.replace({\n    name:   doneRoute.value,\n    params: doneParams.value || { resource: props.value.type },\n  });\n}\n\nconst save = async (saveCb: (success: boolean) => void) => {\n  errors.value = [];\n\n  try {\n    if (!isEdit.value) {\n      await props.value.create();\n      await updateConfigurationAppBindings();\n      await store.dispatch(\n        'epinio/findAll',\n        { type: props.value.type, opt: { force: true } },\n      );\n    }\n\n    if (isEdit.value) {\n      await props.value.update();\n      await updateConfigurationAppBindings();\n      await props.value.forceFetch();\n    }\n\n    setUnsavedChanges(false); // Clear unsaved changes after successful save\n    saveCb(true);\n    done();\n  } catch (err) {\n    console.log(err);\n    errors.value = epinioExceptionToErrorsArray(err);\n    saveCb(false);\n  }\n};\n\nconst updateValidation = () => {\n  const nameErrors = validateKubernetesName(\n    props.value?.meta.name || '',\n    t('epinio.namespace.name'),\n    store.getters,\n    undefined,\n    [],\n  );\n\n  const nsErrors = validateKubernetesName(\n    props.value?.meta.namespace || '',\n    '',\n    store.getters,\n    undefined,\n    [],\n  );\n\n  if (nameErrors.length === 0 && nsErrors.length === 0) {\n    const dataValues = Object.entries(props.value?.data || {});\n\n    if (!!dataValues.length) { // eslint-disable-line no-extra-boolean-cast\n      validationPassed.value = true;\n      return;\n    }\n  }\n\n  validationPassed.value = false;\n};\n\nwatch(\n  () => props.value.meta.namespace,\n  () => {\n    selectedApps.value = [];\n    updateValidation(); // For when a user is supplying their own ns\n  }\n);\n\nwatch(\n  () => props.value.meta.name,\n  () => {\n    updateValidation();\n  }\n);\n\nwatch(\n  () => props.value.data,\n  () => {\n    updateValidation();\n  },\n  { deep: true }\n);\n\nreturn (_ctx: any,_cache: any) => {\n  return (!_ctx.value || pending.value)\n    ? (_openBlock(), _createBlock(Loading, { key: 0 }))\n    : (_ctx.value)\n      ? (_openBlock(), _createBlock(CruResource, {\n          key: 1,\n          \"min-height\": '7em',\n          mode: _ctx.mode,\n          \"done-route\": _unref(doneRoute),\n          resource: _ctx.value,\n          \"can-yaml\": false,\n          errors: errors.value,\n          \"validation-passed\": validationPassed.value,\n          \"namespace-key\": \"meta.namespace\",\n          onError: _cache[2] || (_cache[2] = (e) => (errors.value = e)),\n          onFinish: save\n        }, {\n          default: _withCtx(() => [\n            (_ctx.value.isServiceRelated)\n              ? (_openBlock(), _createBlock(Banner, {\n                  key: 0,\n                  color: \"info\"\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(_unref(t)('epinio.configurations.tableHeaders.service.tooltip')), 1)\n                  ]),\n                  _: 1\n                }))\n              : _createCommentVNode(\"\", true),\n            (errors.value.length > 0)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(errors.value, (err, i) => {\n                    return (_openBlock(), _createBlock(Banner, {\n                      key: i,\n                      color: \"error\",\n                      label: err\n                    }, null, 8, [\"label\"]))\n                  }), 128))\n                ]))\n              : _createCommentVNode(\"\", true),\n            _createVNode(NameNsDescription, {\n              \"data-testid\": \"epinio_app-info_name-ns\",\n              \"namespaces-override\": namespaceNames.value,\n              \"create-namespace-override\": true,\n              \"description-hidden\": true,\n              value: {metadata: _ctx.value.meta},\n              mode: props.mode\n            }, null, 8, [\"namespaces-override\", \"value\", \"mode\"]),\n            _createElementVNode(\"div\", _hoisted_2, [\n              _createElementVNode(\"div\", _hoisted_3, [\n                _createVNode(LabeledSelect, {\n                  value: _unref(selectedApps),\n                  \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(selectedApps) ? (selectedApps).value = $event : null)),\n                  loading: pending.value,\n                  disabled: _unref(noApps),\n                  options: _unref(nsAppOptions),\n                  searchable: true,\n                  mode: _ctx.mode,\n                  multiple: true,\n                  \"label-key\": 'epinio.configurations.bindApps.label',\n                  placeholder: _unref(noApps) ? _unref(t)('epinio.configurations.bindApps.placeholderNoOptions') : _unref(t)('epinio.configurations.bindApps.placeholderWithOptions')\n                }, null, 8, [\"value\", \"loading\", \"disabled\", \"options\", \"mode\", \"placeholder\"])\n              ])\n            ]),\n            _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"spacer\" }, null, -1)),\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createVNode(KeyValue, {\n                  value: _ctx.value.data,\n                  \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.value.data) = $event)),\n                  \"initial-empty-row\": true,\n                  mode: _ctx.mode,\n                  title: _unref(t)('epinio.configurations.pairs.label'),\n                  \"title-protip\": _unref(t)('epinio.configurations.pairs.tooltip'),\n                  \"key-label\": _unref(t)('epinio.applications.create.envvar.keyLabel'),\n                  \"value-label\": _unref(t)('epinio.applications.create.envvar.valueLabel'),\n                  valueMarkdownMultiline: true,\n                  \"parse-lines-from-file\": true,\n                  \"parse-value-from-file\": true\n                }, null, 8, [\"value\", \"mode\", \"title\", \"title-protip\", \"key-label\", \"value-label\"])\n              ])\n            ])\n          ]),\n          _: 1,\n          __: [3]\n        }, 8, [\"mode\", \"done-route\", \"resource\", \"errors\", \"validation-passed\"]))\n      : _createCommentVNode(\"\", true)\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { useStore } from 'vuex';\nimport { ref, computed, onMounted, watch } from 'vue';\n\nimport EpinioConfiguration from '../models/configurations';\nimport { useEpinioBindAppsMixin } from './bind-apps-mixin';\nimport { useUnsavedChangesMixin } from './unsaved-changes-mixin';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport { EPINIO_TYPES, EpinioNamespace } from '../types';\n\nimport { sortBy } from '@shell/utils/sort';\nimport { _EDIT } from '@shell/config/query-params';\nimport Loading from '@shell/components/Loading.vue';\nimport Banner from '@components/Banner/Banner.vue';\nimport KeyValue from '@shell/components/form/KeyValue.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport LabeledSelect from '@shell/components/form/LabeledSelect.vue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription.vue';\nimport { validateKubernetesName } from '@shell/utils/validators/kubernetes-name';\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = defineProps<{\n  value: EpinioConfiguration,\n  initialValue: EpinioConfiguration,\n  mode: string,\n}>();\n\nconst {\n  doneParams,\n  doneRoute,\n  selectedApps,\n  nsAppOptions,\n  noApps,\n  updateConfigurationAppBindings,\n} = useEpinioBindAppsMixin(props);\n\nconst { setUnsavedChanges } = useUnsavedChangesMixin();\n\nconst errors = ref<Array<any>>([]);\nconst pending = ref<boolean>(true);\nconst validationPassed = ref<boolean>(false);\n\nonMounted(async () => {\n  props.value.meta.namespace = props.initialValue.meta.namespace ||\n    namespaces.value[0]?.metadata.name;\n  props.value.data = { ...props.initialValue.configuration?.details };\n  selectedApps.value = [...props.initialValue.configuration?.boundapps || []];\n\n  updateValidation();\n\n  pending.value = false;\n});\n\n// Track changes to mark as unsaved\nwatch([() => props.value, selectedApps], () => {\n  setUnsavedChanges(true);\n}, { deep: true });\n\nconst isEdit = computed(() => {\n  return props.mode === _EDIT;\n});\n\nconst namespaces = computed(() => {\n  return sortBy(\n    store.getters['epinio/all'](EPINIO_TYPES.NAMESPACE),\n    'name',\n    false,\n  );\n});\n\nconst namespaceNames = computed(() => {\n  console.log('namespaces', namespaces.value);\n  return namespaces.value.map((n: EpinioNamespace) => n.meta?.name);\n});\n\nconst done = () => {\n  if (!doneRoute) {\n    return;\n  }\n\n  store.$router.replace({\n    name:   doneRoute.value,\n    params: doneParams.value || { resource: props.value.type },\n  });\n}\n\nconst save = async (saveCb: (success: boolean) => void) => {\n  errors.value = [];\n\n  try {\n    if (!isEdit.value) {\n      await props.value.create();\n      await updateConfigurationAppBindings();\n      await store.dispatch(\n        'epinio/findAll',\n        { type: props.value.type, opt: { force: true } },\n      );\n    }\n\n    if (isEdit.value) {\n      await props.value.update();\n      await updateConfigurationAppBindings();\n      await props.value.forceFetch();\n    }\n\n    setUnsavedChanges(false); // Clear unsaved changes after successful save\n    saveCb(true);\n    done();\n  } catch (err) {\n    console.log(err);\n    errors.value = epinioExceptionToErrorsArray(err);\n    saveCb(false);\n  }\n};\n\nconst updateValidation = () => {\n  const nameErrors = validateKubernetesName(\n    props.value?.meta.name || '',\n    t('epinio.namespace.name'),\n    store.getters,\n    undefined,\n    [],\n  );\n\n  const nsErrors = validateKubernetesName(\n    props.value?.meta.namespace || '',\n    '',\n    store.getters,\n    undefined,\n    [],\n  );\n\n  if (nameErrors.length === 0 && nsErrors.length === 0) {\n    const dataValues = Object.entries(props.value?.data || {});\n\n    if (!!dataValues.length) { // eslint-disable-line no-extra-boolean-cast\n      validationPassed.value = true;\n      return;\n    }\n  }\n\n  validationPassed.value = false;\n};\n\nwatch(\n  () => props.value.meta.namespace,\n  () => {\n    selectedApps.value = [];\n    updateValidation(); // For when a user is supplying their own ns\n  }\n);\n\nwatch(\n  () => props.value.meta.name,\n  () => {\n    updateValidation();\n  }\n);\n\nwatch(\n  () => props.value.data,\n  () => {\n    updateValidation();\n  },\n  { deep: true }\n);\n</script>\n\n<template>\n  <Loading v-if=\"!value || pending\" />\n  <CruResource\n    v-else-if=\"value\"\n    :min-height=\"'7em'\"\n    :mode=\"mode\"\n    :done-route=\"doneRoute\"\n    :resource=\"value\"\n    :can-yaml=\"false\"\n    :errors=\"errors\"\n    :validation-passed=\"validationPassed\"\n    namespace-key=\"meta.namespace\"\n    @error=\"(e) => (errors = e)\"\n    @finish=\"save\"\n  >\n    <Banner\n      v-if=\"value.isServiceRelated\"\n      color=\"info\"\n    >\n      {{ t('epinio.configurations.tableHeaders.service.tooltip') }}\n    </Banner>\n    <div v-if=\"errors.length > 0\">\n      <Banner\n        v-for=\"(err, i) in errors\"\n        :key=\"i\"\n        color=\"error\"\n        :label=\"err\"\n      />\n    </div>\n    <NameNsDescription\n      data-testid=\"epinio_app-info_name-ns\"\n      :namespaces-override=\"namespaceNames\"\n      :create-namespace-override=\"true\"\n      :description-hidden=\"true\"\n      :value=\"{metadata: value.meta}\"\n      :mode=\"props.mode\"\n    />\n    <div class=\"row\">\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-model:value=\"selectedApps\"\n          :loading=\"pending\"\n          :disabled=\"noApps\"\n          :options=\"nsAppOptions\"\n          :searchable=\"true\"\n          :mode=\"mode\"\n          :multiple=\"true\"\n          :label-key=\"'epinio.configurations.bindApps.label'\"\n          :placeholder=\"noApps ? t('epinio.configurations.bindApps.placeholderNoOptions') : t('epinio.configurations.bindApps.placeholderWithOptions')\"\n        />\n      </div>\n    </div>\n    <div class=\"spacer\" />\n    <div class=\"row\">\n      <div class=\"col span-11\">\n        <KeyValue\n          v-model:value=\"value.data\"\n          :initial-empty-row=\"true\"\n          :mode=\"mode\"\n          :title=\"t('epinio.configurations.pairs.label')\"\n          :title-protip=\"t('epinio.configurations.pairs.tooltip')\"\n          :key-label=\"t('epinio.applications.create.envvar.keyLabel')\"\n          :value-label=\"t('epinio.applications.create.envvar.valueLabel')\"\n          :valueMarkdownMultiline=\"true\"\n          :parse-lines-from-file=\"true\"\n          :parse-value-from-file=\"true\"\n        />\n      </div>\n    </div>\n  </CruResource>\n</template>\n\n<style lang=\"scss\">\n.as-text-area {\n  width: 100% !important;\n}\n\n.value-container .file-selector{\n  margin-bottom: 20px;\n}\n</style>\n","import script from \"./configurations.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./configurations.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./configurations.vue?vue&type=style&index=0&id=0359b7e1&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { useStore } from 'vuex';\nimport { ref, computed } from 'vue';\n\nimport { EPINIO_TYPES } from '../types';\n\nimport { sortBy } from '@shell/utils/sort';\n\nexport function useEpinioBindAppsMixin(props: any) {\n  const selectedApps = ref<Array<string>>(props.value?.boundapps || []);\n  const store = useStore();\n\n  const allApps = computed(() => {\n    return sortBy(\n      store.getters['epinio/all'](EPINIO_TYPES.APP),\n      'meta.name',\n      false,\n    );\n  });\n\n  const nsApps = computed(() => {\n    return allApps.value.filter((a: any) => a.meta.namespace === props.value.meta.namespace);\n  });\n\n  const nsAppOptions = computed(() => {\n    return nsApps.value.map((a: any) => ({\n      label: a.meta.name,\n      value: a.meta.name,\n    }));\n  });\n\n  const noApps = computed(() => {\n    return nsAppOptions.value.length === 0;\n  });\n\n  const updateServiceInstanceAppBindings = async (serviceInstance: any) => {\n    // Service instance must be ready before they can be bound to apps\n    await waitForServiceInstanceReady(serviceInstance);\n    \n    const bindApps = selectedApps.value;\n    const unbindApps = (props.initialValue.boundapps || []).filter(\n      (bA: any) => !bindApps.includes(bA)\n    );\n\n    const promises = [\n      ...bindApps.map((bA) => props.value.bindApp(bA)),\n      ...unbindApps.map((uBA: any) => props.value.unbindApp(uBA))\n    ];\n\n    await Promise.all(promises);\n  };\n\n  const waitForServiceInstanceReady = async (serviceInstance: any) => {\n    // It would be nice to use waitForState here, but we need to manually update until Epinio pumps out updates via socket\n    await serviceInstance.waitForTestFn(() => {\n      const freshServiceInstance = store.getters['epinio/byId'](\n        EPINIO_TYPES.SERVICE_INSTANCE, \n        `${ serviceInstance.meta.namespace }/${ serviceInstance.meta.name }`,\n      );\n\n      if (freshServiceInstance) {\n        return true;\n      }\n      // This is an async fn, but we're in a sync fn. It might create a backlog if previous requests don't complete in time\n      serviceInstance.forceFetch();\n    }, `service instance exists`, 30000, 2000).catch((err: Error) => {\n      console.warn(err);\n      throw new Error('waitingForServiceInstance');\n    });\n\n    // Wait, because `not-ready` does not indicate service is ready to bind to. See https://github.com/epinio/ui/issues/289\n    await new Promise((res) => setTimeout(res, 2000));\n  };\n\n  const updateConfigurationAppBindings = async () => {\n    const bindApps = selectedApps.value;\n    const unbindApps = (props.initialValue.configuration?.boundapps || []).\n      filter((bA: any) => !bindApps.includes(bA));\n\n    const delta = nsApps.value.reduce((res: any, nsA: any) => {\n      const appName = nsA.metadata.name;\n      const configName = props.value.metadata.name;\n\n      const toBind = [];\n      const toUnbind = [];\n\n      if (bindApps.includes(appName) && !nsA.configuration.configurations.includes(configName)) {\n        toBind.push(configName);\n      } else if (unbindApps.includes(appName)) {\n        const index = nsA.configuration.configurations.indexOf(configName);\n\n        if (index >= 0) {\n          toUnbind.push(configName);\n        }\n      }\n\n      res.push(nsA.bindConfigurations(toBind));\n      res.push(nsA.unbindConfiguration(toUnbind));\n\n      return res;\n    }, []);\n\n    if (delta.length) {\n      await Promise.all(delta);\n      await props.value.forceFetch();\n    }\n  };\n\n  const doneParams = computed(() => {\n    if (props.value?.doneParams) {\n      return props.value.doneParams;\n    }\n    \n    const out = { ...(store as any).$router.currentRoute._value.params };\n\n    delete out.namespace;\n    delete out.id;\n\n    return out;\n  });\n\n  const doneRoute = computed(() => {\n    let route: string = '';\n\n    if (props.value?.doneRoute ) {\n      route = props.value.doneRoute;\n    }else{\n      let name = props.route.name;\n\n      if ( name?.endsWith('-id') ) {\n        name = name.replace(/(-namespace)?-id$/, '');\n      } else if ( name?.endsWith('-create') ) {\n        name = name.replace(/-create$/, '');\n      }\n\n      route = name;\n    }\n\n    return route;\n  });\n\n  return {\n    doneParams,\n    doneRoute,\n    selectedApps,\n    allApps,\n    nsApps,\n    nsAppOptions,\n    noApps,\n    updateServiceInstanceAppBindings,\n    waitForServiceInstanceReady,\n    updateConfigurationAppBindings,\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, unref as _unref, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { class: \"wizard-container\" }\n\nimport { ref, reactive, computed, onMounted, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport Application from '../models/applications';\nimport CruResource from '@shell/components/CruResource.vue';\nimport ResourceTabs from '@shell/components/form/ResourceTabs/index.vue';\nimport Tab from '@shell/components/Tabbed/Tab.vue';\nimport Loading from '@shell/components/Loading.vue';\nimport AppInfo from '../components/application/AppInfo.vue';\nimport AppConfiguration from '../components/application/AppConfiguration.vue';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport { useEpinioBindAppsMixin } from './bind-apps-mixin';\nimport { useUnsavedChangesMixin } from './unsaved-changes-mixin';\n\nimport Wizard from '@shell/components/Wizard.vue';\nimport { createEpinioRoute } from '../utils/custom-routing';\nimport AppSource from '../components/application/AppSource.vue';\nimport AppProgress from '../components/application/AppProgress.vue';\nimport { EpinioAppSource, EPINIO_TYPES, EpinioAppInfo, EpinioAppBindings } from '../types';\nimport { allHash } from '@shell/utils/promise';\nimport { _EDIT } from '@shell/config/query-params';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'applications',\n  props: {\n    value: {},\n    initialValue: {},\n    mode: {}\n  },\n  setup(__props: any) {\n\nconst props = __props;\n\nconst {\n  doneParams,\n  doneRoute,\n} = useEpinioBindAppsMixin(props);\n\nconst { setUnsavedChanges } = useUnsavedChangesMixin();\n\nconst store = useStore();\n\nconst t = store.getters['i18n/t'];\n\nconst bindings = reactive<EpinioAppBindings>({ configurations: [], services: [] });\nconst source = ref<EpinioAppSource>(props.value.appSource);\nconst errors = ref<string[]>([]);\nconst epinioInfo = ref();\nconst tabErrors = reactive<{ appInfo: boolean }>({ appInfo: false });\n\nconst steps = reactive([\n  {\n    name: 'source',\n    label: t('epinio.applications.steps.source.label'),\n    subtext: t('epinio.applications.steps.source.subtext'),\n    ready: false,\n    nextButton: {\n      labelKey: 'epinio.applications.steps.configurations.update',\n      style: 'btn role-primary bg-warning'\n    }\n  },\n  {\n    name: 'progress',\n    label: t('epinio.applications.steps.progress.label'),\n    subtext: t('epinio.applications.steps.progress.subtext'),\n    ready: false,\n    previousButton: { disable: true }\n  },\n]);\n\nif (source.value.git && store.$router.currentRoute._value.query?.commit) {\n  source.value.git.commit = store.$router.currentRoute._value.query.commit as string;\n}\n\nonMounted(async () => {\n  const hash = await allHash({\n    ns: store.dispatch('epinio/findAll', { type: EPINIO_TYPES.NAMESPACE }),\n    charts: store.dispatch('epinio/findAll', { type: EPINIO_TYPES.APP_CHARTS }),\n    info: store.dispatch('epinio/info'),\n  });\n  epinioInfo.value = (hash as { info: any }).info;\n});\n\n// Track changes to mark as unsaved\nwatch([bindings, source], () => {\n  setUnsavedChanges(true);\n}, { deep: true });\n\nconst shouldShowButtons = computed(\n  () => (store.$router.currentRoute.value.hash === '#source' ? 'hide-buttons-deploy' : '')\n);\nconst showSourceTab = computed(() => {\n  return props.mode === _EDIT\n});\nconst validationPassed = computed(() => !Object.values(tabErrors).find((error) => error));\n\nconst done = () => {\n  if (!doneRoute) {\n    return;\n  }\n\n  store.$router.replace({\n    name:   doneRoute.value,\n    params: doneParams.value || { resource: props.value.type },\n  });\n}\n\n\nasync function save(saveCb: (success: boolean) => void) {\n  errors.value = [];\n  try {\n    await props.value.update();\n\n    await props.value.updateConfigurations(\n      props.initialValue.baseConfigurationsNames || [],\n      bindings.configurations || [],\n    );\n\n    await props.value.updateServices(\n      props.initialValue.services || [],\n      bindings.services || [],\n    );\n\n    await props.value.forceFetch();\n    setUnsavedChanges(false); // Clear unsaved changes after successful save\n    saveCb(true);\n    done();\n  } catch (err) {\n    errors.value = epinioExceptionToErrorsArray(err);\n    saveCb(false);\n  }\n}\n\nfunction set(obj: Record<string, any>, changes: Record<string, any>) {\n  Object.entries(changes).forEach(([key, value]) => {\n    obj[key] = value;\n  });\n}\n\nfunction updateInfo(changes: EpinioAppInfo) {\n  props.value.meta = props.value.meta || {};\n  props.value.configuration = props.value.configuration || {};\n  set(props.value.meta, changes.meta);\n  set(props.value.configuration, changes.configuration);\n}\n\nfunction updateConfigurations(changes: EpinioAppBindings) {\n  Object.assign(bindings, changes);\n}\n\nfunction cancel() {\n  store.$router.replace(props.value.listLocation);\n}\n\nfunction finish() {\n  store.$router.replace(createEpinioRoute(`c-cluster-resource-id`, {\n    cluster: store.getters['clusterId'],\n    resource: props.value.type,\n    id: `${props.value.meta.namespace}/${props.value.meta.name}`,\n  }));\n}\n\nfunction updateSource(changes: EpinioAppSource) {\n  source.value = {} as EpinioAppSource;\n  const { appChart, ...cleanChanges } = changes;\n\n  props.value.configuration = props.value.configuration || {};\n\n  if (appChart) {\n    set(props.value.configuration, { appchart: appChart });\n  }\n\n  set(source.value, cleanChanges);\n}\n\nfunction updateManifestConfigurations(changes: string[]) {\n  set(props.value.configuration, { configurations: changes });\n}\n\nfunction validate(value: boolean, tab: string) {\n  if (tab) {\n    tabErrors[tab] = !value;\n  }\n\n  steps[0].ready = value;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (!_ctx.value)\n    ? (_openBlock(), _createBlock(Loading, { key: 0 }))\n    : (_openBlock(), _createBlock(CruResource, {\n        key: 1,\n        class: _normalizeClass(shouldShowButtons.value),\n        \"can-yaml\": false,\n        mode: _ctx.mode,\n        resource: _ctx.value,\n        errors: errors.value,\n        \"validation-passed\": validationPassed.value,\n        onError: _cache[2] || (_cache[2] = (e) => errors.value = _unref(epinioExceptionToErrorsArray)(e)),\n        onFinish: save\n      }, {\n        default: _withCtx(() => [\n          _createVNode(ResourceTabs, { mode: \"mode\" }, {\n            default: _withCtx(() => [\n              (showSourceTab.value)\n                ? (_openBlock(), _createBlock(Tab, {\n                    key: 0,\n                    \"label-key\": \"epinio.applications.steps.source.label\",\n                    name: \"source\",\n                    weight: 30\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_1, [\n                        _createVNode(Wizard, {\n                          class: \"wizard\",\n                          steps: steps,\n                          \"banner-title\": _unref(t)('epinio.applications.steps.source.label'),\n                          \"banner-title-subtext\": _unref(t)('epinio.applications.steps.source.subtext'),\n                          \"header-mode\": \"edit\",\n                          \"finish-mode\": \"done\",\n                          \"edit-first-step\": true,\n                          onCancel: cancel,\n                          onFinish: finish\n                        }, {\n                          source: _withCtx(() => [\n                            (source.value && epinioInfo.value)\n                              ? (_openBlock(), _createBlock(AppSource, {\n                                  key: 0,\n                                  application: _ctx.value,\n                                  source: source.value,\n                                  mode: _ctx.mode,\n                                  info: epinioInfo.value,\n                                  onChange: updateSource,\n                                  onChangeAppInfo: updateInfo,\n                                  onChangeAppConfig: updateManifestConfigurations,\n                                  onValid: _cache[0] || (_cache[0] = ($event: any) => (steps[0].ready = $event))\n                                }, null, 8, [\"application\", \"source\", \"mode\", \"info\"]))\n                              : _createCommentVNode(\"\", true)\n                          ]),\n                          progress: _withCtx(({step}) => [\n                            _createVNode(AppProgress, {\n                              application: _ctx.value,\n                              source: source.value,\n                              bindings: bindings,\n                              mode: _ctx.mode,\n                              step: step\n                            }, null, 8, [\"application\", \"source\", \"bindings\", \"mode\", \"step\"])\n                          ]),\n                          _: 1\n                        }, 8, [\"steps\", \"banner-title\", \"banner-title-subtext\"])\n                      ])\n                    ]),\n                    _: 1\n                  }))\n                : _createCommentVNode(\"\", true),\n              _createVNode(Tab, {\n                \"label-key\": \"epinio.applications.steps.basics.label\",\n                name: \"info\",\n                weight: 20,\n                error: tabErrors.appInfo\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(AppInfo, {\n                    application: _ctx.value,\n                    mode: _ctx.mode,\n                    onChange: updateInfo,\n                    onValid: _cache[1] || (_cache[1] = ($event: any) => (validate($event, 'appInfo')))\n                  }, null, 8, [\"application\", \"mode\"])\n                ]),\n                _: 1\n              }, 8, [\"error\"]),\n              _createVNode(Tab, {\n                \"label-key\": \"epinio.applications.steps.configurations.label\",\n                name: \"configurations\",\n                weight: 10\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(AppConfiguration, {\n                    application: _ctx.value,\n                    \"initial-application\": _ctx.initialValue,\n                    mode: _ctx.mode,\n                    onChange: updateConfigurations\n                  }, null, 8, [\"application\", \"initial-application\", \"mode\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"class\", \"mode\", \"resource\", \"errors\", \"validation-passed\"]))\n}\n}\n\n})","<script lang=\"ts\" setup>\nimport { ref, reactive, computed, onMounted, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport Application from '../models/applications';\nimport CruResource from '@shell/components/CruResource.vue';\nimport ResourceTabs from '@shell/components/form/ResourceTabs/index.vue';\nimport Tab from '@shell/components/Tabbed/Tab.vue';\nimport Loading from '@shell/components/Loading.vue';\nimport AppInfo from '../components/application/AppInfo.vue';\nimport AppConfiguration from '../components/application/AppConfiguration.vue';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport { useEpinioBindAppsMixin } from './bind-apps-mixin';\nimport { useUnsavedChangesMixin } from './unsaved-changes-mixin';\n\nimport Wizard from '@shell/components/Wizard.vue';\nimport { createEpinioRoute } from '../utils/custom-routing';\nimport AppSource from '../components/application/AppSource.vue';\nimport AppProgress from '../components/application/AppProgress.vue';\nimport { EpinioAppSource, EPINIO_TYPES, EpinioAppInfo, EpinioAppBindings } from '../types';\nimport { allHash } from '@shell/utils/promise';\nimport { _EDIT } from '@shell/config/query-params';\n\nconst props = defineProps<{ \n  value: Application;\n  initialValue: Application;\n  mode: string;\n}>();\n\nconst {\n  doneParams,\n  doneRoute,\n} = useEpinioBindAppsMixin(props);\n\nconst { setUnsavedChanges } = useUnsavedChangesMixin();\n\nconst store = useStore();\n\nconst t = store.getters['i18n/t'];\n\nconst bindings = reactive<EpinioAppBindings>({ configurations: [], services: [] });\nconst source = ref<EpinioAppSource>(props.value.appSource);\nconst errors = ref<string[]>([]);\nconst epinioInfo = ref();\nconst tabErrors = reactive<{ appInfo: boolean }>({ appInfo: false });\n\nconst steps = reactive([\n  {\n    name: 'source',\n    label: t('epinio.applications.steps.source.label'),\n    subtext: t('epinio.applications.steps.source.subtext'),\n    ready: false,\n    nextButton: {\n      labelKey: 'epinio.applications.steps.configurations.update',\n      style: 'btn role-primary bg-warning'\n    }\n  },\n  {\n    name: 'progress',\n    label: t('epinio.applications.steps.progress.label'),\n    subtext: t('epinio.applications.steps.progress.subtext'),\n    ready: false,\n    previousButton: { disable: true }\n  },\n]);\n\nif (source.value.git && store.$router.currentRoute._value.query?.commit) {\n  source.value.git.commit = store.$router.currentRoute._value.query.commit as string;\n}\n\nonMounted(async () => {\n  const hash = await allHash({\n    ns: store.dispatch('epinio/findAll', { type: EPINIO_TYPES.NAMESPACE }),\n    charts: store.dispatch('epinio/findAll', { type: EPINIO_TYPES.APP_CHARTS }),\n    info: store.dispatch('epinio/info'),\n  });\n  epinioInfo.value = (hash as { info: any }).info;\n});\n\n// Track changes to mark as unsaved\nwatch([bindings, source], () => {\n  setUnsavedChanges(true);\n}, { deep: true });\n\nconst shouldShowButtons = computed(\n  () => (store.$router.currentRoute.value.hash === '#source' ? 'hide-buttons-deploy' : '')\n);\nconst showSourceTab = computed(() => {\n  return props.mode === _EDIT\n});\nconst validationPassed = computed(() => !Object.values(tabErrors).find((error) => error));\n\nconst done = () => {\n  if (!doneRoute) {\n    return;\n  }\n\n  store.$router.replace({\n    name:   doneRoute.value,\n    params: doneParams.value || { resource: props.value.type },\n  });\n}\n\n\nasync function save(saveCb: (success: boolean) => void) {\n  errors.value = [];\n  try {\n    await props.value.update();\n\n    await props.value.updateConfigurations(\n      props.initialValue.baseConfigurationsNames || [],\n      bindings.configurations || [],\n    );\n\n    await props.value.updateServices(\n      props.initialValue.services || [],\n      bindings.services || [],\n    );\n\n    await props.value.forceFetch();\n    setUnsavedChanges(false); // Clear unsaved changes after successful save\n    saveCb(true);\n    done();\n  } catch (err) {\n    errors.value = epinioExceptionToErrorsArray(err);\n    saveCb(false);\n  }\n}\n\nfunction set(obj: Record<string, any>, changes: Record<string, any>) {\n  Object.entries(changes).forEach(([key, value]) => {\n    obj[key] = value;\n  });\n}\n\nfunction updateInfo(changes: EpinioAppInfo) {\n  props.value.meta = props.value.meta || {};\n  props.value.configuration = props.value.configuration || {};\n  set(props.value.meta, changes.meta);\n  set(props.value.configuration, changes.configuration);\n}\n\nfunction updateConfigurations(changes: EpinioAppBindings) {\n  Object.assign(bindings, changes);\n}\n\nfunction cancel() {\n  store.$router.replace(props.value.listLocation);\n}\n\nfunction finish() {\n  store.$router.replace(createEpinioRoute(`c-cluster-resource-id`, {\n    cluster: store.getters['clusterId'],\n    resource: props.value.type,\n    id: `${props.value.meta.namespace}/${props.value.meta.name}`,\n  }));\n}\n\nfunction updateSource(changes: EpinioAppSource) {\n  source.value = {} as EpinioAppSource;\n  const { appChart, ...cleanChanges } = changes;\n\n  props.value.configuration = props.value.configuration || {};\n\n  if (appChart) {\n    set(props.value.configuration, { appchart: appChart });\n  }\n\n  set(source.value, cleanChanges);\n}\n\nfunction updateManifestConfigurations(changes: string[]) {\n  set(props.value.configuration, { configurations: changes });\n}\n\nfunction validate(value: boolean, tab: string) {\n  if (tab) {\n    tabErrors[tab] = !value;\n  }\n\n  steps[0].ready = value;\n}\n</script>\n\n\n<template>\n  <Loading v-if=\"!value\" />\n  <CruResource\n    v-else\n    :class=\"shouldShowButtons\"\n    :can-yaml=\"false\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :errors=\"errors\"\n    :validation-passed=\"validationPassed\"\n    @error=\"(e : Error) => errors = epinioExceptionToErrorsArray(e)\"\n    @finish=\"save\"\n  >\n    <ResourceTabs\n      mode=\"mode\"\n    >\n      <Tab\n        v-if=\"showSourceTab\"\n        label-key=\"epinio.applications.steps.source.label\"\n        name=\"source\"\n        :weight=\"30\"\n      >\n        <div class=\"wizard-container\">\n          <Wizard\n            class=\"wizard\"\n            :steps=\"steps\"\n            :banner-title=\"t('epinio.applications.steps.source.label')\"\n            :banner-title-subtext=\"t('epinio.applications.steps.source.subtext')\"\n            header-mode=\"edit\"\n            finish-mode=\"done\"\n            :edit-first-step=\"true\"\n            @cancel=\"cancel\"\n            @finish=\"finish\"\n          >\n            <template #source>\n              <AppSource\n                v-if=\"source && epinioInfo\"\n                :application=\"value\"\n                :source=\"source\"\n                :mode=\"mode\"\n                :info=\"epinioInfo\"\n                @change=\"updateSource\"\n                @changeAppInfo=\"updateInfo\"\n                @changeAppConfig=\"updateManifestConfigurations\"\n                @valid=\"steps[0].ready = $event\"\n              />\n            </template>\n            <template #progress=\"{step}\">\n              <AppProgress\n                :application=\"value\"\n                :source=\"source\"\n                :bindings=\"bindings\"\n                :mode=\"mode\"\n                :step=\"step\"\n              />\n            </template>\n          </Wizard>\n        </div>\n      </Tab>\n      \n      <Tab\n        label-key=\"epinio.applications.steps.basics.label\"\n        name=\"info\"\n        :weight=\"20\"\n        :error=\"tabErrors.appInfo\"\n      >\n        <AppInfo\n          :application=\"value\"\n          :mode=\"mode\"\n          @change=\"updateInfo\"\n          @valid=\"validate($event, 'appInfo')\"\n        />\n      </Tab>\n      <Tab\n        label-key=\"epinio.applications.steps.configurations.label\"\n        name=\"configurations\"\n        :weight=\"10\"\n      >\n        <AppConfiguration\n          :application=\"value\"\n          :initial-application=\"initialValue\"\n          :mode=\"mode\"\n          @change=\"updateConfigurations\"\n        />\n      </Tab>\n    </ResourceTabs>\n  </CruResource>\n</template>\n\n<style lang='scss' scoped>\n\n.wizard-container {\n  position: relative;\n\n  margin-bottom: -20px;\n  margin-right: -20px;\n\n  .wizard {\n    position: relative;\n    overflow: auto;\n\n    // This is a hack and is needed as the wizard's buttons are now `position: absolute; bottom: 0;` so appears over wizard content\n    // In the dashabord app chart install wizard this is applied to specific content winthin the wizard (scroll__content)\n    // We applied the same thing here\n    // Both places need to be removed and the padding added within the wizard component\n    .appSource, .progress-container {\n      padding-bottom: 75px;\n    }\n  }\n}\n\n</style>\n\n<style lang=\"scss\">\n.hide-buttons-deploy {\n  .cru__footer {\n    display: none !important;\n  }\n}\n\n</style>\n","import script from \"./applications.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./applications.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./applications.vue?vue&type=style&index=0&id=a5bdeaf2&lang=scss&scoped=true\"\nimport \"./applications.vue?vue&type=style&index=1&id=a5bdeaf2&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a5bdeaf2\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".wizard-container[data-v-a5bdeaf2]{position:relative;margin-bottom:-20px;margin-right:-20px}.wizard-container .wizard[data-v-a5bdeaf2]{position:relative;overflow:auto}.wizard-container .wizard .appSource[data-v-a5bdeaf2],.wizard-container .wizard .progress-container[data-v-a5bdeaf2]{padding-bottom:75px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".as-text-area{width:100%!important}.value-container .file-selector{margin-bottom:20px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["content","__esModule","default","module","id","locals","exports","add","___CSS_LOADER_EXPORT___","push","_hoisted_1","key","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_defineComponent","__name","props","value","initialValue","mode","setup","__props","store","useStore","t","getters","selectedApps","nsAppOptions","noApps","updateServiceInstanceAppBindings","useEpinioBindAppsMixin","setUnsavedChanges","useUnsavedChangesMixin","doneRoute","ref","pending","errors","doneParams","reactive","validChartValues","failedWaitingForServiceInstance","chartValues","objValuesToString","settings","onMounted","async","Promise","all","dispatch","type","EPINIO_TYPES","CATALOG_SERVICE","APP","catalogQuery","$router","currentRoute","_value","query","catalogservice","catalog_service","out","params","namespace","name","route","endsWith","replace","watch","meta","deep","catalogServices","computed","selectedCatalogService","find","isEdit","validationPassed","newBinds","Object","values","every","v","nameErrors","validateKubernetesName","undefined","nsErrors","length","namespaces","sortBy","NAMESPACE","namespaceNames","map","n","catalogServiceOpts","cs","label","short_description","noCatalogServices","isEqual","boundapps","showChartValues","keys","done","resource","save","newSettings","create","opt","force","saveCb","update","forceFetch","err","message","epinioExceptionToErrorsArray","resetChartValues","_ctx","_cache","_openBlock","_createBlock","Loading","CruResource","onFinish","onErrors","e","_withCtx","_createElementBlock","_Fragment","_renderList","i","Banner","color","_createCommentVNode","_createVNode","NameNsDescription","metadata","_createElementVNode","LabeledSelect","$event","loading","options","disabled","searchable","multiple","placeholder","_unref","required","_isRef","ChartValues","chart","title","onValid","_","__","__exports__","updateConfigurationAppBindings","data","configuration","details","updateValidation","_EDIT","console","log","dataValues","entries","onError","isServiceRelated","_createTextVNode","_toDisplayString","KeyValue","valueMarkdownMultiline","allApps","nsApps","filter","a","waitForServiceInstanceReady","serviceInstance","bindApps","unbindApps","bA","includes","promises","bindApp","uBA","unbindApp","waitForTestFn","freshServiceInstance","SERVICE_INSTANCE","catch","warn","Error","res","setTimeout","delta","reduce","nsA","appName","configName","toBind","toUnbind","configurations","index","indexOf","bindConfigurations","unbindConfiguration","bindings","services","source","appSource","epinioInfo","tabErrors","appInfo","steps","subtext","ready","nextButton","labelKey","style","previousButton","disable","git","commit","hash","allHash","ns","charts","APP_CHARTS","info","shouldShowButtons","showSourceTab","error","updateConfigurations","baseConfigurationsNames","updateServices","set","obj","changes","forEach","updateInfo","assign","cancel","listLocation","finish","createEpinioRoute","cluster","updateSource","appChart","cleanChanges","appchart","updateManifestConfigurations","validate","tab","_normalizeClass","ResourceTabs","Tab","weight","Wizard","onCancel","AppSource","application","onChange","onChangeAppInfo","onChangeAppConfig","progress","step","AppProgress","AppInfo","AppConfiguration"],"sourceRoot":""}