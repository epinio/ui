(("undefined"!==typeof self?self:this)["webpackChunkepinio_1_13_8_rc3"]=("undefined"!==typeof self?self:this)["webpackChunkepinio_1_13_8_rc3"]||[]).push([[195],{7398:function(e,t,a){var l=a(47814);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var n=a(74825).A;n("931703e8",l,!0,{sourceMap:!1,shadowMode:!1})},17641:function(e,t,a){"use strict";a.r(t);var l=a(36758),n=a.n(l),o=a(40935),i=a.n(o),r=i()(n());r.push([e.id,".title-inner[data-v-414b97ae],.title-inner-left[data-v-414b97ae],.title-inner-right[data-v-414b97ae]{display:flex;flex-direction:row}.logs-container[data-v-414b97ae]{height:100%;overflow:auto;padding:5px;background-color:var(--logs-bg);font-family:Menlo,Consolas,monospace;color:var(--logs-text)}.logs-container .closed[data-v-414b97ae]{opacity:.25}.logs-container .time[data-v-414b97ae]{white-space:nowrap;display:none;width:0;padding-right:15px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.logs-container.show-times .time[data-v-414b97ae]{display:initial;width:auto}.logs-container .msg[data-v-414b97ae]{white-space:nowrap}.logs-container .msg .highlight[data-v-414b97ae]{color:var(--logs-highlight);background-color:var(--logs-highlight-bg)}.logs-container.wrap-lines .msg[data-v-414b97ae]{white-space:normal}[data-v-414b97ae] .containerPicker.unlabeled-select{display:inline-block;min-width:200px;height:30px;min-height:30px;width:auto}.log-action button[data-v-414b97ae]{border:0!important;min-height:30px;line-height:30px}.log-action>input[data-v-414b97ae],.status[data-v-414b97ae]{height:30px}.status[data-v-414b97ae]{align-items:center;display:flex;min-width:80px}.filter-popup[data-v-414b97ae]{padding:10px;width:280px;position:relative;overflow:visible}.filter-popup[data-v-414b97ae]>*{margin-bottom:10px}.filter-popup .filter-section[data-v-414b97ae]{margin-top:15px}.filter-popup .filter-section .text-label[data-v-414b97ae]{display:block;margin-bottom:5px;font-size:12px;font-weight:600}.filter-popup .filter-section .form-control[data-v-414b97ae]{width:100%;padding:5px 10px;border:1px solid var(--border);border-radius:3px;background-color:var(--input-bg);color:var(--input-text)}.filter-popup .filter-section .form-control[data-v-414b97ae]:disabled{opacity:.5;cursor:not-allowed}.filter-popup .filter-section .text-muted[data-v-414b97ae]{display:block;margin-top:3px;font-size:11px;opacity:.7}.filter-popup .mt-10[data-v-414b97ae]{margin-top:10px}.title-left[data-v-414b97ae]{display:flex}.container-filter-btn[data-v-414b97ae]{display:flex;align-items:center}.container-filter-panel[data-v-414b97ae]{min-width:300px;max-width:400px;max-height:500px;display:flex;flex-direction:column;padding:10px;color:var(--body-text)}.container-filter-panel .filter-search[data-v-414b97ae]{margin-bottom:10px}.container-filter-panel .filter-search input[data-v-414b97ae]{width:100%}.container-filter-panel .filter-app-checkbox[data-v-414b97ae]{margin-bottom:10px;padding:6px 8px}.container-filter-panel .container-list[data-v-414b97ae]{flex:1;overflow-y:auto;max-height:250px;margin-bottom:10px}.container-filter-panel .container-list .container-item[data-v-414b97ae]{display:flex;align-items:center;gap:8px;padding:6px 8px;cursor:pointer;border-radius:4px;transition:background-color .2s;color:var(--body-text)}.container-filter-panel .container-list .container-item[data-v-414b97ae]:hover{background-color:var(--hover-bg)}.container-filter-panel .container-list .container-item.active-nav[data-v-414b97ae],.container-filter-panel .container-list .container-item.is-selected[data-v-414b97ae]{background-color:var(--body-bg);color:var(--body-text)}.container-filter-panel .container-list .container-item.is-sidecar[data-v-414b97ae]{opacity:.8}.container-filter-panel .container-list .container-item[data-v-414b97ae] .checkbox-label,.container-filter-panel .container-list .container-item[data-v-414b97ae] label{color:var(--body-text)}.container-filter-panel .container-list .container-item .badge[data-v-414b97ae]{font-size:10px;padding:2px 6px}.container-filter-panel .filter-section[data-v-414b97ae]{margin-top:15px}.container-filter-panel .filter-section .text-label[data-v-414b97ae]{display:block;margin-bottom:5px;font-size:12px;font-weight:600}.container-filter-panel .filter-section .form-control[data-v-414b97ae]{width:100%;padding:5px 10px;border:1px solid var(--border);border-radius:3px;background-color:var(--input-bg);color:var(--input-text)}.container-filter-panel .filter-section .form-control[data-v-414b97ae]:disabled{opacity:.5;cursor:not-allowed}.container-filter-panel .filter-section .text-muted[data-v-414b97ae]{display:block;margin-top:3px;font-size:11px;opacity:.7}.container-filter-panel .filter-footer[data-v-414b97ae]{display:flex;flex-direction:column;padding-top:10px;border-top:1px solid var(--border)}.container-filter-panel .filter-footer .filter-instruction[data-v-414b97ae]{font-size:12px;color:var(--body-text);line-height:1.4}.filter-indicator[data-v-414b97ae]{display:block;margin-top:5px;font-size:12px}",""]),t["default"]=r},27751:function(e,t,a){var l=a(70247);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var n=a(74825).A;n("7360499c",l,!0,{sourceMap:!1,shadowMode:!1})},44051:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var l=a(9274),n=a(65359),o=a(78418),i=a(88339),r=a(50667),c=a(82331),s=a(60386),u=a(45866),d=a(94428),p=a(4364);const v={class:"pull-left ml-5"},m={class:"status pull-left"},f={key:0,class:"text-success"},g={key:1,class:"text-warning"},b={key:2,class:"text-error"};var h=(0,l.defineComponent)({__name:"ApplicationShell",props:{application:{type:Object,default:null},endpoint:{type:String,default:""},initialInstance:{type:String,default:null}},setup(e){const t=(0,n.Pj)(),h=t.getters["i18n/t"],w=e,{socket:x,isOpen:y,backlog:k,instanceChoices:E,getRootSocketUrl:N}=(0,s.useApplicationSocketMixin)(w),V=(0,l.ref)(!0),_=(0,l.ref)(null),S=(0,l.ref)(w.initialInstance||E.value[0]),C=(0,l.ref)(null),B=(0,l.ref)(null),D=(0,l.ref)(null),M=(0,l.ref)(null),A=(0,l.ref)(!1),L=(0,l.ref)(null),I={allowProposedApi:!0,cursorBlink:!0,useStyle:!0,fontSize:12};(0,l.watch)(()=>S.value,()=>{U()}),(0,l.onBeforeUnmount)(()=>{clearInterval(L.value),F()}),(0,l.onMounted)(async()=>{await z(),await U(),y.value=!0,clearInterval(L.value),L.value=setInterval(()=>{R()},6e4)});const z=async()=>{const e=getComputedStyle(document.querySelector("body")),t=await a.e(594).then(a.t.bind(a,84594,23)),l=await(0,i.kR)({fit:a.e(462).then(a.t.bind(a,34462,23)),webgl:a.e(382).then(a.t.bind(a,90382,23)),weblinks:a.e(338).then(a.t.bind(a,72338,23)),search:a.e(720).then(a.t.bind(a,720,23))}),n=new t.Terminal({theme:{background:e.getPropertyValue("--terminal-bg").trim(),foreground:e.getPropertyValue("--terminal-text").trim(),cursor:e.getPropertyValue("--terminal-cursor").trim(),selectionBackground:e.getPropertyValue("--terminal-selection").trim()},...I});B.value=new l.fit.FitAddon,D.value=new l.search.SearchAddon;try{M.value=new l.webgl.WebGlAddon}catch(o){M.value=null}n.loadAddon(B.value),n.loadAddon(D.value),n.loadAddon(new l.weblinks.WebLinksAddon),M.value&&n.loadAddon(M.value),n.open(_.value),R(),O(),n.onData(e=>{const t=`0${(0,c.KA)(e)}`;T(t)}),C.value=n},T=e=>{y.value?x.value.send(e):k.value.push(e)},$=()=>{C.value.clear()},P=async()=>{const{url:e,token:t}=await N();return(0,r.g)(e,{authtoken:t,instance:S.value})},U=async()=>{x.value&&(await x.value.disconnect(),x.value=null,C.value.reset());const e=await P();e&&(x.value=new o.hb(e,!1,0,"base64.channel.k8s.io"),x.value.addEventListener(o.Gn,()=>{y.value=!1,A.value=!0}),x.value.addEventListener(o.vg,e=>{y.value=!1,A.value=!1,p.error("Connect Error",e)}),x.value.addEventListener(o.HM,()=>{y.value=!0,A.value=!1,R(),O()}),x.value.addEventListener(o.tv,()=>{y.value=!1,A.value=!1}),x.value.addEventListener(o.Dm,e=>{const t=e.detail.data.substr(0,1),a=(0,c.u)(e.detail.data.substr(1));"1"===`${t}`?C.value.write(a):p.error(a)}),x.value.connect(),C.value.focus())},O=()=>{const e=k.value.slice();k.value=[];for(const t of e)x.value.send(t)},R=()=>{if(!B.value)return;B.value.fit();const{rows:e,cols:t}=B.value.proposeDimensions();if(!y.value)return;const a=`4${(0,c.KA)(JSON.stringify({Width:Math.floor(t),Height:Math.floor(e)}))}`;x.value.send(a)},F=()=>{x.value&&(x.value.disconnect(),x.value=null),C.value&&(C.value.dispose(),C.value=null)};return(e,t)=>{const a=(0,l.resolveComponent)("resize-observer"),n=(0,l.resolveDirective)("clean-html");return(0,l.openBlock)(),(0,l.createBlock)((0,l.unref)(d.A),{active:V.value,"before-close":F,class:"epinio-app-shell"},{title:(0,l.withCtx)(()=>[(0,l.unref)(E).length>1?((0,l.openBlock)(),(0,l.createBlock)((0,l.unref)(u.A),{key:0,value:S.value,"onUpdate:value":t[0]||(t[0]=e=>S.value=e),disabled:1===(0,l.unref)(E).length,class:"containerPicker auto-width pull-left",options:(0,l.unref)(E),clearable:!1,placement:"top"},null,8,["value","disabled","options"])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("button",{class:"btn btn-sm bg-primary",onClick:$},(0,l.toDisplayString)((0,l.unref)(h)("wm.containerShell.clear")),1)]),(0,l.createElementVNode)("div",m,[(0,l.unref)(y)?((0,l.openBlock)(),(0,l.createElementBlock)("span",f,(0,l.toDisplayString)((0,l.unref)(h)("wm.connection.connected")),1)):A.value?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("span",g,null,512)),[[n,(0,l.unref)(h)("wm.connection.connecting")]]):((0,l.openBlock)(),(0,l.createElementBlock)("span",b,(0,l.toDisplayString)((0,l.unref)(h)("wm.connection.disconnected")),1))])]),body:(0,l.withCtx)(()=>[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(["shell-container",{open:(0,l.unref)(y),closed:!(0,l.unref)(y)}])},[(0,l.createElementVNode)("div",{ref_key:"xterm",ref:_,class:"shell-body"},null,512),(0,l.createVNode)(a,{onNotify:R})],2)]),_:1},8,["active"])}}}),w=(a(7398),a(90212),a(47433));const x=(0,w.A)(h,[["__scopeId","data-v-7bc331ac"]]);var y=x},47814:function(e,t,a){"use strict";a.r(t);var l=a(36758),n=a.n(l),o=a(40935),i=a.n(o),r=i()(n());r.push([e.id,".epinio-app-shell .v-select.inline.vs--single.vs--open .vs__selected{position:inherit}",""]),t["default"]=r},60386:function(e,t,a){"use strict";a.r(t),a.d(t,{useApplicationSocketMixin:function(){return r}});var l=a(65359),n=a(9274),o=a(32766),i=a(4364);function r(e){const t=(0,l.Pj)(),a=(0,n.ref)(null),r=(0,n.ref)(!1),c=(0,n.ref)([]),s=(0,n.computed)(()=>e.application.instances.map(e=>e.id)),u=async()=>{const{token:a}=await t.dispatch("epinio/request",{opt:{url:"/api/v1/authtoken"}}),l=!!t.getters["isSingleProduct"];let n="",r="";if(i.log(t),l){const e=t.getters[`${o.Pm}/singleProductCNSI`]();r=`/pp/v1/direct/ws/${e?.guid}`}else{const e=t.getters["clusterId"],a=t.getters[`${o.Bz}/byId`](o.F6.CLUSTER,e);n=a.api}return{url:`${n}${r}${e.endpoint}`.replace(/^http/,"ws"),token:a}};return{socket:a,isOpen:r,backlog:c,instanceChoices:s,getRootSocketUrl:u}}},65001:function(e,t,a){var l=a(17641);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var n=a(74825).A;n("34493eb2",l,!0,{sourceMap:!1,shadowMode:!1})},65394:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return oe}});var l=a(9274),n=a(65359),o=a(78418),i=a(23464),r=a.n(i),c=a(30002),s=a.n(c),u=a(50667),d=a(6198),p=a(92043),v=a(91462),m=a(45866),f=a(42200),g=a(67607),b=a(94428),h=a(60386),w=a(4364);const x={class:"title-inner log-action"},y={class:"title-inner-left"},k={class:"container-filter-panel"},E={class:"filter-search"},N={key:0,class:"text-center p-10"},V={key:1,class:"text-center p-10"},_={key:2,class:"container-list"},S=["onClick"],C={key:0,class:"badge badge-sm bg-warning"},B={key:1,class:"badge badge-sm bg-info"},D={class:"filter-section"},M={class:"filter-section"},A=["disabled"],L={class:"filter-section"},I=["disabled"],z={class:"filter-footer"},T={class:"filter-instruction"},$={class:"mt-10"},P=["disabled"],U=["disabled"],O=["disabled"],R={class:"title-inner-right"},F={class:"status log-action text-center p-10",style:{"min-width":"80px"}},j={class:"log-action ml-5"},H={class:"filter-popup"},W={class:"log-action ml-5"},q=["placeholder"],G={class:"fixed",cellpadding:"0",cellspacing:"0"},J={class:"logs-body"},K={class:"time"},Z={class:"msg"},X={key:1},Q={colspan:"2",class:"msg text-muted"},Y={key:0,class:"filter-indicator"},ee={key:2},te={colspan:"2",class:"msg text-muted"};var ae=(0,l.defineComponent)({__name:"ApplicationLogs",props:{application:{type:Object,default:null},endpoint:{type:String,default:""},ansiToHtml:{type:Boolean,default:!1},initialInstance:{type:String,default:null}},setup(e){const t=(0,n.Pj)(),a=t.getters["i18n/t"],i=e,{socket:c,isOpen:ae,backlog:le,instanceChoices:ne,getRootSocketUrl:oe}=(0,h.useApplicationSocketMixin)(i),ie=(0,l.ref)(1),re=(0,l.ref)(""),ce=(0,l.ref)(i.initialInstance||ne[0]),se=(0,l.ref)([]),ue=(0,l.ref)(null),de=(0,l.ref)(!1),pe=(0,l.ref)(!0),ve=(0,l.ref)(null),me=(0,l.ref)(!1),fe=(0,l.ref)(null),ge=(0,l.ref)(null),be=(0,l.ref)(null),he=(0,l.ref)([]),we=(0,l.ref)(new Set),xe=(0,l.ref)(new Set),ye=(0,l.ref)("exclude"),ke=(0,l.ref)(""),Ee=(0,l.ref)(!1),Ne=new(s()),Ve=t.getters["prefs/get"](v.az),_e=(0,l.ref)(t.getters["prefs/get"](v.Pu));(0,l.onMounted)(async()=>{await He(),await Le();let e=ze.bind(ve);ve.value.addEventListener("scroll",e),ue.value=setInterval(Ie,100)}),(0,l.onBeforeUnmount)(()=>{const e=document.querySelector(".logs-container");e&&e.removeEventListener("scroll",ze),Re(),ae.value=!1});const Se=(0,l.computed)(()=>[...ne.value,{label:"No Instance Filter",value:null}]),Ce=(0,l.computed)(()=>"include"===ye.value?we.value.size:xe.value.size),Be=(0,l.computed)(()=>{if(!ke.value)return he.value;const e=ke.value.toLowerCase();return he.value.filter(t=>t.name.toLowerCase().includes(e)||t.podName.toLowerCase().includes(e))}),De=(0,l.computed)(()=>{let e=se.value;if(xe.value.size>0&&(e=e.filter(e=>{const t=e.rawMsg.match(/\[[^\]]+\]\s+(\S+)\s+/);if(t&&t[1]){const e=t[1];return!xe.value.has(e)}return!0})),!re.value&&!ce.value)return e;const t=new RegExp((0,p.$f)(re.value),"img"),a=[];for(const l of e){let e=l.rawMsg;if(ce.value){const t=e.substring(1,e.length);if(!t.startsWith(ce.value))continue}const n=e.match(t);if(!n)continue;const o=e.split(t);e="";while(o.length||n.length)o.length&&(e+=Ne.ansi_to_html(o.shift())),n.length&&(e+=`<span class="highlight">${Ne.ansi_to_html(n.shift())}</span>`);a.push({id:l.id,time:l.time,msg:e})}return a}),Me=(0,l.computed)(()=>{const e=(0,p.ZD)(t.getters["prefs/get"](v.DX)),a=(0,p.ZD)(t.getters["prefs/get"](v.G$));return`${e} ${a}`}),Ae=async()=>{const{url:e,token:t}=await oe(),a={follow:!0,authtoken:t};if(null!==fe.value&&fe.value>0&&(a.tail=fe.value),be.value){const e=new Date(be.value).getTime(),t=Math.floor((Date.now()-e)/1e3);t>0&&(a.since_seconds=t)}else ge.value&&(a.since=ge.value);return"include"===ye.value&&we.value.size>0&&(a.include_containers=Array.from(we.value).join(",")),xe.value.size>0&&(a.exclude_containers=Array.from(xe.value).join(",")),(0,u.g)(e,a)},Le=async()=>{w.log("Connecting to application logs socket..."),c.value&&(w.log("Disconnecting existing socket..."),await c.value.disconnect(),c.value=null),le.value=[],se.value=[];const e=await Ae();c.value=new o.hb(e,!0,6e5),c.value.setAutoReconnectUrl(Ae),c.value.addEventListener(o.HM,()=>{se.value=[],le.value=[],ae.value=!0}),c.value.addEventListener(o.tv,()=>{ae.value=!1}),c.value.addEventListener(o.vg,e=>{ae.value=!1,w.error("WebSocket Connect Error",e)}),c.value.addEventListener(o.Dm,async e=>{let t;try{t=JSON.parse(e.detail.data)}catch(e){return void w.warn("Unable to parse websocket data: ",e)}const{PodName:a,ContainerName:l,Message:n,Timestamp:o}=t;if(l&&xe.value.has(l))return;if(l){const e=he.value.find(e=>e.name===l);e||(he.value.push({name:l,podName:a||"",isInitContainer:!1}),Ee.value&&he.value.length>0&&(Ee.value=!1))}const r=`[${a}] ${l} ${n}`;if("[]  ___FILTER_START___"==r)return se.value=[],void(le.value=[]);"[]  ___FILTER_COMPLETE___"!=r?le.value.push({id:ie.value++,msg:i.ansiToHtml?Ne.ansi_to_html(r):r,rawMsg:r,time:o||null}):me.value=!1}),c.value.connect()},Ie=()=>{le.value.length&&(se.value.push(...le.value),le.value=[]),de.value&&(0,l.nextTick)(()=>{Pe()})},ze=()=>{const e=ve.value;de.value=e.scrollTop+e.clientHeight+2>=e.scrollHeight},Te=()=>{se.value=[]},$e=e=>{const t=(new Date).toISOString().split(".")[0],a=`${i.application.nameDisplay}-${t}`;(0,d.PE)(a,se.value.map(e=>`${e.rawMsg}`).join("\n")).then(()=>e(!0)).catch(()=>e(!1))},Pe=()=>{ve.value.scrollTop=ve.value.scrollHeight},Ue=()=>{t.dispatch("prefs/set",{key:v.Pu,value:_e.value})},Oe=e=>e?r()(e).format(Me.value):"",Re=()=>{c.value&&(c.value.disconnect(),c.value=null),clearInterval(ue.value)},Fe=()=>{fe.value=null,ge.value=null,be.value=null,je()},je=async()=>{if(!me.value){me.value=!0,se.value=[],le.value=[];try{let e;be.value&&ge.value&&(be.value=void 0),be.value&&(e=new Date(be.value).toISOString());const t=null!=fe.value||null!=ge.value||null!=be.value,a="include"===ye.value&&we.value.size>0||xe.value.size>0,l={follow:!t&&!a,tail:null!=fe.value?fe.value:t||a?null:1e4,since:ge.value,since_time:e};"include"===ye.value&&we.value.size>0&&(l.include_containers=Array.from(we.value).join(",")),xe.value.size>0&&(l.exclude_containers=Array.from(xe.value).join(","));const n={type:"filter_params",params:l},o=JSON.stringify(n);c.value.send(o),setTimeout(()=>{me.value&&(w.warn("Filter complete marker not received, resetting flag"),me.value=!1)},5e3)}catch(e){w.error("Error applying log filters:",e),me.value=!1}}},He=async()=>{Ee.value=!0;try{const e=i.application?.meta?.namespace,a=i.application?.meta?.name;if(!e||!a)return void w.warn("Missing namespace or app name for container fetch");const l=await t.dispatch("epinio/request",{url:`/api/v1/namespaces/${e}/applications/${a}/pods`}),n=[];if(l&&l.data)for(const t of l.data){const e=t.name;if(t.containers)for(const a of t.containers)n.push({name:a.name,podName:e,isInitContainer:!1});if(t.init_containers)for(const a of t.init_containers)n.push({name:a.name,podName:e,isInitContainer:!0})}he.value=n}catch(e){w.error("Error fetching containers:",e)}finally{Ee.value=!1}},We=e=>{const t=["linkerd-","istio-"];return t.some(t=>e.startsWith(t))},qe=e=>{"include"===ye.value?(we.value.has(e)?we.value.delete(e):we.value.add(e),we.value=new Set(we.value)):(xe.value.has(e)?xe.value.delete(e):xe.value.add(e),xe.value=new Set(xe.value))},Ge=e=>"include"===ye.value?we.value.has(e):xe.value.has(e),Je=()=>{we.value.clear(),xe.value.clear(),we.value=new Set,xe.value=new Set};return(e,t)=>{const n=(0,l.resolveComponent)("VDropdown"),o=(0,l.resolveDirective)("clean-html");return(0,l.openBlock)(),(0,l.createBlock)((0,l.unref)(b.A),{active:pe.value,"before-close":Re,class:"epinio-app-log"},{title:(0,l.withCtx)(()=>[(0,l.createElementVNode)("div",x,[(0,l.createElementVNode)("div",y,[(0,l.unref)(ne).length>1?((0,l.openBlock)(),(0,l.createBlock)((0,l.unref)(m.A),{key:0,value:ce.value,"onUpdate:value":t[0]||(t[0]=e=>ce.value=e),disabled:1===(0,l.unref)(ne).length,class:"containerPicker auto-width",options:Se.value,clearable:!0,placement:"top",placeholder:"Filter by Instance"},null,8,["value","disabled","options"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(n,{placement:"bottom-start",distance:6},{popper:(0,l.withCtx)(()=>[(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("div",E,[(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>ke.value=e),type:"text",class:"input-sm",placeholder:"Search containers..."},null,512),[[l.vModelText,ke.value]])]),Ee.value?((0,l.openBlock)(),(0,l.createElementBlock)("div",N," Loading containers... ")):0===Be.value.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",V," No containers found ")):((0,l.openBlock)(),(0,l.createElementBlock)("div",_,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(Be.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:`${e.podName}-${e.name}`,class:(0,l.normalizeClass)(["container-item",{"is-selected":Ge(e.name),"is-sidecar":We(e.name)}]),onClick:t=>qe(e.name)},[(0,l.createVNode)((0,l.unref)(f.S),{value:Ge(e.name),label:e.name},null,8,["value","label"]),We(e.name)?((0,l.openBlock)(),(0,l.createElementBlock)("span",C," Sidecar ")):(0,l.createCommentVNode)("",!0),e.isInitContainer?((0,l.openBlock)(),(0,l.createElementBlock)("span",B," Init ")):(0,l.createCommentVNode)("",!0)],10,S))),128))])),(0,l.createElementVNode)("div",D,[t[8]||(t[8]=(0,l.createElementVNode)("label",{class:"text-label"},"Tail (number of lines)",-1)),(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>fe.value=e),type:"number",class:"form-control",placeholder:"e.g., 100",min:"1"},null,512),[[l.vModelText,fe.value,void 0,{number:!0}]])]),(0,l.createElementVNode)("div",M,[t[9]||(t[9]=(0,l.createElementVNode)("label",{class:"text-label"},"Since (duration)",-1)),(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>ge.value=e),type:"text",class:"form-control",placeholder:"e.g., 1h, 30m, 24h",disabled:!!be.value},null,8,A),[[l.vModelText,ge.value]]),t[10]||(t[10]=(0,l.createElementVNode)("small",{class:"text-muted"},"Use this OR Since Time below",-1))]),(0,l.createElementVNode)("div",L,[t[11]||(t[11]=(0,l.createElementVNode)("label",{class:"text-label"},"Since Time (absolute date)",-1)),(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>be.value=e),type:"datetime-local",class:"form-control",disabled:!!ge.value},null,8,I),[[l.vModelText,be.value]]),t[12]||(t[12]=(0,l.createElementVNode)("small",{class:"text-muted"},"Use this OR Since above",-1))]),(0,l.createElementVNode)("div",z,[(0,l.createElementVNode)("p",T,(0,l.toDisplayString)("include"===ye.value?"Selected containers will be included in logs":"Selected containers will be excluded from logs"),1),(0,l.createElementVNode)("div",$,[(0,l.createElementVNode)("button",{class:"btn btn-sm bg-primary",disabled:me.value,onClick:je},(0,l.toDisplayString)(me.value?"Applying...":"Apply Filters"),9,P),(0,l.createElementVNode)("button",{class:"btn btn-sm bg-warning ml-5",disabled:0===Ce.value&&!fe.value&&!ge.value&&!be.value,onClick:t[5]||(t[5]=e=>{Je(),Fe()})}," Clear ",8,U)])])])]),default:(0,l.withCtx)(()=>[t[13]||(t[13]=(0,l.createElementVNode)("button",{class:"btn bg-primary ml-5 container-filter-btn"}," Container Filter ",-1))]),_:1,__:[13]}),(0,l.createElementVNode)("button",{class:"btn bg-primary ml-5",disabled:de.value,onClick:Pe},(0,l.toDisplayString)((0,l.unref)(a)("wm.containerLogs.follow")),9,O),(0,l.createElementVNode)("button",{class:"btn bg-primary ml-5",onClick:Te},(0,l.toDisplayString)((0,l.unref)(a)("wm.containerLogs.clear")),1),(0,l.createVNode)((0,l.unref)(g.A),{class:"ml-5",mode:"download",onClick:$e})]),t[15]||(t[15]=(0,l.createElementVNode)("div",{style:{flex:"1"}},null,-1)),(0,l.createElementVNode)("div",R,[(0,l.createElementVNode)("div",F,[(0,l.createElementVNode)("span",{class:(0,l.normalizeClass)({"text-success":(0,l.unref)(ae),"text-error":!(0,l.unref)(ae)})},(0,l.toDisplayString)((0,l.unref)(a)((0,l.unref)(ae)?"wm.connection.connected":"wm.connection.disconnected")),3)]),(0,l.createElementVNode)("div",j,[(0,l.createVNode)(n,{placement:"top-end"},{popper:(0,l.withCtx)(()=>[(0,l.createElementVNode)("div",H,[(0,l.createVNode)((0,l.unref)(f.S),{value:_e.value,"onUpdate:value":[t[6]||(t[6]=e=>_e.value=e),Ue],label:(0,l.unref)(a)("wm.containerLogs.wrap")},null,8,["value","label"])])]),default:(0,l.withCtx)(()=>[t[14]||(t[14]=(0,l.createElementVNode)("button",{class:"btn bg-primary"},[(0,l.createElementVNode)("i",{class:"icon icon-gear"})],-1))]),_:1,__:[14]})]),(0,l.createElementVNode)("div",W,[(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>re.value=e),class:"input-sm",type:"search",placeholder:(0,l.unref)(a)("wm.containerLogs.search")},null,8,q),[[l.vModelText,re.value]])])])])]),body:(0,l.withCtx)(()=>[(0,l.createElementVNode)("div",{ref_key:"body",ref:ve,class:(0,l.normalizeClass)({"logs-container":!0,open:(0,l.unref)(ae),closed:!(0,l.unref)(ae),"show-times":(0,l.unref)(Ve)&&De.value.length,"wrap-lines":_e.value})},[(0,l.createElementVNode)("table",G,[(0,l.createElementVNode)("tbody",J,[De.value.length?((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,{key:0},(0,l.renderList)(De.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)("tr",{key:e.id},[(0,l.withDirectives)((0,l.createElementVNode)("td",K,null,512),[[o,Oe(e.time)]]),(0,l.withDirectives)((0,l.createElementVNode)("td",Z,null,512),[[o,e.msg]])]))),128)):re.value||Ce.value>0?((0,l.openBlock)(),(0,l.createElementBlock)("tr",X,[(0,l.createElementVNode)("td",Q,[(0,l.createTextVNode)((0,l.toDisplayString)((0,l.unref)(a)("wm.containerLogs.noMatch"))+" ",1),Ce.value>0?((0,l.openBlock)(),(0,l.createElementBlock)("span",Y," ("+(0,l.toDisplayString)("include"===ye.value?"Including":"Excluding")+" "+(0,l.toDisplayString)(Ce.value)+" container"+(0,l.toDisplayString)(1!==Ce.value?"s":"")+") ",1)):(0,l.createCommentVNode)("",!0)])])):((0,l.openBlock)(),(0,l.createElementBlock)("tr",ee,[(0,l.createElementVNode)("td",te,(0,l.toDisplayString)((0,l.unref)(a)("epinio.applications.wm.noData")),1)]))])])],2)]),_:1},8,["active"])}}}),le=(a(27751),a(65001),a(47433));const ne=(0,le.A)(ae,[["__scopeId","data-v-414b97ae"]]);var oe=ne},70247:function(e,t,a){"use strict";a.r(t);var l=a(36758),n=a.n(l),o=a(40935),i=a.n(o),r=i()(n());r.push([e.id,".epinio-app-log .v-select.inline.vs--single.vs--open .vs__selected{position:inherit}",""]),t["default"]=r},90212:function(e,t,a){var l=a(97060);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var n=a(74825).A;n("5ca08394",l,!0,{sourceMap:!1,shadowMode:!1})},97060:function(e,t,a){"use strict";a.r(t);var l=a(36758),n=a.n(l),o=a(40935),i=a.n(o),r=i()(n());r.push([e.id,".text-warning[data-v-7bc331ac]{animation:flasher-7bc331ac 2.5s linear infinite}@keyframes flasher-7bc331ac{50%{opacity:0}}.shell-container[data-v-7bc331ac]{height:100%;overflow:hidden}.shell-body[data-v-7bc331ac]{padding:calc(var(--outline-width)*2);height:100%}.shell-body>.terminal.focus[data-v-7bc331ac]{outline:var(--outline-width) solid var(--outline)}[data-v-7bc331ac] .containerPicker.unlabeled-select{display:inline-block;min-width:200px;height:30px;min-height:30px;width:auto}.status[data-v-7bc331ac]{align-items:center;display:flex;min-width:80px;height:30px;margin-left:10px}",""]),t["default"]=r}}]);
//# sourceMappingURL=epinio-1.13.8-rc3.umd.min.windowComponents.js.map