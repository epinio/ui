{"version":3,"file":"epinio-1.13.8-rc1.umd.min.windowComponents.js","mappings":"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","sources":["webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationLogs.vue?4e40","webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationShell.vue?b1f5","webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationLogs.vue?2df7","webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationLogs.vue","webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationLogs.vue?6cc3","webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationLogs.vue?2556","webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationLogs.vue?4bee","webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationShell.vue?dfef","webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationShell.vue","webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationShell.vue?28c4","webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationShell.vue?1049","webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationSocketMixin.ts","webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationLogs.vue?e671","webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationShell.vue?9104","webpack://epinio-1.13.8-rc1/./windowComponents/ApplicationShell.vue?17f3"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./ApplicationLogs.vue?vue&type=style&index=0&id=01438164&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"bcb935b4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./ApplicationShell.vue?vue&type=style&index=0&id=7bc331ac&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"931703e8\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, resolveDirective as _resolveDirective } from \"vue\"\n\nconst _hoisted_1 = { class: \"title-inner log-action\" }\nconst _hoisted_2 = { class: \"title-inner-left\" }\nconst _hoisted_3 = [\"disabled\"]\nconst _hoisted_4 = { class: \"title-inner-right\" }\nconst _hoisted_5 = {\n  class: \"status log-action text-center p-10\",\n  style: {\"min-width\":\"80px\"}\n}\nconst _hoisted_6 = { class: \"log-action ml-5\" }\nconst _hoisted_7 = { class: \"filter-popup\" }\nconst _hoisted_8 = { class: \"filter-section\" }\nconst _hoisted_9 = { class: \"filter-section\" }\nconst _hoisted_10 = [\"disabled\"]\nconst _hoisted_11 = { class: \"filter-section\" }\nconst _hoisted_12 = [\"disabled\"]\nconst _hoisted_13 = [\"disabled\"]\nconst _hoisted_14 = [\"disabled\"]\nconst _hoisted_15 = { class: \"log-action ml-5\" }\nconst _hoisted_16 = [\"placeholder\"]\nconst _hoisted_17 = {\n  class: \"fixed\",\n  cellpadding: \"0\",\n  cellspacing: \"0\"\n}\nconst _hoisted_18 = { class: \"logs-body\" }\nconst _hoisted_19 = { class: \"time\" }\nconst _hoisted_20 = { class: \"msg\" }\nconst _hoisted_21 = { key: 1 }\nconst _hoisted_22 = {\n  colspan: \"2\",\n  class: \"msg text-muted\"\n}\nconst _hoisted_23 = { key: 2 }\nconst _hoisted_24 = {\n  colspan: \"2\",\n  class: \"msg text-muted\"\n}\n\nimport { useStore } from 'vuex';\nimport {\n  ref,\n  onMounted,\n  onBeforeUnmount,\n  computed,\n  nextTick,\n  PropType,\n} from 'vue';\n\nimport Socket, {\n  EVENT_CONNECTED,\n  EVENT_DISCONNECTED,\n  EVENT_MESSAGE,\n  EVENT_CONNECT_ERROR\n} from '@shell/utils/socket';\nimport day from 'dayjs';\nimport AnsiUp from 'ansi_up';\nimport { addParams } from '@shell/utils/url';\nimport { downloadFile } from '@shell/utils/download';\nimport { escapeHtml, escapeRegex } from '@shell/utils/string';\nimport { LOGS_TIME, LOGS_WRAP, DATE_FORMAT, TIME_FORMAT } from '@shell/store/prefs';\n\nimport Select from '@shell/components/form/Select';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport Window from '@shell/components/nav/WindowManager/Window';\n\nimport { useApplicationSocketMixin } from './ApplicationSocketMixin';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ApplicationLogs',\n  props: {\n  application: {\n    type: Object as PropType<object>,\n    default: null,\n  },\n  endpoint: {\n    type: String as PropType<string>,\n    default: '',\n  },\n  ansiToHtml: {\n    type: Boolean as PropType<boolean>,\n    default: false,\n  },\n  initialInstance: {\n    type:    String,\n    default: null,\n  },\n},\n  setup(__props) {\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = __props;\n\nconst {\n  socket,\n  isOpen,\n  backlog,\n  instanceChoices,\n  getRootSocketUrl,\n} = useApplicationSocketMixin(props);\n\nconst lastId = ref<number>(1);\nconst search = ref<string>('');\nconst instance = ref<string>(props.initialInstance || instanceChoices[0]);\nconst lines = ref<Array<any>>([]);\nconst timerFlush = ref<object>(null);\nconst isFollowing = ref<boolean>(false);\nconst active = ref<boolean>(true);\nconst body = ref<HTMLElement>(null);\nconst isApplyingFilters = ref<boolean>(false);\n\n// Time-based filter parameters\nconst tail = ref<number | null>(null); // Number of lines to show\nconst since = ref<string | null>(null); // Duration like \"1h\", \"30m\", \"24h\"\nconst sinceTime = ref<string | null>(null); // ISO datetime string from native input\n\nconst ansiup = new AnsiUp();\nconst timestamps = store.getters['prefs/get'](LOGS_TIME);\nconst wrap = ref<boolean>(store.getters['prefs/get'](LOGS_WRAP));\n\nonMounted(async () => {\n  await connect();\n  let boundUpdateFollowing = updateFollowing.bind(body);\n  body.value.addEventListener('scroll', boundUpdateFollowing);\n  timerFlush.value = setInterval(flush, 100);\n});\n\nonBeforeUnmount(() => {\n  const el = document.querySelector('.logs-container') as HTMLElement;\n  if (el) {\n    el.removeEventListener('scroll', updateFollowing);\n  }\n  cleanup();\n  isOpen.value = false;\n});\n\nconst instanceChoicesWithNone = computed(() => {\n  return [\n    ...instanceChoices.value,\n    {\n      label: 'No Instance Filter',\n      value: null\n    }\n  ];\n});\n\nconst filtered = computed(() => {\n  if (!search.value && !instance.value) {\n    return lines.value;\n  }\n\n  const re = new RegExp(escapeRegex(search.value), 'img');\n  const out = [];\n\n  for (const line of lines.value) {\n    let msg = line.rawMsg;\n\n    if (instance.value) {\n      const pod = msg.substring(1, msg.length);\n\n      if (!pod.startsWith(instance.value)) {\n        continue;\n      }\n    }\n\n    const matches = msg.match(re);\n\n    if (!matches) {\n      continue;\n    }\n\n    const parts = msg.split(re);\n\n    msg = '';\n    while (parts.length || matches.length) {\n      if (parts.length) {\n        msg += ansiup.ansi_to_html(parts.shift()); // This also escapes\n      }\n\n      if (matches.length) {\n        msg += `<span class=\"highlight\">${ ansiup.ansi_to_html(matches.shift()) }</span>`;\n      }\n    }\n\n    out.push({\n      id:   line.id,\n      time: line.time,\n      msg,\n    });\n  }\n\n  return out;\n});\n\nconst timeFormatStr = computed(() => {\n  const dateFormat = escapeHtml(store.getters['prefs/get'](DATE_FORMAT));\n  const timeFormat = escapeHtml(store.getters['prefs/get'](TIME_FORMAT));\n\n  return `${ dateFormat } ${ timeFormat }`;\n});\n\nconst getSocketUrl = async () => {\n  const { url, token } = await getRootSocketUrl();\n\n  // Build params object with time-based filters\n  const params: any = {\n    follow: true,\n    authtoken: token\n  };\n\n  // Add optional filter parameters if they have values\n  if (tail.value !== null && tail.value > 0) {\n    params.tail = tail.value;\n  }\n\n  // Add time-based filters (since_seconds or since duration)\n  if (sinceTime.value) {\n    const selectedTime = new Date(sinceTime.value).getTime();\n    const secondsAgo = Math.floor((Date.now() - selectedTime) / 1000);\n\n    if (secondsAgo > 0) {\n      params.since_seconds = secondsAgo;\n    }\n  } else if (since.value) {\n    params.since = since.value; // Duration like \"1h\", \"30m\", \"24h\"\n  }\n\n  return addParams(url, params);\n};\n\nconst connect = async () => {\n  console.log('Connecting to application logs socket...');\n  // Disconnect existing socket and clear logs\n  if (socket.value) {\n    console.log('Disconnecting existing socket...');\n    await socket.value.disconnect();\n    socket.value = null;\n  }\n  lines.value = [];\n\n  const url = await getSocketUrl();\n\n  socket.value = new Socket(url, true, 0);\n  socket.value.setAutoReconnectUrl(getSocketUrl);\n\n  socket.value.addEventListener(EVENT_CONNECTED, () => {\n    isOpen.value = true;\n  });\n\n  socket.value.addEventListener(EVENT_DISCONNECTED, () => {\n    isOpen.value = false;\n  });\n\n  socket.value.addEventListener(EVENT_CONNECT_ERROR, (e: any) => {\n    isOpen.value = false;\n    console.error('WebSocket Connect Error', e);\n  });\n\n  socket.value.addEventListener(EVENT_MESSAGE, async (e: any) => {\n    let parsedData;\n\n    try {\n      parsedData = JSON.parse(e.detail.data);\n    } catch (e) {\n      console.warn('Unable to parse websocket data: ', e);\n      return;\n    }\n\n    const { PodName, ContainerName, Message, Timestamp } = parsedData;\n\n    const line = `[${ PodName }] ${ ContainerName } ${ Message }`;\n\n    // If logs are being filtered, make sure there are no old lines, and\n    // ensure there aren't repeat lines.\n    if (\n      tail.value != undefined ||\n      since.value != undefined ||\n      sinceTime.value != undefined\n    ) {\n      lines.value.length = 0;\n    }\n\n    if (line == \"[]  ___FILTER_COMPLETE___\") {\n      isApplyingFilters.value = false;\n      return;\n    }\n\n    backlog.value.push({\n      id:     lastId.value++,\n      msg:    props.ansiToHtml ? ansiup.ansi_to_html(line) : line,\n      rawMsg: line,\n      time:   Timestamp || null,\n    });\n  });\n\n  socket.value.connect();\n};\n\nconst flush = () => {\n  if (backlog.value.length) {\n    lines.value.push(...backlog.value);\n    backlog.value = [];\n  }\n\n  if (isFollowing.value) {\n    nextTick(() => {\n      follow();\n    });\n  }\n};\n\nconst updateFollowing = () => {\n  const el = body.value;\n\n  isFollowing.value = el.scrollTop + el.clientHeight + 2 >= el.scrollHeight;\n};\n\nconst clear = () => {\n  lines.value = [];\n};\n\nconst download = (btnCb) => {\n  const date = new Date().toISOString().split('.')[0];\n  const fileName = `${ props.application.nameDisplay }-${ date }`;\n\n  downloadFile(fileName, lines.value.map((l) => `${ l.rawMsg }`).join('\\n'))\n    .then(() => btnCb(true))\n    .catch(() => btnCb(false));\n};\n\nconst follow = () => {\n  body.value.scrollTop = body.value.scrollHeight;\n};\n\nconst toggleWrap = () => {\n  store.dispatch('prefs/set', { key: LOGS_WRAP, value: wrap.value });\n};\n\nconst format = (time) => {\n  if (!time) {\n    return '';\n  }\n\n  return day(time).format(timeFormatStr.value);\n};\n\nconst cleanup = () => {\n  if (socket.value) {\n    socket.value.disconnect();\n    socket.value = null;\n  }\n\n  clearInterval(timerFlush.value);\n};\n\nconst applyFilters = async () => {\n  // Prevent multiple simultaneous reconnections\n  if (isApplyingFilters.value) {\n    return;\n  }\n\n  isApplyingFilters.value = true;\n\n  try {\n    // Clear conflicting filters\n    if (sinceTime.value && since.value) {\n      sinceTime.value = undefined;\n    }\n\n    let sinceTimeParsed = undefined;\n    if (sinceTime.value) {\n      sinceTimeParsed = new Date(sinceTime.value).toISOString();\n    }\n\n    const payload = {\n      type: 'filter_params',\n      params: {\n        follow: false,\n        tail: tail.value,\n        since: since.value,\n        since_time: sinceTimeParsed,\n      }\n    };\n\n    const payload_string = JSON.stringify(payload);\n\n    socket.value.send(payload_string);\n\n  } catch (e) {\n    console.error('Error applying log filters:', e);\n  }\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_VDropdown = _resolveComponent(\"VDropdown\")!\n  const _directive_clean_html = _resolveDirective(\"clean-html\")!\n\n  return (_openBlock(), _createBlock(_unref(Window), {\n    active: active.value,\n    \"before-close\": cleanup,\n    class: \"epinio-app-log\"\n  }, {\n    title: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          (_unref(instanceChoices).length > 1)\n            ? (_openBlock(), _createBlock(_unref(Select), {\n                key: 0,\n                value: instance.value,\n                \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((instance).value = $event)),\n                disabled: _unref(instanceChoices).length === 1,\n                class: \"containerPicker auto-width\",\n                options: instanceChoicesWithNone.value,\n                clearable: true,\n                placement: \"top\",\n                placeholder: \"Filter by Instance\"\n              }, null, 8, [\"value\", \"disabled\", \"options\"]))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"button\", {\n            class: \"btn bg-primary ml-5\",\n            disabled: isFollowing.value,\n            onClick: follow\n          }, _toDisplayString(_unref(t)('wm.containerLogs.follow')), 9, _hoisted_3),\n          _createElementVNode(\"button\", {\n            class: \"btn bg-primary ml-5\",\n            onClick: clear\n          }, _toDisplayString(_unref(t)('wm.containerLogs.clear')), 1),\n          _createVNode(_unref(AsyncButton), {\n            class: \"ml-5\",\n            mode: \"download\",\n            onClick: download\n          })\n        ]),\n        _cache[13] || (_cache[13] = _createElementVNode(\"div\", { style: {\"flex\":\"1\"} }, null, -1)),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createElementVNode(\"span\", {\n              class: _normalizeClass({'text-success': _unref(isOpen), 'text-error': !_unref(isOpen)})\n            }, _toDisplayString(_unref(t)(_unref(isOpen) ? 'wm.connection.connected' : 'wm.connection.disconnected')), 3)\n          ]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createVNode(_component_VDropdown, { placement: \"top-end\" }, {\n              popper: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_7, [\n                  _createVNode(_unref(Checkbox), {\n                    value: wrap.value,\n                    \"onUpdate:value\": [\n                      _cache[1] || (_cache[1] = ($event: any) => ((wrap).value = $event)),\n                      toggleWrap\n                    ],\n                    label: _unref(t)('wm.containerLogs.wrap')\n                  }, null, 8, [\"value\", \"label\"]),\n                  _createElementVNode(\"div\", _hoisted_8, [\n                    _cache[7] || (_cache[7] = _createElementVNode(\"label\", { class: \"text-label\" }, \"Tail (number of lines)\", -1)),\n                    _withDirectives(_createElementVNode(\"input\", {\n                      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((tail).value = $event)),\n                      type: \"number\",\n                      class: \"form-control\",\n                      placeholder: \"e.g., 100\",\n                      min: \"1\"\n                    }, null, 512), [\n                      [\n                        _vModelText,\n                        tail.value,\n                        void 0,\n                        { number: true }\n                      ]\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_9, [\n                    _cache[8] || (_cache[8] = _createElementVNode(\"label\", { class: \"text-label\" }, \"Since (duration)\", -1)),\n                    _withDirectives(_createElementVNode(\"input\", {\n                      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((since).value = $event)),\n                      type: \"text\",\n                      class: \"form-control\",\n                      placeholder: \"e.g., 1h, 30m, 24h\",\n                      disabled: !!sinceTime.value\n                    }, null, 8, _hoisted_10), [\n                      [_vModelText, since.value]\n                    ]),\n                    _cache[9] || (_cache[9] = _createElementVNode(\"small\", { class: \"text-muted\" }, \"Use this OR Since Time below\", -1))\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_11, [\n                    _cache[10] || (_cache[10] = _createElementVNode(\"label\", { class: \"text-label\" }, \"Since Time (absolute date)\", -1)),\n                    _withDirectives(_createElementVNode(\"input\", {\n                      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((sinceTime).value = $event)),\n                      type: \"datetime-local\",\n                      class: \"form-control\",\n                      disabled: !!since.value\n                    }, null, 8, _hoisted_12), [\n                      [_vModelText, sinceTime.value]\n                    ]),\n                    _cache[11] || (_cache[11] = _createElementVNode(\"small\", { class: \"text-muted\" }, \"Use this OR Since above\", -1))\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _createElementVNode(\"button\", {\n                      class: \"btn btn-sm bg-primary mt-10\",\n                      disabled: isApplyingFilters.value,\n                      onClick: applyFilters\n                    }, _toDisplayString(isApplyingFilters.value ? 'Applying...' : 'Apply Filters'), 9, _hoisted_13),\n                    _createElementVNode(\"button\", {\n                      class: \"btn btn-sm bg-warning mt-10 ml-5\",\n                      disabled: !tail.value && !since.value && !sinceTime.value,\n                      onClick: _cache[5] || (_cache[5] = ($event: any) => {\n                        tail.value = null;\n                        since.value = null;\n                        sinceTime.value = null;\n                        applyFilters();\n                      })\n                    }, \" Clear Filters \", 8, _hoisted_14)\n                  ])\n                ])\n              ]),\n              default: _withCtx(() => [\n                _cache[12] || (_cache[12] = _createElementVNode(\"button\", { class: \"btn bg-primary\" }, [\n                  _createElementVNode(\"i\", { class: \"icon icon-gear\" })\n                ], -1))\n              ]),\n              _: 1,\n              __: [12]\n            })\n          ]),\n          _createElementVNode(\"div\", _hoisted_15, [\n            _withDirectives(_createElementVNode(\"input\", {\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((search).value = $event)),\n              class: \"input-sm\",\n              type: \"search\",\n              placeholder: _unref(t)('wm.containerLogs.search')\n            }, null, 8, _hoisted_16), [\n              [_vModelText, search.value]\n            ])\n          ])\n        ])\n      ])\n    ]),\n    body: _withCtx(() => [\n      _createElementVNode(\"div\", {\n        ref_key: \"body\",\n        ref: body,\n        class: _normalizeClass({'logs-container': true, 'open': _unref(isOpen), 'closed': !_unref(isOpen), 'show-times': _unref(timestamps) && filtered.value.length, 'wrap-lines': wrap.value})\n      }, [\n        _createElementVNode(\"table\", _hoisted_17, [\n          _createElementVNode(\"tbody\", _hoisted_18, [\n            (filtered.value.length)\n              ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(filtered.value, (line) => {\n                  return (_openBlock(), _createElementBlock(\"tr\", {\n                    key: line.id\n                  }, [\n                    _withDirectives(_createElementVNode(\"td\", _hoisted_19, null, 512), [\n                      [_directive_clean_html, format(line.time)]\n                    ]),\n                    _withDirectives(_createElementVNode(\"td\", _hoisted_20, null, 512), [\n                      [_directive_clean_html, line.msg]\n                    ])\n                  ]))\n                }), 128))\n              : (search.value)\n                ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_21, [\n                    _createElementVNode(\"td\", _hoisted_22, _toDisplayString(_unref(t)('wm.containerLogs.noMatch')), 1)\n                  ]))\n                : (_openBlock(), _createElementBlock(\"tr\", _hoisted_23, [\n                    _createElementVNode(\"td\", _hoisted_24, _toDisplayString(_unref(t)('epinio.applications.wm.noData')), 1)\n                  ]))\n          ])\n        ])\n      ], 2)\n    ]),\n    _: 1\n  }, 8, [\"active\"]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { useStore } from 'vuex';\nimport {\n  ref,\n  onMounted,\n  onBeforeUnmount,\n  computed,\n  nextTick,\n  PropType,\n} from 'vue';\n\nimport Socket, {\n  EVENT_CONNECTED,\n  EVENT_DISCONNECTED,\n  EVENT_MESSAGE,\n  EVENT_CONNECT_ERROR\n} from '@shell/utils/socket';\nimport day from 'dayjs';\nimport AnsiUp from 'ansi_up';\nimport { addParams } from '@shell/utils/url';\nimport { downloadFile } from '@shell/utils/download';\nimport { escapeHtml, escapeRegex } from '@shell/utils/string';\nimport { LOGS_TIME, LOGS_WRAP, DATE_FORMAT, TIME_FORMAT } from '@shell/store/prefs';\n\nimport Select from '@shell/components/form/Select';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport Window from '@shell/components/nav/WindowManager/Window';\n\nimport { useApplicationSocketMixin } from './ApplicationSocketMixin';\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = defineProps({\n  application: {\n    type: Object as PropType<object>,\n    default: null,\n  },\n  endpoint: {\n    type: String as PropType<string>,\n    default: '',\n  },\n  ansiToHtml: {\n    type: Boolean as PropType<boolean>,\n    default: false,\n  },\n  initialInstance: {\n    type:    String,\n    default: null,\n  },\n});\n\nconst {\n  socket,\n  isOpen,\n  backlog,\n  instanceChoices,\n  getRootSocketUrl,\n} = useApplicationSocketMixin(props);\n\nconst lastId = ref<number>(1);\nconst search = ref<string>('');\nconst instance = ref<string>(props.initialInstance || instanceChoices[0]);\nconst lines = ref<Array<any>>([]);\nconst timerFlush = ref<object>(null);\nconst isFollowing = ref<boolean>(false);\nconst active = ref<boolean>(true);\nconst body = ref<HTMLElement>(null);\nconst isApplyingFilters = ref<boolean>(false);\n\n// Time-based filter parameters\nconst tail = ref<number | null>(null); // Number of lines to show\nconst since = ref<string | null>(null); // Duration like \"1h\", \"30m\", \"24h\"\nconst sinceTime = ref<string | null>(null); // ISO datetime string from native input\n\nconst ansiup = new AnsiUp();\nconst timestamps = store.getters['prefs/get'](LOGS_TIME);\nconst wrap = ref<boolean>(store.getters['prefs/get'](LOGS_WRAP));\n\nonMounted(async () => {\n  await connect();\n  let boundUpdateFollowing = updateFollowing.bind(body);\n  body.value.addEventListener('scroll', boundUpdateFollowing);\n  timerFlush.value = setInterval(flush, 100);\n});\n\nonBeforeUnmount(() => {\n  const el = document.querySelector('.logs-container') as HTMLElement;\n  if (el) {\n    el.removeEventListener('scroll', updateFollowing);\n  }\n  cleanup();\n  isOpen.value = false;\n});\n\nconst instanceChoicesWithNone = computed(() => {\n  return [\n    ...instanceChoices.value,\n    {\n      label: 'No Instance Filter',\n      value: null\n    }\n  ];\n});\n\nconst filtered = computed(() => {\n  if (!search.value && !instance.value) {\n    return lines.value;\n  }\n\n  const re = new RegExp(escapeRegex(search.value), 'img');\n  const out = [];\n\n  for (const line of lines.value) {\n    let msg = line.rawMsg;\n\n    if (instance.value) {\n      const pod = msg.substring(1, msg.length);\n\n      if (!pod.startsWith(instance.value)) {\n        continue;\n      }\n    }\n\n    const matches = msg.match(re);\n\n    if (!matches) {\n      continue;\n    }\n\n    const parts = msg.split(re);\n\n    msg = '';\n    while (parts.length || matches.length) {\n      if (parts.length) {\n        msg += ansiup.ansi_to_html(parts.shift()); // This also escapes\n      }\n\n      if (matches.length) {\n        msg += `<span class=\"highlight\">${ ansiup.ansi_to_html(matches.shift()) }</span>`;\n      }\n    }\n\n    out.push({\n      id:   line.id,\n      time: line.time,\n      msg,\n    });\n  }\n\n  return out;\n});\n\nconst timeFormatStr = computed(() => {\n  const dateFormat = escapeHtml(store.getters['prefs/get'](DATE_FORMAT));\n  const timeFormat = escapeHtml(store.getters['prefs/get'](TIME_FORMAT));\n\n  return `${ dateFormat } ${ timeFormat }`;\n});\n\nconst getSocketUrl = async () => {\n  const { url, token } = await getRootSocketUrl();\n\n  // Build params object with time-based filters\n  const params: any = {\n    follow: true,\n    authtoken: token\n  };\n\n  // Add optional filter parameters if they have values\n  if (tail.value !== null && tail.value > 0) {\n    params.tail = tail.value;\n  }\n\n  // Add time-based filters (since_seconds or since duration)\n  if (sinceTime.value) {\n    const selectedTime = new Date(sinceTime.value).getTime();\n    const secondsAgo = Math.floor((Date.now() - selectedTime) / 1000);\n\n    if (secondsAgo > 0) {\n      params.since_seconds = secondsAgo;\n    }\n  } else if (since.value) {\n    params.since = since.value; // Duration like \"1h\", \"30m\", \"24h\"\n  }\n\n  return addParams(url, params);\n};\n\nconst connect = async () => {\n  console.log('Connecting to application logs socket...');\n  // Disconnect existing socket and clear logs\n  if (socket.value) {\n    console.log('Disconnecting existing socket...');\n    await socket.value.disconnect();\n    socket.value = null;\n  }\n  lines.value = [];\n\n  const url = await getSocketUrl();\n\n  socket.value = new Socket(url, true, 0);\n  socket.value.setAutoReconnectUrl(getSocketUrl);\n\n  socket.value.addEventListener(EVENT_CONNECTED, () => {\n    isOpen.value = true;\n  });\n\n  socket.value.addEventListener(EVENT_DISCONNECTED, () => {\n    isOpen.value = false;\n  });\n\n  socket.value.addEventListener(EVENT_CONNECT_ERROR, (e: any) => {\n    isOpen.value = false;\n    console.error('WebSocket Connect Error', e);\n  });\n\n  socket.value.addEventListener(EVENT_MESSAGE, async (e: any) => {\n    let parsedData;\n\n    try {\n      parsedData = JSON.parse(e.detail.data);\n    } catch (e) {\n      console.warn('Unable to parse websocket data: ', e);\n      return;\n    }\n\n    const { PodName, ContainerName, Message, Timestamp } = parsedData;\n\n    const line = `[${ PodName }] ${ ContainerName } ${ Message }`;\n\n    // If logs are being filtered, make sure there are no old lines, and\n    // ensure there aren't repeat lines.\n    if (\n      tail.value != undefined ||\n      since.value != undefined ||\n      sinceTime.value != undefined\n    ) {\n      lines.value.length = 0;\n    }\n\n    if (line == \"[]  ___FILTER_COMPLETE___\") {\n      isApplyingFilters.value = false;\n      return;\n    }\n\n    backlog.value.push({\n      id:     lastId.value++,\n      msg:    props.ansiToHtml ? ansiup.ansi_to_html(line) : line,\n      rawMsg: line,\n      time:   Timestamp || null,\n    });\n  });\n\n  socket.value.connect();\n};\n\nconst flush = () => {\n  if (backlog.value.length) {\n    lines.value.push(...backlog.value);\n    backlog.value = [];\n  }\n\n  if (isFollowing.value) {\n    nextTick(() => {\n      follow();\n    });\n  }\n};\n\nconst updateFollowing = () => {\n  const el = body.value;\n\n  isFollowing.value = el.scrollTop + el.clientHeight + 2 >= el.scrollHeight;\n};\n\nconst clear = () => {\n  lines.value = [];\n};\n\nconst download = (btnCb) => {\n  const date = new Date().toISOString().split('.')[0];\n  const fileName = `${ props.application.nameDisplay }-${ date }`;\n\n  downloadFile(fileName, lines.value.map((l) => `${ l.rawMsg }`).join('\\n'))\n    .then(() => btnCb(true))\n    .catch(() => btnCb(false));\n};\n\nconst follow = () => {\n  body.value.scrollTop = body.value.scrollHeight;\n};\n\nconst toggleWrap = () => {\n  store.dispatch('prefs/set', { key: LOGS_WRAP, value: wrap.value });\n};\n\nconst format = (time) => {\n  if (!time) {\n    return '';\n  }\n\n  return day(time).format(timeFormatStr.value);\n};\n\nconst cleanup = () => {\n  if (socket.value) {\n    socket.value.disconnect();\n    socket.value = null;\n  }\n\n  clearInterval(timerFlush.value);\n};\n\nconst applyFilters = async () => {\n  // Prevent multiple simultaneous reconnections\n  if (isApplyingFilters.value) {\n    return;\n  }\n\n  isApplyingFilters.value = true;\n\n  try {\n    // Clear conflicting filters\n    if (sinceTime.value && since.value) {\n      sinceTime.value = undefined;\n    }\n\n    let sinceTimeParsed = undefined;\n    if (sinceTime.value) {\n      sinceTimeParsed = new Date(sinceTime.value).toISOString();\n    }\n\n    const payload = {\n      type: 'filter_params',\n      params: {\n        follow: false,\n        tail: tail.value,\n        since: since.value,\n        since_time: sinceTimeParsed,\n      }\n    };\n\n    const payload_string = JSON.stringify(payload);\n\n    socket.value.send(payload_string);\n\n  } catch (e) {\n    console.error('Error applying log filters:', e);\n  }\n};\n</script>\n\n<template>\n  <Window\n    :active=\"active\"\n    :before-close=\"cleanup\"\n    class=\"epinio-app-log\"\n  >\n    <template #title>\n      <div class=\"title-inner log-action \">\n        <div class=\"title-inner-left\">\n          <Select\n            v-if=\"instanceChoices.length > 1\"\n            v-model:value=\"instance\"\n            :disabled=\"instanceChoices.length === 1\"\n            class=\"containerPicker auto-width\"\n            :options=\"instanceChoicesWithNone\"\n            :clearable=\"true\"\n            placement=\"top\"\n            placeholder=\"Filter by Instance\"\n          />\n\n          <button\n            class=\"btn bg-primary ml-5\"\n            :disabled=\"isFollowing\"\n            @click=\"follow\"\n          >\n            {{t('wm.containerLogs.follow')}}\n          </button>\n           <button\n            class=\" btn bg-primary ml-5\"\n            @click=\"clear\"\n          >\n            {{t('wm.containerLogs.clear')}}\n          </button>\n          <AsyncButton\n            class=\"ml-5\"\n            mode=\"download\"\n            @click=\"download\"\n          />\n        </div>\n        <div style=\"flex: 1;\" />\n        <div class=\"title-inner-right\">\n          <div\n            class=\"status log-action text-center p-10\"\n            style=\"min-width: 80px;\"\n          >\n            <span :class=\"{'text-success': isOpen, 'text-error': !isOpen}\">\n              {{t(isOpen ? 'wm.connection.connected' : 'wm.connection.disconnected')}}\n            </span>\n          </div>\n          <div class=\"log-action ml-5\">\n            <VDropdown placement=\"top-end\">\n              <button class=\"btn bg-primary\">\n                <i class=\"icon icon-gear\" />\n              </button>\n              <template #popper>\n                <div class=\"filter-popup\">\n                  <Checkbox\n                    v-model:value=\"wrap\"\n                    :label=\"t('wm.containerLogs.wrap')\"\n                    @update:value=\"toggleWrap\"\n                  />\n\n                  <div class=\"filter-section\">\n                    <label class=\"text-label\">Tail (number of lines)</label>\n                    <input\n                      v-model.number=\"tail\"\n                      type=\"number\"\n                      class=\"form-control\"\n                      placeholder=\"e.g., 100\"\n                      min=\"1\"\n                    >\n                  </div>\n\n                  <div class=\"filter-section\">\n                    <label class=\"text-label\">Since (duration)</label>\n                    <input\n                      v-model=\"since\"\n                      type=\"text\"\n                      class=\"form-control\"\n                      placeholder=\"e.g., 1h, 30m, 24h\"\n                      :disabled=\"!!sinceTime\"\n                    >\n                    <small class=\"text-muted\">Use this OR Since Time below</small>\n                  </div>\n\n                  <div class=\"filter-section\">\n                    <label class=\"text-label\">Since Time (absolute date)</label>\n                    <input\n                      v-model=\"sinceTime\"\n                      type=\"datetime-local\"\n                      class=\"form-control\"\n                      :disabled=\"!!since\"\n                    >\n                    <small class=\"text-muted\">Use this OR Since above</small>\n                  </div>\n\n                  <div>\n                    <button\n                      class=\"btn btn-sm bg-primary mt-10\"\n                      :disabled=\"isApplyingFilters\"\n                      @click=\"applyFilters\"\n                    >\n                      {{ isApplyingFilters ? 'Applying...' : 'Apply Filters' }}\n                    </button>\n                    <button\n                      class=\"btn btn-sm bg-warning mt-10 ml-5\"\n                      :disabled=\"!tail && !since && !sinceTime\"\n                      @click=\"\n                        tail = null;\n                        since = null;\n                        sinceTime = null;\n                        applyFilters();\n                      \"\n                    >\n                      Clear Filters\n                    </button>\n                  </div>\n                </div>\n              </template>\n            </VDropdown>\n          </div>\n          <div class=\"log-action  ml-5\">\n            <input\n              v-model=\"search\"\n              class=\"input-sm\"\n              type=\"search\"\n              :placeholder=\"t('wm.containerLogs.search')\"\n            >\n          </div>\n        </div>\n      </div>\n    </template>\n    <template #body>\n      <div\n        ref=\"body\"\n        :class=\"{'logs-container': true, 'open': isOpen, 'closed': !isOpen, 'show-times': timestamps && filtered.length, 'wrap-lines': wrap}\"\n      >\n        <table\n          class=\"fixed\"\n          cellpadding=\"0\"\n          cellspacing=\"0\"\n        >\n          <tbody class=\"logs-body\">\n            <template v-if=\"filtered.length\">\n              <tr\n                v-for=\"line in filtered\"\n                :key=\"line.id\"\n              >\n                <td\n                  v-clean-html=\"format(line.time)\"\n                  class=\"time\"\n                />\n                <td\n                  v-clean-html=\"line.msg\"\n                  class=\"msg\"\n                />\n              </tr>\n            </template>\n            <tr v-else-if=\"search\">\n              <td colspan=\"2\" class=\"msg text-muted\">\n                {{t('wm.containerLogs.noMatch')}}\n              </td>\n            </tr>\n            <tr v-else>\n              <td colspan=\"2\" class=\"msg text-muted\">\n                {{t('epinio.applications.wm.noData')}}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </template>\n  </Window>\n</template>\n\n<style lang=\"scss\">\n.epinio-app-log {\n  .v-select.inline.vs--single.vs--open .vs__selected {\n    position: inherit;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n  .title-inner {\n    display: flex;\n    flex-direction: row;\n  }\n  .title-inner {\n    display: flex;\n    flex-direction: row;\n    &-left, &-right {\n      display: flex;\n      flex-direction: row;\n    }\n  }\n  // .title-left {\n\n  // }\n\n  .logs-container {\n    height: 100%;\n    overflow: auto;\n    padding: 5px;\n    background-color: var(--logs-bg);\n    font-family: Menlo,Consolas,monospace;\n    color: var(--logs-text);\n\n    .closed {\n      opacity: 0.25;\n    }\n\n    .time {\n      white-space: nowrap;\n      display: none;\n      width: 0;\n      padding-right: 15px;\n      user-select: none;\n    }\n\n    &.show-times .time {\n      display: initial;\n      width: auto;\n    }\n\n    .msg {\n      white-space: nowrap;\n\n      .highlight {\n        color: var(--logs-highlight);\n        background-color: var(--logs-highlight-bg);\n      }\n    }\n\n    &.wrap-lines .msg {\n      white-space: normal;\n    }\n  }\n\n  .containerPicker {\n    ::v-deep &.unlabeled-select {\n      display: inline-block;\n      min-width: 200px;\n      height: 30px;\n      min-height: 30px;\n      width: initial;\n    }\n  }\n\n  .log-action {\n    button {\n      border: 0 !important;\n      min-height: 30px;\n      line-height: 30px;\n    }\n\n    > input {\n      height: 30px;\n    }\n  }\n\n  .status {\n    align-items: center;\n    display: flex;\n    min-width: 80px;\n    height: 30px;\n  }\n\n  .filter-popup {\n    padding: 10px;\n    width: 280px;\n    position: relative;\n    overflow: visible;\n\n    > * {\n      margin-bottom: 10px;\n    }\n\n    .filter-section {\n      margin-top: 15px;\n\n      .text-label {\n        display: block;\n        margin-bottom: 5px;\n        font-size: 12px;\n        font-weight: 600;\n      }\n\n      .form-control {\n        width: 100%;\n        padding: 5px 10px;\n        border: 1px solid var(--border);\n        border-radius: 3px;\n        background-color: var(--input-bg);\n        color: var(--input-text);\n\n        &:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n      }\n\n      .text-muted {\n        display: block;\n        margin-top: 3px;\n        font-size: 11px;\n        opacity: 0.7;\n      }\n    }\n\n    .mt-10 {\n      margin-top: 10px;\n    }\n  }\n\n  .title-left {\n    display: flex;\n  }\n</style>\n\n","import script from \"./ApplicationLogs.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ApplicationLogs.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ApplicationLogs.vue?vue&type=style&index=0&id=01438164&lang=scss\"\nimport \"./ApplicationLogs.vue?vue&type=style&index=1&id=01438164&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-01438164\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".epinio-app-log .v-select.inline.vs--single.vs--open .vs__selected{position:inherit}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./ApplicationLogs.vue?vue&type=style&index=1&id=01438164&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7a5d5b3c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, withCtx as _withCtx } from \"vue\"\n\nconst _hoisted_1 = { class: \"pull-left ml-5\" }\nconst _hoisted_2 = { class: \"status pull-left\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"text-success\"\n}\nconst _hoisted_4 = {\n  key: 1,\n  class: \"text-warning\"\n}\nconst _hoisted_5 = {\n  key: 2,\n  class: \"text-error\"\n}\n\nimport { useStore } from 'vuex';\nimport { \n  ref, \n  onMounted, \n  onBeforeUnmount, \n  watch,\n  PropType,\n} from 'vue';\n\nimport Socket, {\n  EVENT_CONNECTED,\n  EVENT_CONNECTING,\n  EVENT_DISCONNECTED,\n  EVENT_MESSAGE,\n  EVENT_CONNECT_ERROR,\n} from '@shell/utils/socket';\nimport { allHash } from '@shell/utils/promise';\nimport { addParams } from '@shell/utils/url';\nimport { base64Decode, base64Encode } from '@shell/utils/crypto';\nimport { useApplicationSocketMixin } from './ApplicationSocketMixin';\n\nimport Select from '@shell/components/form/Select';\nimport Window from '@shell/components/nav/WindowManager/Window';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ApplicationShell',\n  props: {\n  application: {\n    type: Object as PropType<object>,\n    default: null,\n  },\n  endpoint: {\n    type: String as PropType<string>,\n    default: '',\n  },\n  initialInstance: {\n    type: String,\n    default: null,\n  },\n},\n  setup(__props) {\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = __props;\n\nconst {\n  socket,\n  isOpen,\n  backlog,\n  instanceChoices,\n  getRootSocketUrl,\n} = useApplicationSocketMixin(props);\n\nconst active = ref<boolean>(true);\nconst xterm = ref<HTMLElement | null>(null);\nconst instance = ref<string>(props.initialInstance || instanceChoices.value[0]);\nconst terminal = ref<object | null>(null);\nconst fitAddon = ref<object | null>(null);\nconst searchAddon = ref<object | null>(null);\nconst webglAddon = ref<object | null>(null);\nconst isOpening = ref<boolean>(false);\nconst keepAliveTimer = ref<object | null>(null);\nconst xtermConfig = {\n  allowProposedApi: true,\n  cursorBlink:      true,\n  useStyle:         true,\n  fontSize:         12,\n};\n\nwatch(\n  () => instance.value,\n  () => {\n    connect();\n  }\n);\n\nonBeforeUnmount(() => {\n  clearInterval(keepAliveTimer.value);\n  cleanup();\n});\n\nonMounted(async () => {\n  await setupTerminal();\n  await connect();\n\n  isOpen.value = true;\n\n  clearInterval(keepAliveTimer.value);\n  keepAliveTimer.value = setInterval(() => {\n    fit();\n  }, 60 * 1000);\n}); \n\nconst setupTerminal = async () => {\n  const docStyle = getComputedStyle(document.querySelector('body'));\n  const xtermLib = await import('xterm');\n\n  const addons = await allHash({\n    fit:      import('xterm-addon-fit'),\n    webgl:    import('xterm-addon-webgl'),\n    weblinks: import('xterm-addon-web-links'),\n    search:   import('xterm-addon-search'),\n  });\n\n  const terminalTemp = new xtermLib.Terminal({\n    theme: {\n      background: docStyle.getPropertyValue('--terminal-bg').trim(),\n      foreground: docStyle.getPropertyValue('--terminal-text').trim(),\n      cursor: docStyle.getPropertyValue('--terminal-cursor').trim(),\n      selectionBackground: docStyle.getPropertyValue('--terminal-selection').trim(),\n    },\n    ...xtermConfig,\n  });\n\n  fitAddon.value = new addons.fit.FitAddon();\n  searchAddon.value = new addons.search.SearchAddon();\n\n  try {\n    webglAddon.value = new addons.webgl.WebGlAddon();\n  } catch (e: any) { // eslint-disable-line @typescript-eslint/no-unused-vars\n    // Some browsers (Safari) don't support the webgl renderer, so don't use it.\n    webglAddon.value = null;\n  }\n\n  terminalTemp.loadAddon(fitAddon.value);\n  terminalTemp.loadAddon(searchAddon.value);\n  terminalTemp.loadAddon(new addons.weblinks.WebLinksAddon());\n  if (webglAddon.value) {\n    terminalTemp.loadAddon(webglAddon.value);\n  }\n  \n  terminalTemp.open(xterm.value);\n\n  fit();\n  flush();\n\n  terminalTemp.onData((input) => {\n    const msg = `0${ base64Encode(input) }`;\n\n    write(msg);\n  });\n\n  terminal.value = terminalTemp;\n};\n\nconst write = (msg) => {\n  if (isOpen.value) {\n    socket.value.send(msg);\n  } else {\n    backlog.value.push(msg);\n  }\n};\n\nconst clear = () => {\n  terminal.value.clear();\n};\n\nconst getSocketUrl = async () => {\n  const { url, token } = await getRootSocketUrl();\n\n  return addParams(url, {\n    authtoken: token,\n    instance: instance.value,\n  });\n};\n\nconst connect = async () => {\n  if (socket.value) {\n    await socket.value.disconnect();\n    socket.value = null;\n    terminal.value.reset();\n  }\n\n  const url = await getSocketUrl();\n\n  if (!url) {\n    return;\n  }\n\n  socket.value = new Socket(url, false, 0, 'base64.channel.k8s.io');\n\n  socket.value.addEventListener(EVENT_CONNECTING, () => {\n    isOpen.value = false;\n    isOpening.value = true;\n  });\n\n  socket.value.addEventListener(EVENT_CONNECT_ERROR, (e) => {\n    isOpen.value = false;\n    isOpening.value = false;\n    console.error('Connect Error', e);\n  });\n\n  socket.value.addEventListener(EVENT_CONNECTED, () => {\n    isOpen.value = true;\n    isOpening.value = false;\n    fit();\n    flush();\n  });\n\n  socket.value.addEventListener(EVENT_DISCONNECTED, () => {\n    isOpen.value = false;\n    isOpening.value = false;\n  });\n\n  socket.value.addEventListener(EVENT_MESSAGE, (e) => {\n    const type = e.detail.data.substr(0, 1);\n    const msg = base64Decode(e.detail.data.substr(1));\n\n    if (`${ type }` === '1') {\n      terminal.value.write(msg);\n    } else {\n      console.error(msg);\n    }\n  });\n\n  socket.value.connect();\n  terminal.value.focus();\n};\n\nconst flush = () => {\n  const backlogTemp = backlog.value.slice();\n\n  backlog.value = [];\n\n  for (const data of backlogTemp) {\n    socket.value.send(data);\n  }\n};\n\nconst fit = () => {\n  if (!fitAddon.value) {\n    return;\n  }\n  \n  fitAddon.value.fit();\n  const { rows, cols } = fitAddon.value.proposeDimensions();\n\n  if (!isOpen.value) {\n    return;\n  }\n\n  const message = `4${ base64Encode(\n    JSON.stringify({\n      Width:  Math.floor(cols),\n      Height: Math.floor(rows),\n    })\n  ) }`;\n\n  socket.value.send(message);\n};\n\nconst cleanup = () => {\n  if (socket.value) {\n    socket.value.disconnect();\n    socket.value = null;\n  }\n\n  if (terminal.value) {\n    terminal.value.dispose();\n    terminal.value = null;\n  }\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_resize_observer = _resolveComponent(\"resize-observer\")!\n  const _directive_clean_html = _resolveDirective(\"clean-html\")!\n\n  return (_openBlock(), _createBlock(_unref(Window), {\n    active: active.value,\n    \"before-close\": cleanup,\n    class: \"epinio-app-shell\"\n  }, {\n    title: _withCtx(() => [\n      (_unref(instanceChoices).length > 1)\n        ? (_openBlock(), _createBlock(_unref(Select), {\n            key: 0,\n            value: instance.value,\n            \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((instance).value = $event)),\n            disabled: _unref(instanceChoices).length === 1,\n            class: \"containerPicker auto-width pull-left\",\n            options: _unref(instanceChoices),\n            clearable: false,\n            placement: \"top\"\n          }, null, 8, [\"value\", \"disabled\", \"options\"]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"button\", {\n          class: \"btn btn-sm bg-primary\",\n          onClick: clear\n        }, _toDisplayString(_unref(t)('wm.containerShell.clear')), 1)\n      ]),\n      _createElementVNode(\"div\", _hoisted_2, [\n        (_unref(isOpen))\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _toDisplayString(_unref(t)('wm.connection.connected')), 1))\n          : (isOpening.value)\n            ? _withDirectives((_openBlock(), _createElementBlock(\"span\", _hoisted_4, null, 512)), [\n                [_directive_clean_html, _unref(t)('wm.connection.connecting')]\n              ])\n            : (_openBlock(), _createElementBlock(\"span\", _hoisted_5, _toDisplayString(_unref(t)('wm.connection.disconnected')), 1))\n      ])\n    ]),\n    body: _withCtx(() => [\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"shell-container\", { open: _unref(isOpen), closed: !_unref(isOpen) }])\n      }, [\n        _createElementVNode(\"div\", {\n          ref_key: \"xterm\",\n          ref: xterm,\n          class: \"shell-body\"\n        }, null, 512),\n        _createVNode(_component_resize_observer, { onNotify: fit })\n      ], 2)\n    ]),\n    _: 1\n  }, 8, [\"active\"]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { useStore } from 'vuex';\nimport { \n  ref, \n  onMounted, \n  onBeforeUnmount, \n  watch,\n  PropType,\n} from 'vue';\n\nimport Socket, {\n  EVENT_CONNECTED,\n  EVENT_CONNECTING,\n  EVENT_DISCONNECTED,\n  EVENT_MESSAGE,\n  EVENT_CONNECT_ERROR,\n} from '@shell/utils/socket';\nimport { allHash } from '@shell/utils/promise';\nimport { addParams } from '@shell/utils/url';\nimport { base64Decode, base64Encode } from '@shell/utils/crypto';\nimport { useApplicationSocketMixin } from './ApplicationSocketMixin';\n\nimport Select from '@shell/components/form/Select';\nimport Window from '@shell/components/nav/WindowManager/Window';\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = defineProps({\n  application: {\n    type: Object as PropType<object>,\n    default: null,\n  },\n  endpoint: {\n    type: String as PropType<string>,\n    default: '',\n  },\n  initialInstance: {\n    type: String,\n    default: null,\n  },\n});\n\nconst {\n  socket,\n  isOpen,\n  backlog,\n  instanceChoices,\n  getRootSocketUrl,\n} = useApplicationSocketMixin(props);\n\nconst active = ref<boolean>(true);\nconst xterm = ref<HTMLElement | null>(null);\nconst instance = ref<string>(props.initialInstance || instanceChoices.value[0]);\nconst terminal = ref<object | null>(null);\nconst fitAddon = ref<object | null>(null);\nconst searchAddon = ref<object | null>(null);\nconst webglAddon = ref<object | null>(null);\nconst isOpening = ref<boolean>(false);\nconst keepAliveTimer = ref<object | null>(null);\nconst xtermConfig = {\n  allowProposedApi: true,\n  cursorBlink:      true,\n  useStyle:         true,\n  fontSize:         12,\n};\n\nwatch(\n  () => instance.value,\n  () => {\n    connect();\n  }\n);\n\nonBeforeUnmount(() => {\n  clearInterval(keepAliveTimer.value);\n  cleanup();\n});\n\nonMounted(async () => {\n  await setupTerminal();\n  await connect();\n\n  isOpen.value = true;\n\n  clearInterval(keepAliveTimer.value);\n  keepAliveTimer.value = setInterval(() => {\n    fit();\n  }, 60 * 1000);\n}); \n\nconst setupTerminal = async () => {\n  const docStyle = getComputedStyle(document.querySelector('body'));\n  const xtermLib = await import('xterm');\n\n  const addons = await allHash({\n    fit:      import('xterm-addon-fit'),\n    webgl:    import('xterm-addon-webgl'),\n    weblinks: import('xterm-addon-web-links'),\n    search:   import('xterm-addon-search'),\n  });\n\n  const terminalTemp = new xtermLib.Terminal({\n    theme: {\n      background: docStyle.getPropertyValue('--terminal-bg').trim(),\n      foreground: docStyle.getPropertyValue('--terminal-text').trim(),\n      cursor: docStyle.getPropertyValue('--terminal-cursor').trim(),\n      selectionBackground: docStyle.getPropertyValue('--terminal-selection').trim(),\n    },\n    ...xtermConfig,\n  });\n\n  fitAddon.value = new addons.fit.FitAddon();\n  searchAddon.value = new addons.search.SearchAddon();\n\n  try {\n    webglAddon.value = new addons.webgl.WebGlAddon();\n  } catch (e: any) { // eslint-disable-line @typescript-eslint/no-unused-vars\n    // Some browsers (Safari) don't support the webgl renderer, so don't use it.\n    webglAddon.value = null;\n  }\n\n  terminalTemp.loadAddon(fitAddon.value);\n  terminalTemp.loadAddon(searchAddon.value);\n  terminalTemp.loadAddon(new addons.weblinks.WebLinksAddon());\n  if (webglAddon.value) {\n    terminalTemp.loadAddon(webglAddon.value);\n  }\n  \n  terminalTemp.open(xterm.value);\n\n  fit();\n  flush();\n\n  terminalTemp.onData((input) => {\n    const msg = `0${ base64Encode(input) }`;\n\n    write(msg);\n  });\n\n  terminal.value = terminalTemp;\n};\n\nconst write = (msg) => {\n  if (isOpen.value) {\n    socket.value.send(msg);\n  } else {\n    backlog.value.push(msg);\n  }\n};\n\nconst clear = () => {\n  terminal.value.clear();\n};\n\nconst getSocketUrl = async () => {\n  const { url, token } = await getRootSocketUrl();\n\n  return addParams(url, {\n    authtoken: token,\n    instance: instance.value,\n  });\n};\n\nconst connect = async () => {\n  if (socket.value) {\n    await socket.value.disconnect();\n    socket.value = null;\n    terminal.value.reset();\n  }\n\n  const url = await getSocketUrl();\n\n  if (!url) {\n    return;\n  }\n\n  socket.value = new Socket(url, false, 0, 'base64.channel.k8s.io');\n\n  socket.value.addEventListener(EVENT_CONNECTING, () => {\n    isOpen.value = false;\n    isOpening.value = true;\n  });\n\n  socket.value.addEventListener(EVENT_CONNECT_ERROR, (e) => {\n    isOpen.value = false;\n    isOpening.value = false;\n    console.error('Connect Error', e);\n  });\n\n  socket.value.addEventListener(EVENT_CONNECTED, () => {\n    isOpen.value = true;\n    isOpening.value = false;\n    fit();\n    flush();\n  });\n\n  socket.value.addEventListener(EVENT_DISCONNECTED, () => {\n    isOpen.value = false;\n    isOpening.value = false;\n  });\n\n  socket.value.addEventListener(EVENT_MESSAGE, (e) => {\n    const type = e.detail.data.substr(0, 1);\n    const msg = base64Decode(e.detail.data.substr(1));\n\n    if (`${ type }` === '1') {\n      terminal.value.write(msg);\n    } else {\n      console.error(msg);\n    }\n  });\n\n  socket.value.connect();\n  terminal.value.focus();\n};\n\nconst flush = () => {\n  const backlogTemp = backlog.value.slice();\n\n  backlog.value = [];\n\n  for (const data of backlogTemp) {\n    socket.value.send(data);\n  }\n};\n\nconst fit = () => {\n  if (!fitAddon.value) {\n    return;\n  }\n  \n  fitAddon.value.fit();\n  const { rows, cols } = fitAddon.value.proposeDimensions();\n\n  if (!isOpen.value) {\n    return;\n  }\n\n  const message = `4${ base64Encode(\n    JSON.stringify({\n      Width:  Math.floor(cols),\n      Height: Math.floor(rows),\n    })\n  ) }`;\n\n  socket.value.send(message);\n};\n\nconst cleanup = () => {\n  if (socket.value) {\n    socket.value.disconnect();\n    socket.value = null;\n  }\n\n  if (terminal.value) {\n    terminal.value.dispose();\n    terminal.value = null;\n  }\n};\n</script>\n\n<template>\n  <Window\n    :active=\"active\"\n    :before-close=\"cleanup\"\n    class=\"epinio-app-shell\"\n  >\n    <template #title>\n      <Select\n        v-if=\"instanceChoices.length > 1\"\n        v-model:value=\"instance\"\n        :disabled=\"instanceChoices.length === 1\"\n        class=\"containerPicker auto-width pull-left\"\n        :options=\"instanceChoices\"\n        :clearable=\"false\"\n        placement=\"top\"\n      />\n      <div class=\"pull-left ml-5\">\n        <button\n          class=\"btn btn-sm bg-primary\"\n          @click=\"clear\"\n        >\n          {{t('wm.containerShell.clear')}}\n        </button>\n      </div>\n      <div class=\"status pull-left\">\n        <span v-if=\"isOpen\" class=\"text-success\">\n          {{t('wm.connection.connected')}}\n        </span>\n        <span \n          v-else-if=\"isOpening\"\n          v-clean-html=\"t('wm.connection.connecting')\"\n          class=\"text-warning\"\n        />\n        <span \n          v-else\n          class=\"text-error\"\n        >\n          {{t('wm.connection.disconnected')}}\n        </span>\n      </div>\n    </template>\n    <template #body>\n      <div\n        class=\"shell-container\"\n        :class=\"{ open: isOpen, closed: !isOpen }\"\n      >\n        <div\n          ref=\"xterm\"\n          class=\"shell-body\"\n        />\n        <resize-observer @notify=\"fit\" />\n      </div>\n    </template>\n  </Window>\n</template>\n\n<style lang=\"scss\">\n.epinio-app-shell {\n  .v-select.inline.vs--single.vs--open .vs__selected {\n    position: inherit;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.text-warning {\n  animation: flasher 2.5s linear infinite;\n}\n\n@keyframes flasher {\n  50% {\n    opacity: 0;\n  }\n}\n\n.shell-container {\n  height: 100%;\n  overflow: hidden;\n}\n\n.shell-body {\n  padding: calc(2 * var(--outline-width));\n  height: 100%;\n\n  & > .terminal.focus {\n    outline: var(--outline-width) solid var(--outline);\n  }\n}\n\n.containerPicker {\n  ::v-deep &.unlabeled-select {\n    display: inline-block;\n    min-width: 200px;\n    height: 30px;\n    min-height: 30px;\n    width: initial;\n  }\n}\n\n.status {\n  align-items: center;\n  display: flex;\n  min-width: 80px;\n  height: 30px;\n  margin-left: 10px;\n}\n</style>\n","import script from \"./ApplicationShell.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ApplicationShell.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ApplicationShell.vue?vue&type=style&index=0&id=7bc331ac&lang=scss\"\nimport \"./ApplicationShell.vue?vue&type=style&index=1&id=7bc331ac&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7bc331ac\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".epinio-app-shell .v-select.inline.vs--single.vs--open .vs__selected{position:inherit}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { useStore } from 'vuex';\nimport { ref, computed } from 'vue';\n\nimport { EPINIO_MGMT_STORE, EPINIO_PRODUCT_NAME, EPINIO_TYPES } from '../types';\n\nexport function useApplicationSocketMixin(props: any) {\n  const store = useStore();\n  const socket = ref<any>(null);\n  const isOpen = ref<boolean>(false);\n  const backlog = ref<Array<any>>([]);\n\n  const instanceChoices = computed(() => {\n    return props.application.instances.map((instance: any) => instance.id);\n  });\n\n  const getRootSocketUrl = async () => {\n    const { token } = await store.dispatch(\n      `epinio/request`,\n      { opt: { url: '/api/v1/authtoken' } },\n    );\n\n    const isSingleProduct = !!store.getters['isSingleProduct'];\n    let api = '';\n    let prependPath = '';\n\n    console.log(store);\n    if (isSingleProduct) {\n      const cnsi = store.getters[`${ EPINIO_PRODUCT_NAME }/singleProductCNSI`]();\n\n      prependPath = `/pp/v1/direct/ws/${ cnsi?.guid }`;\n    } else {\n      const currentClusterId = store.getters['clusterId'];\n      const currentCluster = store.getters[`${ EPINIO_MGMT_STORE }/byId`](\n        EPINIO_TYPES.CLUSTER,\n        currentClusterId,\n      );\n\n      api = currentCluster.api;\n    }\n\n    return {\n      url: `${ api }${ prependPath }${ props.endpoint }`.replace(/^http/, 'ws'),\n      token\n    };\n  }\n\n  return {\n    socket,\n    isOpen,\n    backlog,\n    instanceChoices,\n    getRootSocketUrl,\n  };\n};\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".title-inner[data-v-01438164],.title-inner-left[data-v-01438164],.title-inner-right[data-v-01438164]{display:flex;flex-direction:row}.logs-container[data-v-01438164]{height:100%;overflow:auto;padding:5px;background-color:var(--logs-bg);font-family:Menlo,Consolas,monospace;color:var(--logs-text)}.logs-container .closed[data-v-01438164]{opacity:.25}.logs-container .time[data-v-01438164]{white-space:nowrap;display:none;width:0;padding-right:15px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.logs-container.show-times .time[data-v-01438164]{display:initial;width:auto}.logs-container .msg[data-v-01438164]{white-space:nowrap}.logs-container .msg .highlight[data-v-01438164]{color:var(--logs-highlight);background-color:var(--logs-highlight-bg)}.logs-container.wrap-lines .msg[data-v-01438164]{white-space:normal}[data-v-01438164] .containerPicker.unlabeled-select{display:inline-block;min-width:200px;height:30px;min-height:30px;width:auto}.log-action button[data-v-01438164]{border:0!important;min-height:30px;line-height:30px}.log-action>input[data-v-01438164],.status[data-v-01438164]{height:30px}.status[data-v-01438164]{align-items:center;display:flex;min-width:80px}.filter-popup[data-v-01438164]{padding:10px;width:280px;position:relative;overflow:visible}.filter-popup[data-v-01438164]>*{margin-bottom:10px}.filter-popup .filter-section[data-v-01438164]{margin-top:15px}.filter-popup .filter-section .text-label[data-v-01438164]{display:block;margin-bottom:5px;font-size:12px;font-weight:600}.filter-popup .filter-section .form-control[data-v-01438164]{width:100%;padding:5px 10px;border:1px solid var(--border);border-radius:3px;background-color:var(--input-bg);color:var(--input-text)}.filter-popup .filter-section .form-control[data-v-01438164]:disabled{opacity:.5;cursor:not-allowed}.filter-popup .filter-section .text-muted[data-v-01438164]{display:block;margin-top:3px;font-size:11px;opacity:.7}.filter-popup .mt-10[data-v-01438164]{margin-top:10px}.title-left[data-v-01438164]{display:flex}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./ApplicationShell.vue?vue&type=style&index=1&id=7bc331ac&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5ca08394\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".text-warning[data-v-7bc331ac]{animation:flasher-7bc331ac 2.5s linear infinite}@keyframes flasher-7bc331ac{50%{opacity:0}}.shell-container[data-v-7bc331ac]{height:100%;overflow:hidden}.shell-body[data-v-7bc331ac]{padding:calc(var(--outline-width)*2);height:100%}.shell-body>.terminal.focus[data-v-7bc331ac]{outline:var(--outline-width) solid var(--outline)}[data-v-7bc331ac] .containerPicker.unlabeled-select{display:inline-block;min-width:200px;height:30px;min-height:30px;width:auto}.status[data-v-7bc331ac]{align-items:center;display:flex;min-width:80px;height:30px;margin-left:10px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["content","__esModule","default","module","id","locals","exports","add","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","style","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","cellpadding","cellspacing","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","key","_hoisted_22","colspan","_hoisted_23","_hoisted_24","_defineComponent","__name","props","application","type","Object","endpoint","String","ansiToHtml","Boolean","initialInstance","setup","__props","store","useStore","t","getters","socket","isOpen","backlog","instanceChoices","getRootSocketUrl","useApplicationSocketMixin","lastId","ref","search","instance","lines","timerFlush","isFollowing","active","body","isApplyingFilters","tail","since","sinceTime","ansiup","AnsiUp","timestamps","LOGS_TIME","wrap","LOGS_WRAP","onMounted","async","connect","boundUpdateFollowing","updateFollowing","bind","value","addEventListener","setInterval","flush","onBeforeUnmount","el","document","querySelector","removeEventListener","cleanup","instanceChoicesWithNone","computed","label","filtered","re","RegExp","escapeRegex","out","line","msg","rawMsg","pod","substring","length","startsWith","matches","match","parts","split","ansi_to_html","shift","push","time","timeFormatStr","dateFormat","escapeHtml","DATE_FORMAT","timeFormat","TIME_FORMAT","getSocketUrl","url","token","params","follow","authtoken","selectedTime","Date","getTime","secondsAgo","Math","floor","now","since_seconds","addParams","console","log","disconnect","Socket","setAutoReconnectUrl","EVENT_CONNECTED","EVENT_DISCONNECTED","EVENT_CONNECT_ERROR","e","error","EVENT_MESSAGE","parsedData","JSON","parse","detail","data","warn","PodName","ContainerName","Message","Timestamp","undefined","nextTick","scrollTop","clientHeight","scrollHeight","clear","download","btnCb","date","toISOString","fileName","nameDisplay","downloadFile","map","l","join","then","catch","toggleWrap","dispatch","format","day","clearInterval","applyFilters","sinceTimeParsed","payload","since_time","payload_string","stringify","send","_ctx","_cache","_component_VDropdown","_resolveComponent","_directive_clean_html","_resolveDirective","_openBlock","_createBlock","_unref","Window","title","_withCtx","_createElementVNode","Select","$event","disabled","options","clearable","placement","placeholder","_createCommentVNode","onClick","_toDisplayString","_createVNode","AsyncButton","mode","_normalizeClass","popper","Checkbox","_withDirectives","min","_vModelText","number","_","__","ref_key","_createElementBlock","_Fragment","_renderList","__exports__","___CSS_LOADER_EXPORT___","xterm","terminal","fitAddon","searchAddon","webglAddon","isOpening","keepAliveTimer","xtermConfig","allowProposedApi","cursorBlink","useStyle","fontSize","watch","setupTerminal","fit","docStyle","getComputedStyle","xtermLib","addons","allHash","webgl","weblinks","terminalTemp","Terminal","theme","background","getPropertyValue","trim","foreground","cursor","selectionBackground","FitAddon","SearchAddon","WebGlAddon","loadAddon","WebLinksAddon","open","onData","input","base64Encode","write","reset","EVENT_CONNECTING","substr","base64Decode","focus","backlogTemp","slice","rows","cols","proposeDimensions","message","Width","Height","dispose","_component_resize_observer","closed","onNotify","instances","opt","isSingleProduct","api","prependPath","cnsi","EPINIO_PRODUCT_NAME","guid","currentClusterId","currentCluster","EPINIO_MGMT_STORE","EPINIO_TYPES","CLUSTER","replace"],"sourceRoot":""}