{"version":3,"file":"epinio-1.13.8-rc1.umd.min.edit.js","mappings":"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","sources":["webpack://epinio-1.13.8-rc1/./edit/applications.vue?8e87","webpack://epinio-1.13.8-rc1/./edit/configurations.vue?8948","webpack://epinio-1.13.8-rc1/./edit/configurations.vue","webpack://epinio-1.13.8-rc1/./edit/configurations.vue?0141","webpack://epinio-1.13.8-rc1/./edit/applications.vue?b065","webpack://epinio-1.13.8-rc1/./edit/services.vue?5fa8","webpack://epinio-1.13.8-rc1/./edit/services.vue","webpack://epinio-1.13.8-rc1/./edit/services.vue?17cf","webpack://epinio-1.13.8-rc1/./edit/configurations.vue?7570","webpack://epinio-1.13.8-rc1/./edit/applications.vue?0a6e","webpack://epinio-1.13.8-rc1/./edit/bind-apps-mixin.ts","webpack://epinio-1.13.8-rc1/./edit/applications.vue?c495","webpack://epinio-1.13.8-rc1/./edit/applications.vue","webpack://epinio-1.13.8-rc1/./edit/applications.vue?fa29","webpack://epinio-1.13.8-rc1/./edit/applications.vue?6543","webpack://epinio-1.13.8-rc1/./edit/configurations.vue?4879"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".hide-buttons-deploy .cru__footer{display:none!important}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createVNode as _createVNode, isRef as _isRef, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { key: 1 }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = { class: \"col span-6\" }\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = { class: \"col span-11\" }\n\nimport { useStore } from 'vuex';\nimport { ref, computed, onMounted, watch } from 'vue';\n\nimport EpinioConfiguration from '../models/configurations';\nimport { useEpinioBindAppsMixin } from './bind-apps-mixin';\nimport { useUnsavedChangesMixin } from './unsaved-changes-mixin';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport { EPINIO_TYPES, EpinioNamespace } from '../types';\n\nimport { sortBy } from '@shell/utils/sort';\nimport { _EDIT } from '@shell/config/query-params';\nimport Loading from '@shell/components/Loading.vue';\nimport Banner from '@components/Banner/Banner.vue';\nimport KeyValue from '@shell/components/form/KeyValue.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport LabeledSelect from '@shell/components/form/LabeledSelect.vue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription.vue';\nimport { validateKubernetesName } from '@shell/utils/validators/kubernetes-name';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'configurations',\n  props: {\n    value: {},\n    initialValue: {},\n    mode: {}\n  },\n  setup(__props: any) {\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = __props;\n\nconst {\n  doneParams,\n  doneRoute,\n  selectedApps,\n  nsAppOptions,\n  noApps,\n  updateConfigurationAppBindings,\n} = useEpinioBindAppsMixin(props);\n\nconst { setUnsavedChanges } = useUnsavedChangesMixin();\n\nconst errors = ref<Array<any>>([]);\nconst pending = ref<boolean>(true);\nconst validationPassed = ref<boolean>(false);\n\nonMounted(async () => {\n  props.value.meta.namespace = props.initialValue.meta.namespace || \n    namespaces.value[0]?.metadata.name;\n  props.value.data = { ...props.initialValue.configuration?.details };\n  selectedApps.value = [...props.initialValue.configuration?.boundapps || []];\n\n  updateValidation();\n\n  pending.value = false;\n});\n\n// Track changes to mark as unsaved\nwatch([() => props.value, selectedApps], () => {\n  setUnsavedChanges(true);\n}, { deep: true });\n\nconst isEdit = computed(() => {\n  return props.mode === _EDIT;\n});\n\nconst namespaces = computed(() => {\n  return sortBy(store.getters['epinio/all'](EPINIO_TYPES.NAMESPACE), 'name', false);\n});\n\nconst namespaceNames = computed(() => {\n  return namespaces.value.map((n: EpinioNamespace) => n.metadata.name);\n});\n\nconst done = () => {\n  if (!doneRoute) {\n    return;\n  }\n\n  store.$router.replace({\n    name:   doneRoute.value,\n    params: doneParams.value || { resource: props.value.type },\n  });\n}\n\nconst save = async (saveCb: (success: boolean) => void) => {\n  errors.value = [];\n\n  try {\n    if (!isEdit.value) {\n      await props.value.create();\n      await updateConfigurationAppBindings();\n      await store.dispatch(\n        'epinio/findAll', \n        { type: props.value.type, opt: { force: true } },\n      );\n    }\n\n    if (isEdit.value) {\n      await props.value.update();\n      await updateConfigurationAppBindings();\n      await props.value.forceFetch();\n    }\n\n    setUnsavedChanges(false); // Clear unsaved changes after successful save\n    saveCb(true);\n    done();\n  } catch (err) {\n    console.log(err);\n    errors.value = epinioExceptionToErrorsArray(err);\n    saveCb(false);\n  }\n};\n\nconst updateValidation = () => {\n  const nameErrors = validateKubernetesName(\n    props.value?.meta.name || '', \n    t('epinio.namespace.name'), \n    store.getters, \n    undefined, \n    [],\n  );\n  \n  const nsErrors = validateKubernetesName(\n    props.value?.meta.namespace || '', \n    '', \n    store.getters, \n    undefined, \n    [],\n  );\n\n  if (nameErrors.length === 0 && nsErrors.length === 0) {\n    const dataValues = Object.entries(props.value?.data || {});\n    \n    if (!!dataValues.length) { // eslint-disable-line no-extra-boolean-cast\n      validationPassed.value = true;\n      return;\n    }\n  }\n\n  validationPassed.value = false;\n};\n\nwatch(\n  () => props.value.meta.namespace,\n  () => {\n    selectedApps.value = [];\n    updateValidation(); // For when a user is supplying their own ns\n  }\n);\n\nwatch(\n  () => props.value.meta.name,\n  () => {\n    updateValidation();\n  }\n);\n\nwatch(\n  () => props.value.data,\n  () => {\n    updateValidation();\n  },\n  { deep: true }\n);\n\nreturn (_ctx: any,_cache: any) => {\n  return (!_ctx.value || pending.value)\n    ? (_openBlock(), _createBlock(Loading, { key: 0 }))\n    : (_ctx.value)\n      ? (_openBlock(), _createBlock(CruResource, {\n          key: 1,\n          \"min-height\": '7em',\n          mode: _ctx.mode,\n          \"done-route\": _unref(doneRoute),\n          resource: _ctx.value,\n          \"can-yaml\": false,\n          errors: errors.value,\n          \"validation-passed\": validationPassed.value,\n          \"namespace-key\": \"meta.namespace\",\n          onError: _cache[2] || (_cache[2] = (e) => (errors.value = e)),\n          onFinish: save\n        }, {\n          default: _withCtx(() => [\n            (_ctx.value.isServiceRelated)\n              ? (_openBlock(), _createBlock(Banner, {\n                  key: 0,\n                  color: \"info\"\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(_unref(t)('epinio.configurations.tableHeaders.service.tooltip')), 1)\n                  ]),\n                  _: 1\n                }))\n              : _createCommentVNode(\"\", true),\n            (errors.value.length > 0)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(errors.value, (err, i) => {\n                    return (_openBlock(), _createBlock(Banner, {\n                      key: i,\n                      color: \"error\",\n                      label: err\n                    }, null, 8, [\"label\"]))\n                  }), 128))\n                ]))\n              : _createCommentVNode(\"\", true),\n            _createVNode(NameNsDescription, {\n              \"name-key\": \"name\",\n              \"namespace-key\": \"namespace\",\n              \"namespaces-override\": namespaceNames.value,\n              \"create-namespace-override\": true,\n              \"description-hidden\": true,\n              value: _ctx.value.meta,\n              mode: _ctx.mode\n            }, null, 8, [\"namespaces-override\", \"value\", \"mode\"]),\n            _createElementVNode(\"div\", _hoisted_2, [\n              _createElementVNode(\"div\", _hoisted_3, [\n                _createVNode(LabeledSelect, {\n                  value: _unref(selectedApps),\n                  \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(selectedApps) ? (selectedApps).value = $event : null)),\n                  loading: pending.value,\n                  disabled: _unref(noApps),\n                  options: _unref(nsAppOptions),\n                  searchable: true,\n                  mode: _ctx.mode,\n                  multiple: true,\n                  \"label-key\": 'epinio.configurations.bindApps.label',\n                  placeholder: _unref(noApps) ? _unref(t)('epinio.configurations.bindApps.placeholderNoOptions') : _unref(t)('epinio.configurations.bindApps.placeholderWithOptions')\n                }, null, 8, [\"value\", \"loading\", \"disabled\", \"options\", \"mode\", \"placeholder\"])\n              ])\n            ]),\n            _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"spacer\" }, null, -1)),\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createVNode(KeyValue, {\n                  value: _ctx.value.data,\n                  \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.value.data) = $event)),\n                  \"initial-empty-row\": true,\n                  mode: _ctx.mode,\n                  title: _unref(t)('epinio.configurations.pairs.label'),\n                  \"title-protip\": _unref(t)('epinio.configurations.pairs.tooltip'),\n                  \"key-label\": _unref(t)('epinio.applications.create.envvar.keyLabel'),\n                  \"value-label\": _unref(t)('epinio.applications.create.envvar.valueLabel'),\n                  valueMarkdownMultiline: true,\n                  \"parse-lines-from-file\": true,\n                  \"parse-value-from-file\": true\n                }, null, 8, [\"value\", \"mode\", \"title\", \"title-protip\", \"key-label\", \"value-label\"])\n              ])\n            ])\n          ]),\n          _: 1,\n          __: [3]\n        }, 8, [\"mode\", \"done-route\", \"resource\", \"errors\", \"validation-passed\"]))\n      : _createCommentVNode(\"\", true)\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { useStore } from 'vuex';\nimport { ref, computed, onMounted, watch } from 'vue';\n\nimport EpinioConfiguration from '../models/configurations';\nimport { useEpinioBindAppsMixin } from './bind-apps-mixin';\nimport { useUnsavedChangesMixin } from './unsaved-changes-mixin';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport { EPINIO_TYPES, EpinioNamespace } from '../types';\n\nimport { sortBy } from '@shell/utils/sort';\nimport { _EDIT } from '@shell/config/query-params';\nimport Loading from '@shell/components/Loading.vue';\nimport Banner from '@components/Banner/Banner.vue';\nimport KeyValue from '@shell/components/form/KeyValue.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport LabeledSelect from '@shell/components/form/LabeledSelect.vue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription.vue';\nimport { validateKubernetesName } from '@shell/utils/validators/kubernetes-name';\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = defineProps<{\n  value: EpinioConfiguration,\n  initialValue: EpinioConfiguration,\n  mode: string,\n}>();\n\nconst {\n  doneParams,\n  doneRoute,\n  selectedApps,\n  nsAppOptions,\n  noApps,\n  updateConfigurationAppBindings,\n} = useEpinioBindAppsMixin(props);\n\nconst { setUnsavedChanges } = useUnsavedChangesMixin();\n\nconst errors = ref<Array<any>>([]);\nconst pending = ref<boolean>(true);\nconst validationPassed = ref<boolean>(false);\n\nonMounted(async () => {\n  props.value.meta.namespace = props.initialValue.meta.namespace || \n    namespaces.value[0]?.metadata.name;\n  props.value.data = { ...props.initialValue.configuration?.details };\n  selectedApps.value = [...props.initialValue.configuration?.boundapps || []];\n\n  updateValidation();\n\n  pending.value = false;\n});\n\n// Track changes to mark as unsaved\nwatch([() => props.value, selectedApps], () => {\n  setUnsavedChanges(true);\n}, { deep: true });\n\nconst isEdit = computed(() => {\n  return props.mode === _EDIT;\n});\n\nconst namespaces = computed(() => {\n  return sortBy(store.getters['epinio/all'](EPINIO_TYPES.NAMESPACE), 'name', false);\n});\n\nconst namespaceNames = computed(() => {\n  return namespaces.value.map((n: EpinioNamespace) => n.metadata.name);\n});\n\nconst done = () => {\n  if (!doneRoute) {\n    return;\n  }\n\n  store.$router.replace({\n    name:   doneRoute.value,\n    params: doneParams.value || { resource: props.value.type },\n  });\n}\n\nconst save = async (saveCb: (success: boolean) => void) => {\n  errors.value = [];\n\n  try {\n    if (!isEdit.value) {\n      await props.value.create();\n      await updateConfigurationAppBindings();\n      await store.dispatch(\n        'epinio/findAll', \n        { type: props.value.type, opt: { force: true } },\n      );\n    }\n\n    if (isEdit.value) {\n      await props.value.update();\n      await updateConfigurationAppBindings();\n      await props.value.forceFetch();\n    }\n\n    setUnsavedChanges(false); // Clear unsaved changes after successful save\n    saveCb(true);\n    done();\n  } catch (err) {\n    console.log(err);\n    errors.value = epinioExceptionToErrorsArray(err);\n    saveCb(false);\n  }\n};\n\nconst updateValidation = () => {\n  const nameErrors = validateKubernetesName(\n    props.value?.meta.name || '', \n    t('epinio.namespace.name'), \n    store.getters, \n    undefined, \n    [],\n  );\n  \n  const nsErrors = validateKubernetesName(\n    props.value?.meta.namespace || '', \n    '', \n    store.getters, \n    undefined, \n    [],\n  );\n\n  if (nameErrors.length === 0 && nsErrors.length === 0) {\n    const dataValues = Object.entries(props.value?.data || {});\n    \n    if (!!dataValues.length) { // eslint-disable-line no-extra-boolean-cast\n      validationPassed.value = true;\n      return;\n    }\n  }\n\n  validationPassed.value = false;\n};\n\nwatch(\n  () => props.value.meta.namespace,\n  () => {\n    selectedApps.value = [];\n    updateValidation(); // For when a user is supplying their own ns\n  }\n);\n\nwatch(\n  () => props.value.meta.name,\n  () => {\n    updateValidation();\n  }\n);\n\nwatch(\n  () => props.value.data,\n  () => {\n    updateValidation();\n  },\n  { deep: true }\n);\n</script>\n\n<template>\n  <Loading v-if=\"!value || pending\" />\n  <CruResource\n    v-else-if=\"value\"\n    :min-height=\"'7em'\"\n    :mode=\"mode\"\n    :done-route=\"doneRoute\"\n    :resource=\"value\"\n    :can-yaml=\"false\"\n    :errors=\"errors\"\n    :validation-passed=\"validationPassed\"\n    namespace-key=\"meta.namespace\"\n    @error=\"(e) => (errors = e)\"\n    @finish=\"save\"\n  >\n    <Banner\n      v-if=\"value.isServiceRelated\"\n      color=\"info\"\n    >\n      {{ t('epinio.configurations.tableHeaders.service.tooltip') }}\n    </Banner>\n    <div v-if=\"errors.length > 0\">\n      <Banner\n        v-for=\"(err, i) in errors\"\n        :key=\"i\"\n        color=\"error\"\n        :label=\"err\"\n      />\n    </div>\n    <NameNsDescription\n      name-key=\"name\"\n      namespace-key=\"namespace\"\n      :namespaces-override=\"namespaceNames\"\n      :create-namespace-override=\"true\"\n      :description-hidden=\"true\"\n      :value=\"value.meta\"\n      :mode=\"mode\"\n    />\n    <div class=\"row\">\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-model:value=\"selectedApps\"\n          :loading=\"pending\"\n          :disabled=\"noApps\"\n          :options=\"nsAppOptions\"\n          :searchable=\"true\"\n          :mode=\"mode\"\n          :multiple=\"true\"\n          :label-key=\"'epinio.configurations.bindApps.label'\"\n          :placeholder=\"noApps ? t('epinio.configurations.bindApps.placeholderNoOptions') : t('epinio.configurations.bindApps.placeholderWithOptions')\"\n        />\n      </div>\n    </div>\n    <div class=\"spacer\" />\n    <div class=\"row\">\n      <div class=\"col span-11\">\n        <KeyValue\n          v-model:value=\"value.data\"\n          :initial-empty-row=\"true\"\n          :mode=\"mode\"\n          :title=\"t('epinio.configurations.pairs.label')\"\n          :title-protip=\"t('epinio.configurations.pairs.tooltip')\"\n          :key-label=\"t('epinio.applications.create.envvar.keyLabel')\"\n          :value-label=\"t('epinio.applications.create.envvar.valueLabel')\"\n          :valueMarkdownMultiline=\"true\"\n          :parse-lines-from-file=\"true\"\n          :parse-value-from-file=\"true\"\n        />\n      </div>\n    </div>\n  </CruResource>\n</template>\n\n<style lang=\"scss\">\n.as-text-area {\n  width: 100% !important;\n}\n\n.value-container .file-selector{\n  margin-bottom: 20px;\n}\n</style>\n","import script from \"./configurations.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./configurations.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./configurations.vue?vue&type=style&index=0&id=a6491d02&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./applications.vue?vue&type=style&index=1&id=a5bdeaf2&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1bf3116c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createVNode as _createVNode, unref as _unref, createElementVNode as _createElementVNode, isRef as _isRef, withCtx as _withCtx } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = { class: \"col span-6\" }\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = { class: \"col span-6\" }\nconst _hoisted_6 = {\n  key: 1,\n  class: \"row\"\n}\nconst _hoisted_7 = { class: \"col span-6\" }\n\nimport { useStore } from 'vuex';\nimport { ref, computed, reactive, onMounted, watch } from 'vue';\n\nimport {\n  EPINIO_TYPES,\n  EpinioNamespace,\n  EpinioCatalogService,\n} from '../types';\nimport ServiceInstance from '../models/services';\nimport { objValuesToString } from '../utils/settings';\nimport { useEpinioBindAppsMixin } from './bind-apps-mixin';\nimport { useUnsavedChangesMixin } from './unsaved-changes-mixin';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport ChartValues from '../components/settings/ChartValues.vue';\nimport EpinioCatalogServiceModel from '../models/catalogservices';\n\nimport Banner from '@components/Banner/Banner.vue';\nimport Loading from '@shell/components/Loading.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport LabeledSelect from '@shell/components/form/LabeledSelect.vue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription.vue';\nimport { validateKubernetesName } from '@shell/utils/validators/kubernetes-name';\n\nimport isEqual from 'lodash/isEqual';\nimport sortBy from 'lodash/sortBy';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'services',\n  props: {\n    value: {},\n    initialValue: {},\n    mode: {}\n  },\n  setup(__props: any) {\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = __props;\n\nconst {\n  selectedApps,\n  nsAppOptions,\n  noApps,\n  updateServiceInstanceAppBindings,\n} = useEpinioBindAppsMixin(props);\n\nconst { setUnsavedChanges } = useUnsavedChangesMixin();\n\nconst doneRoute = ref<string>('');\nconst pending = ref<boolean>(true);\nconst errors = ref<Array<string>>([]);\nconst doneParams = reactive<object>({});\nconst validChartValues = ref<object>({});\nconst failedWaitingForServiceInstance = ref<boolean>(false);\nconst chartValues = reactive<ChartValues>(objValuesToString(props.value?.settings) || {});\n\nonMounted(async () => {\n  await Promise.all([\n    store.dispatch('epinio/findAll', { type: EPINIO_TYPES.CATALOG_SERVICE }),\n    store.dispatch('epinio/findAll', { type: EPINIO_TYPES.APP }),\n  ]);\n\n  pending.value = false;\n\n  const catalogQuery = store.$router.currentRoute._value.query.catalogservice;\n  if (catalogQuery && !props.value.catalog_service) {\n    props.value.catalog_service = catalogQuery as string;\n  }\n\n  //Needed doneParams/doneRoute but the mixin that generates these is a rancher\n  //shell mixin, copied parts needed, will move to composable function as needed.\n  if (props.value?.doneParams) {\n    return props.value.doneParams;\n  }\n\n  const out = { ...store.$router.currentRoute._value.params };\n\n  delete out.namespace;\n  delete out.id;\n\n  doneParams.value = out;\n\n  if (props.value?.doneRoute ) {\n    doneRoute.value = props.value.doneRoute;\n  }else{\n    let name = props.route.name;\n\n    if ( name?.endsWith('-id') ) {\n      name = name.replace(/(-namespace)?-id$/, '');\n    } else if ( name?.endsWith('-create') ) {\n      name = name.replace(/-create$/, '');\n    }\n\n    doneRoute.value = name;\n  }\n})\n\nwatch(\n  () => props.value.meta.namespace,\n  () => {\n    return selectedApps.value = [];\n  }\n);\n\n// Track changes to mark as unsaved\nwatch([() => props.value, selectedApps, chartValues], () => {\n  setUnsavedChanges(true);\n}, { deep: true });\n\nconst catalogServices = computed(() => {\n  return store.getters['epinio/all'](EPINIO_TYPES.CATALOG_SERVICE);\n});\n\nconst selectedCatalogService = computed(() => {\n  return catalogServices.value?.find(\n    ({id}: EpinioCatalogServiceModel) => id === props.value.catalog_service)\n  ;\n});\n\nconst isEdit = computed(() => {\n  return props.mode === 'edit';\n});\n\nconst validationPassed = computed(() => {\n  if (isEdit.value && newBinds.value) {\n    return true;\n  }\n  \n  if (!props.value.catalog_service) {\n    return false;\n  }\n\n  if (!Object.values(validChartValues.value).every((v) => !!v)) {\n    return false;\n  }\n\n  const nameErrors = validateKubernetesName(\n    props.value.name || '', \n    t('epinio.namespace.name'), \n    store.getters, \n    undefined, \n    [],\n  );\n  const nsErrors = validateKubernetesName(\n    props.value.meta.namespace || '', \n    '', \n    store.getters, \n    undefined, \n    [],\n  );\n\n  if (nameErrors.length === 0 && nsErrors.length === 0) {\n    return !failedWaitingForServiceInstance.value;\n  }\n\n  return false;\n});\n\nconst namespaces = computed(() => {\n  return sortBy(store.getters['epinio/all'](EPINIO_TYPES.NAMESPACE), 'name');\n});\n\nconst namespaceNames = computed(() => {\n  return namespaces.value.map((n: EpinioNamespace) => n.metadata.name);\n});\n\nconst catalogServiceOpts = computed(() => {\n  return catalogServices.value.map((cs: EpinioCatalogService) => ({\n    label: `${cs.name} (${cs.short_description})`,\n    value: cs.name,\n  }));\n});\n\nconst noCatalogServices = computed(() => {\n  return catalogServices.value.length === 0;\n});\n\nconst newBinds = computed(() => {\n  return !isEqual(sortBy(selectedApps.value), sortBy(props.value.boundapps));\n});\n\nconst showChartValues = computed(() => {\n  return Object.keys(selectedCatalogService.value?.settings || {}).length !== 0;\n});\n\nconst done = () => {\n  if (!doneRoute.value) {\n    return;\n  }\n\n  store.$router.replace({\n    name:   doneRoute.value,\n    params: doneParams.value || { resource: props.value.type },\n  });\n}\n\nconst save = async (saveCb: (success: boolean) => void) => {\n  errors.value = [];\n\n  const newSettings = !isEqual(\n    objValuesToString(chartValues), \n    objValuesToString(props.value.settings),\n  );\n  \n  if (newSettings) {\n    props.value.settings = objValuesToString(chartValues.value);\n  }else{\n    props.value.settings = undefined;\n  }\n\n  try {\n    if (!isEdit.value) {\n      await props.value.create();\n      if (selectedApps.value.length) {\n        await updateServiceInstanceAppBindings(props.value);\n      }\n      await store.dispatch(\n        'epinio/findAll',\n        { type: props.value.type, opt: { force: true }},\n      );\n\n      setUnsavedChanges(false); // Clear after successful save\n      saveCb(true);\n      done();\n    }\n\n    if (isEdit.value) {\n      if (newSettings) {\n        await props.value.update();\n      }\n      await updateServiceInstanceAppBindings(props.value);\n      await props.value.forceFetch();\n\n      setUnsavedChanges(false); // Clear after successful save\n      saveCb(true);\n      done();\n\n      //Can't find exactly how this is coming in, seems like a k8s attribute\n      //if (!_isBeingDestroyed || !_isDestroyed) {\n      //}\n    }\n  } catch (err: Error | any) {\n    if (err.message === 'waitingForServiceInstance') {\n      failedWaitingForServiceInstance.value = true;\n      errors.value = [t('epinio.serviceInstance.create.catalogService.failedWaitingForServiceInstance')];\n    } else {\n      errors.value = epinioExceptionToErrorsArray(err);\n    }\n    saveCb(false);\n  }\n};\n\nconst resetChartValues = () => {\n  chartValues.value = {};\n  validChartValues.value = {};\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (!_ctx.value || pending.value)\n    ? (_openBlock(), _createBlock(Loading, { key: 0 }))\n    : (_ctx.value)\n      ? (_openBlock(), _createBlock(CruResource, {\n          key: 1,\n          \"can-yaml\": false,\n          \"done-route\": doneRoute.value,\n          mode: _ctx.mode,\n          \"validation-passed\": validationPassed.value,\n          resource: _ctx.value,\n          errors: errors.value,\n          \"namespace-key\": \"meta.namespace\",\n          onFinish: save,\n          onErrors: _cache[4] || (_cache[4] = e=>errors.value = e)\n        }, {\n          default: _withCtx(() => [\n            (errors.value.length > 0)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(errors.value, (err, i) => {\n                    return (_openBlock(), _createBlock(Banner, {\n                      key: i,\n                      color: \"error\",\n                      label: err\n                    }, null, 8, [\"label\"]))\n                  }), 128))\n                ]))\n              : _createCommentVNode(\"\", true),\n            _createVNode(NameNsDescription, {\n              \"name-key\": \"name\",\n              \"namespace-key\": \"namespace\",\n              \"namespaces-override\": namespaceNames.value,\n              \"create-namespace-override\": true,\n              \"description-hidden\": true,\n              value: _ctx.value.meta,\n              mode: _ctx.mode\n            }, null, 8, [\"namespaces-override\", \"value\", \"mode\"]),\n            _createElementVNode(\"div\", _hoisted_2, [\n              _createElementVNode(\"div\", _hoisted_3, [\n                _createVNode(LabeledSelect, {\n                  value: _ctx.value.catalog_service,\n                  \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.value.catalog_service) = $event)),\n                  loading: pending.value,\n                  options: catalogServiceOpts.value,\n                  disabled: pending.value || isEdit.value,\n                  searchable: true,\n                  mode: _ctx.mode,\n                  multiple: false,\n                  \"label-key\": 'epinio.serviceInstance.create.catalogService.label',\n                  placeholder: pending.value || noCatalogServices.value ? _unref(t)('epinio.serviceInstance.create.catalogService.placeholderNoOptions') : _unref(t)('epinio.serviceInstance.create.catalogService.placeholderWithOptions'),\n                  required: \"\",\n                  \"onOption:selected\": resetChartValues\n                }, null, 8, [\"value\", \"loading\", \"options\", \"disabled\", \"mode\", \"placeholder\"])\n              ])\n            ]),\n            _cache[6] || (_cache[6] = _createElementVNode(\"div\", { class: \"spacer\" }, null, -1)),\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createVNode(LabeledSelect, {\n                  value: _unref(selectedApps),\n                  \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => (_isRef(selectedApps) ? (selectedApps).value = $event : null)),\n                  loading: pending.value,\n                  options: _unref(nsAppOptions),\n                  disabled: _unref(noApps) || pending.value,\n                  searchable: true,\n                  mode: _ctx.mode,\n                  multiple: true,\n                  \"label-key\": 'epinio.configurations.bindApps.label',\n                  placeholder: pending.value || _unref(noApps) ? _unref(t)('epinio.configurations.bindApps.placeholderNoOptions') : _unref(t)('epinio.configurations.bindApps.placeholderWithOptions')\n                }, null, 8, [\"value\", \"loading\", \"options\", \"disabled\", \"mode\", \"placeholder\"])\n              ])\n            ]),\n            (showChartValues.value)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                  _createElementVNode(\"div\", _hoisted_7, [\n                    _cache[5] || (_cache[5] = _createElementVNode(\"div\", { class: \"spacer\" }, null, -1)),\n                    _createVNode(ChartValues, {\n                      value: chartValues,\n                      \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((chartValues) = $event)),\n                      chart: selectedCatalogService.value.settings,\n                      title: _unref(t)('epinio.services.chartValues.title'),\n                      mode: _ctx.mode,\n                      onValid: _cache[3] || (_cache[3] = ($event: any) => (validChartValues.value = $event))\n                    }, null, 8, [\"value\", \"chart\", \"title\", \"mode\"])\n                  ])\n                ]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1,\n          __: [6]\n        }, 8, [\"done-route\", \"mode\", \"validation-passed\", \"resource\", \"errors\"]))\n      : _createCommentVNode(\"\", true)\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { useStore } from 'vuex';\nimport { ref, computed, reactive, onMounted, watch } from 'vue';\n\nimport {\n  EPINIO_TYPES,\n  EpinioNamespace,\n  EpinioCatalogService,\n} from '../types';\nimport ServiceInstance from '../models/services';\nimport { objValuesToString } from '../utils/settings';\nimport { useEpinioBindAppsMixin } from './bind-apps-mixin';\nimport { useUnsavedChangesMixin } from './unsaved-changes-mixin';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport ChartValues from '../components/settings/ChartValues.vue';\nimport EpinioCatalogServiceModel from '../models/catalogservices';\n\nimport Banner from '@components/Banner/Banner.vue';\nimport Loading from '@shell/components/Loading.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport LabeledSelect from '@shell/components/form/LabeledSelect.vue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription.vue';\nimport { validateKubernetesName } from '@shell/utils/validators/kubernetes-name';\n\nimport isEqual from 'lodash/isEqual';\nimport sortBy from 'lodash/sortBy';\n\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst props = defineProps<{\n  value: ServiceInstance,\n  initialValue: ServiceInstance,\n  mode: string,\n}>();\n\nconst {\n  selectedApps,\n  nsAppOptions,\n  noApps,\n  updateServiceInstanceAppBindings,\n} = useEpinioBindAppsMixin(props);\n\nconst { setUnsavedChanges } = useUnsavedChangesMixin();\n\nconst doneRoute = ref<string>('');\nconst pending = ref<boolean>(true);\nconst errors = ref<Array<string>>([]);\nconst doneParams = reactive<object>({});\nconst validChartValues = ref<object>({});\nconst failedWaitingForServiceInstance = ref<boolean>(false);\nconst chartValues = reactive<ChartValues>(objValuesToString(props.value?.settings) || {});\n\nonMounted(async () => {\n  await Promise.all([\n    store.dispatch('epinio/findAll', { type: EPINIO_TYPES.CATALOG_SERVICE }),\n    store.dispatch('epinio/findAll', { type: EPINIO_TYPES.APP }),\n  ]);\n\n  pending.value = false;\n\n  const catalogQuery = store.$router.currentRoute._value.query.catalogservice;\n  if (catalogQuery && !props.value.catalog_service) {\n    props.value.catalog_service = catalogQuery as string;\n  }\n\n  //Needed doneParams/doneRoute but the mixin that generates these is a rancher\n  //shell mixin, copied parts needed, will move to composable function as needed.\n  if (props.value?.doneParams) {\n    return props.value.doneParams;\n  }\n\n  const out = { ...store.$router.currentRoute._value.params };\n\n  delete out.namespace;\n  delete out.id;\n\n  doneParams.value = out;\n\n  if (props.value?.doneRoute ) {\n    doneRoute.value = props.value.doneRoute;\n  }else{\n    let name = props.route.name;\n\n    if ( name?.endsWith('-id') ) {\n      name = name.replace(/(-namespace)?-id$/, '');\n    } else if ( name?.endsWith('-create') ) {\n      name = name.replace(/-create$/, '');\n    }\n\n    doneRoute.value = name;\n  }\n})\n\nwatch(\n  () => props.value.meta.namespace,\n  () => {\n    return selectedApps.value = [];\n  }\n);\n\n// Track changes to mark as unsaved\nwatch([() => props.value, selectedApps, chartValues], () => {\n  setUnsavedChanges(true);\n}, { deep: true });\n\nconst catalogServices = computed(() => {\n  return store.getters['epinio/all'](EPINIO_TYPES.CATALOG_SERVICE);\n});\n\nconst selectedCatalogService = computed(() => {\n  return catalogServices.value?.find(\n    ({id}: EpinioCatalogServiceModel) => id === props.value.catalog_service)\n  ;\n});\n\nconst isEdit = computed(() => {\n  return props.mode === 'edit';\n});\n\nconst validationPassed = computed(() => {\n  if (isEdit.value && newBinds.value) {\n    return true;\n  }\n  \n  if (!props.value.catalog_service) {\n    return false;\n  }\n\n  if (!Object.values(validChartValues.value).every((v) => !!v)) {\n    return false;\n  }\n\n  const nameErrors = validateKubernetesName(\n    props.value.name || '', \n    t('epinio.namespace.name'), \n    store.getters, \n    undefined, \n    [],\n  );\n  const nsErrors = validateKubernetesName(\n    props.value.meta.namespace || '', \n    '', \n    store.getters, \n    undefined, \n    [],\n  );\n\n  if (nameErrors.length === 0 && nsErrors.length === 0) {\n    return !failedWaitingForServiceInstance.value;\n  }\n\n  return false;\n});\n\nconst namespaces = computed(() => {\n  return sortBy(store.getters['epinio/all'](EPINIO_TYPES.NAMESPACE), 'name');\n});\n\nconst namespaceNames = computed(() => {\n  return namespaces.value.map((n: EpinioNamespace) => n.metadata.name);\n});\n\nconst catalogServiceOpts = computed(() => {\n  return catalogServices.value.map((cs: EpinioCatalogService) => ({\n    label: `${cs.name} (${cs.short_description})`,\n    value: cs.name,\n  }));\n});\n\nconst noCatalogServices = computed(() => {\n  return catalogServices.value.length === 0;\n});\n\nconst newBinds = computed(() => {\n  return !isEqual(sortBy(selectedApps.value), sortBy(props.value.boundapps));\n});\n\nconst showChartValues = computed(() => {\n  return Object.keys(selectedCatalogService.value?.settings || {}).length !== 0;\n});\n\nconst done = () => {\n  if (!doneRoute.value) {\n    return;\n  }\n\n  store.$router.replace({\n    name:   doneRoute.value,\n    params: doneParams.value || { resource: props.value.type },\n  });\n}\n\nconst save = async (saveCb: (success: boolean) => void) => {\n  errors.value = [];\n\n  const newSettings = !isEqual(\n    objValuesToString(chartValues), \n    objValuesToString(props.value.settings),\n  );\n  \n  if (newSettings) {\n    props.value.settings = objValuesToString(chartValues.value);\n  }else{\n    props.value.settings = undefined;\n  }\n\n  try {\n    if (!isEdit.value) {\n      await props.value.create();\n      if (selectedApps.value.length) {\n        await updateServiceInstanceAppBindings(props.value);\n      }\n      await store.dispatch(\n        'epinio/findAll',\n        { type: props.value.type, opt: { force: true }},\n      );\n\n      setUnsavedChanges(false); // Clear after successful save\n      saveCb(true);\n      done();\n    }\n\n    if (isEdit.value) {\n      if (newSettings) {\n        await props.value.update();\n      }\n      await updateServiceInstanceAppBindings(props.value);\n      await props.value.forceFetch();\n\n      setUnsavedChanges(false); // Clear after successful save\n      saveCb(true);\n      done();\n\n      //Can't find exactly how this is coming in, seems like a k8s attribute\n      //if (!_isBeingDestroyed || !_isDestroyed) {\n      //}\n    }\n  } catch (err: Error | any) {\n    if (err.message === 'waitingForServiceInstance') {\n      failedWaitingForServiceInstance.value = true;\n      errors.value = [t('epinio.serviceInstance.create.catalogService.failedWaitingForServiceInstance')];\n    } else {\n      errors.value = epinioExceptionToErrorsArray(err);\n    }\n    saveCb(false);\n  }\n};\n\nconst resetChartValues = () => {\n  chartValues.value = {};\n  validChartValues.value = {};\n};\n</script>\n\n<template>\n  <Loading v-if=\"!value || pending\" />\n  <CruResource\n    v-else-if=\"value\"\n    :can-yaml=\"false\"\n    :done-route=\"doneRoute\"\n    :mode=\"mode\"\n    :validation-passed=\"validationPassed\"\n    :resource=\"value\"\n    :errors=\"errors\"\n    namespace-key=\"meta.namespace\"\n    @finish=\"save\"\n    @errors=\"e=>errors = e\"\n  >\n    <div v-if=\"errors.length > 0\">\n      <Banner\n        v-for=\"(err, i) in errors\"\n        :key=\"i\"\n        color=\"error\"\n        :label=\"err\"\n      />\n    </div>\n    <NameNsDescription\n      name-key=\"name\"\n      namespace-key=\"namespace\"\n      :namespaces-override=\"namespaceNames\"\n      :create-namespace-override=\"true\"\n      :description-hidden=\"true\"\n      :value=\"value.meta\"\n      :mode=\"mode\"\n    />\n    <div class=\"row\">\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-model:value=\"value.catalog_service\"\n          :loading=\"pending\"\n          :options=\"catalogServiceOpts\"\n          :disabled=\"pending || isEdit\"\n          :searchable=\"true\"\n          :mode=\"mode\"\n          :multiple=\"false\"\n          :label-key=\"'epinio.serviceInstance.create.catalogService.label'\"\n          :placeholder=\"pending || noCatalogServices ? t('epinio.serviceInstance.create.catalogService.placeholderNoOptions') : t('epinio.serviceInstance.create.catalogService.placeholderWithOptions')\"\n          required\n          @option:selected=\"resetChartValues\"\n        />\n      </div>\n    </div>\n    <div class=\"spacer\" />\n    <div class=\"row\">\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-model:value=\"selectedApps\"\n          :loading=\"pending\"\n          :options=\"nsAppOptions\"\n          :disabled=\"noApps || pending\"\n          :searchable=\"true\"\n          :mode=\"mode\"\n          :multiple=\"true\"\n          :label-key=\"'epinio.configurations.bindApps.label'\"\n          :placeholder=\"pending || noApps ? t('epinio.configurations.bindApps.placeholderNoOptions') : t('epinio.configurations.bindApps.placeholderWithOptions')\"\n        />\n      </div>\n    </div>\n    <div\n      v-if=\"showChartValues\"\n      class=\"row\"\n    >\n      <div class=\"col span-6\">\n        <div class=\"spacer\" />\n        <ChartValues\n          v-model:value=\"chartValues\"\n          :chart=\"selectedCatalogService.settings\"\n          :title=\"t('epinio.services.chartValues.title')\"\n          :mode=\"mode\"\n          @valid=\"validChartValues = $event\"\n        />\n      </div>\n    </div>\n  </CruResource>\n</template>\n","import script from \"./services.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./services.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".as-text-area{width:100%!important}.value-container .file-selector{margin-bottom:20px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./applications.vue?vue&type=style&index=0&id=a5bdeaf2&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"01da7a94\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { useStore } from 'vuex';\nimport { ref, computed } from 'vue';\n\nimport { EPINIO_TYPES } from '../types';\n\nimport { sortBy } from '@shell/utils/sort';\n\nexport function useEpinioBindAppsMixin(props: any) {\n  const selectedApps = ref<Array<string>>(props.value?.boundapps || []);\n  const store = useStore();\n\n  const allApps = computed(() => {\n    return sortBy(\n      store.getters['epinio/all'](EPINIO_TYPES.APP),\n      'meta.name',\n      false,\n    );\n  });\n\n  const nsApps = computed(() => {\n    return allApps.value.filter((a: any) => a.meta.namespace === props.value.meta.namespace);\n  });\n\n  const nsAppOptions = computed(() => {\n    return nsApps.value.map((a: any) => ({\n      label: a.meta.name,\n      value: a.meta.name,\n    }));\n  });\n\n  const noApps = computed(() => {\n    return nsAppOptions.value.length === 0;\n  });\n\n  const updateServiceInstanceAppBindings = async (serviceInstance: any) => {\n    // Service instance must be ready before they can be bound to apps\n    await waitForServiceInstanceReady(serviceInstance);\n    \n    const bindApps = selectedApps.value;\n    const unbindApps = (props.initialValue.boundapps || []).filter(\n      (bA: any) => !bindApps.includes(bA)\n    );\n\n    const promises = [\n      ...bindApps.map((bA) => props.value.bindApp(bA)),\n      ...unbindApps.map((uBA: any) => props.value.unbindApp(uBA))\n    ];\n\n    await Promise.all(promises);\n  };\n\n  const waitForServiceInstanceReady = async (serviceInstance: any) => {\n    // It would be nice to use waitForState here, but we need to manually update until Epinio pumps out updates via socket\n    await serviceInstance.waitForTestFn(() => {\n      const freshServiceInstance = store.getters['epinio/byId'](\n        EPINIO_TYPES.SERVICE_INSTANCE, \n        `${ serviceInstance.meta.namespace }/${ serviceInstance.meta.name }`,\n      );\n\n      if (freshServiceInstance) {\n        return true;\n      }\n      // This is an async fn, but we're in a sync fn. It might create a backlog if previous requests don't complete in time\n      serviceInstance.forceFetch();\n    }, `service instance exists`, 30000, 2000).catch((err: Error) => {\n      console.warn(err);\n      throw new Error('waitingForServiceInstance');\n    });\n\n    // Wait, because `not-ready` does not indicate service is ready to bind to. See https://github.com/epinio/ui/issues/289\n    await new Promise((res) => setTimeout(res, 2000));\n  };\n\n  const updateConfigurationAppBindings = async () => {\n    const bindApps = selectedApps.value;\n    const unbindApps = (props.initialValue.configuration?.boundapps || []).\n      filter((bA: any) => !bindApps.includes(bA));\n\n    const delta = nsApps.value.reduce((res: any, nsA: any) => {\n      const appName = nsA.metadata.name;\n      const configName = props.value.metadata.name;\n\n      const toBind = [];\n      const toUnbind = [];\n\n      if (bindApps.includes(appName) && !nsA.configuration.configurations.includes(configName)) {\n        toBind.push(configName);\n      } else if (unbindApps.includes(appName)) {\n        const index = nsA.configuration.configurations.indexOf(configName);\n\n        if (index >= 0) {\n          toUnbind.push(configName);\n        }\n      }\n\n      res.push(nsA.bindConfigurations(toBind));\n      res.push(nsA.unbindConfiguration(toUnbind));\n\n      return res;\n    }, []);\n\n    if (delta.length) {\n      await Promise.all(delta);\n      await props.value.forceFetch();\n    }\n  };\n\n  const doneParams = computed(() => {\n    if (props.value?.doneParams) {\n      return props.value.doneParams;\n    }\n    \n    const out = { ...(store as any).$router.currentRoute._value.params };\n\n    delete out.namespace;\n    delete out.id;\n\n    return out;\n  });\n\n  const doneRoute = computed(() => {\n    let route: string = '';\n\n    if (props.value?.doneRoute ) {\n      route = props.value.doneRoute;\n    }else{\n      let name = props.route.name;\n\n      if ( name?.endsWith('-id') ) {\n        name = name.replace(/(-namespace)?-id$/, '');\n      } else if ( name?.endsWith('-create') ) {\n        name = name.replace(/-create$/, '');\n      }\n\n      route = name;\n    }\n\n    return route;\n  });\n\n  return {\n    doneParams,\n    doneRoute,\n    selectedApps,\n    allApps,\n    nsApps,\n    nsAppOptions,\n    noApps,\n    updateServiceInstanceAppBindings,\n    waitForServiceInstanceReady,\n    updateConfigurationAppBindings,\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, unref as _unref, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { class: \"wizard-container\" }\n\nimport { ref, reactive, computed, onMounted, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport Application from '../models/applications';\nimport CruResource from '@shell/components/CruResource.vue';\nimport ResourceTabs from '@shell/components/form/ResourceTabs/index.vue';\nimport Tab from '@shell/components/Tabbed/Tab.vue';\nimport Loading from '@shell/components/Loading.vue';\nimport AppInfo from '../components/application/AppInfo.vue';\nimport AppConfiguration from '../components/application/AppConfiguration.vue';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport { useEpinioBindAppsMixin } from './bind-apps-mixin';\nimport { useUnsavedChangesMixin } from './unsaved-changes-mixin';\n\nimport Wizard from '@shell/components/Wizard.vue';\nimport { createEpinioRoute } from '../utils/custom-routing';\nimport AppSource from '../components/application/AppSource.vue';\nimport AppProgress from '../components/application/AppProgress.vue';\nimport { EpinioAppSource, EPINIO_TYPES, EpinioAppInfo, EpinioAppBindings } from '../types';\nimport { allHash } from '@shell/utils/promise';\nimport { _EDIT } from '@shell/config/query-params';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'applications',\n  props: {\n    value: {},\n    initialValue: {},\n    mode: {}\n  },\n  setup(__props: any) {\n\nconst props = __props;\n\nconst {\n  doneParams,\n  doneRoute,\n} = useEpinioBindAppsMixin(props);\n\nconst { setUnsavedChanges } = useUnsavedChangesMixin();\n\nconst store = useStore();\n\nconst t = store.getters['i18n/t'];\n\nconst bindings = reactive<EpinioAppBindings>({ configurations: [], services: [] });\nconst source = ref<EpinioAppSource>(props.value.appSource);\nconst errors = ref<string[]>([]);\nconst epinioInfo = ref();\nconst tabErrors = reactive<{ appInfo: boolean }>({ appInfo: false });\n\nconst steps = reactive([\n  {\n    name: 'source',\n    label: t('epinio.applications.steps.source.label'),\n    subtext: t('epinio.applications.steps.source.subtext'),\n    ready: false,\n    nextButton: {\n      labelKey: 'epinio.applications.steps.configurations.update',\n      style: 'btn role-primary bg-warning'\n    }\n  },\n  {\n    name: 'progress',\n    label: t('epinio.applications.steps.progress.label'),\n    subtext: t('epinio.applications.steps.progress.subtext'),\n    ready: false,\n    previousButton: { disable: true }\n  },\n]);\n\nif (source.value.git && store.$router.currentRoute._value.query?.commit) {\n  source.value.git.commit = store.$router.currentRoute._value.query.commit as string;\n}\n\nonMounted(async () => {\n  const hash = await allHash({\n    ns: store.dispatch('epinio/findAll', { type: EPINIO_TYPES.NAMESPACE }),\n    charts: store.dispatch('epinio/findAll', { type: EPINIO_TYPES.APP_CHARTS }),\n    info: store.dispatch('epinio/info'),\n  });\n  epinioInfo.value = (hash as { info: any }).info;\n});\n\n// Track changes to mark as unsaved\nwatch([bindings, source], () => {\n  setUnsavedChanges(true);\n}, { deep: true });\n\nconst shouldShowButtons = computed(\n  () => (store.$router.currentRoute.value.hash === '#source' ? 'hide-buttons-deploy' : '')\n);\nconst showSourceTab = computed(() => {\n  return props.mode === _EDIT\n});\nconst validationPassed = computed(() => !Object.values(tabErrors).find((error) => error));\n\nconst done = () => {\n  if (!doneRoute) {\n    return;\n  }\n\n  store.$router.replace({\n    name:   doneRoute.value,\n    params: doneParams.value || { resource: props.value.type },\n  });\n}\n\n\nasync function save(saveCb: (success: boolean) => void) {\n  errors.value = [];\n  try {\n    await props.value.update();\n\n    await props.value.updateConfigurations(\n      props.initialValue.baseConfigurationsNames || [],\n      bindings.configurations || [],\n    );\n\n    await props.value.updateServices(\n      props.initialValue.services || [],\n      bindings.services || [],\n    );\n\n    await props.value.forceFetch();\n    setUnsavedChanges(false); // Clear unsaved changes after successful save\n    saveCb(true);\n    done();\n  } catch (err) {\n    errors.value = epinioExceptionToErrorsArray(err);\n    saveCb(false);\n  }\n}\n\nfunction set(obj: Record<string, any>, changes: Record<string, any>) {\n  Object.entries(changes).forEach(([key, value]) => {\n    obj[key] = value;\n  });\n}\n\nfunction updateInfo(changes: EpinioAppInfo) {\n  props.value.meta = props.value.meta || {};\n  props.value.configuration = props.value.configuration || {};\n  set(props.value.meta, changes.meta);\n  set(props.value.configuration, changes.configuration);\n}\n\nfunction updateConfigurations(changes: EpinioAppBindings) {\n  Object.assign(bindings, changes);\n}\n\nfunction cancel() {\n  store.$router.replace(props.value.listLocation);\n}\n\nfunction finish() {\n  store.$router.replace(createEpinioRoute(`c-cluster-resource-id`, {\n    cluster: store.getters['clusterId'],\n    resource: props.value.type,\n    id: `${props.value.meta.namespace}/${props.value.meta.name}`,\n  }));\n}\n\nfunction updateSource(changes: EpinioAppSource) {\n  source.value = {} as EpinioAppSource;\n  const { appChart, ...cleanChanges } = changes;\n\n  props.value.configuration = props.value.configuration || {};\n\n  if (appChart) {\n    set(props.value.configuration, { appchart: appChart });\n  }\n\n  set(source.value, cleanChanges);\n}\n\nfunction updateManifestConfigurations(changes: string[]) {\n  set(props.value.configuration, { configurations: changes });\n}\n\nfunction validate(value: boolean, tab: string) {\n  if (tab) {\n    tabErrors[tab] = !value;\n  }\n\n  steps[0].ready = value;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (!_ctx.value)\n    ? (_openBlock(), _createBlock(Loading, { key: 0 }))\n    : (_openBlock(), _createBlock(CruResource, {\n        key: 1,\n        class: _normalizeClass(shouldShowButtons.value),\n        \"can-yaml\": false,\n        mode: _ctx.mode,\n        resource: _ctx.value,\n        errors: errors.value,\n        \"validation-passed\": validationPassed.value,\n        onError: _cache[2] || (_cache[2] = (e) => errors.value = _unref(epinioExceptionToErrorsArray)(e)),\n        onFinish: save\n      }, {\n        default: _withCtx(() => [\n          _createVNode(ResourceTabs, { mode: \"mode\" }, {\n            default: _withCtx(() => [\n              (showSourceTab.value)\n                ? (_openBlock(), _createBlock(Tab, {\n                    key: 0,\n                    \"label-key\": \"epinio.applications.steps.source.label\",\n                    name: \"source\",\n                    weight: 30\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_1, [\n                        _createVNode(Wizard, {\n                          class: \"wizard\",\n                          steps: steps,\n                          \"banner-title\": _unref(t)('epinio.applications.steps.source.label'),\n                          \"banner-title-subtext\": _unref(t)('epinio.applications.steps.source.subtext'),\n                          \"header-mode\": \"edit\",\n                          \"finish-mode\": \"done\",\n                          \"edit-first-step\": true,\n                          onCancel: cancel,\n                          onFinish: finish\n                        }, {\n                          source: _withCtx(() => [\n                            (source.value && epinioInfo.value)\n                              ? (_openBlock(), _createBlock(AppSource, {\n                                  key: 0,\n                                  application: _ctx.value,\n                                  source: source.value,\n                                  mode: _ctx.mode,\n                                  info: epinioInfo.value,\n                                  onChange: updateSource,\n                                  onChangeAppInfo: updateInfo,\n                                  onChangeAppConfig: updateManifestConfigurations,\n                                  onValid: _cache[0] || (_cache[0] = ($event: any) => (steps[0].ready = $event))\n                                }, null, 8, [\"application\", \"source\", \"mode\", \"info\"]))\n                              : _createCommentVNode(\"\", true)\n                          ]),\n                          progress: _withCtx(({step}) => [\n                            _createVNode(AppProgress, {\n                              application: _ctx.value,\n                              source: source.value,\n                              bindings: bindings,\n                              mode: _ctx.mode,\n                              step: step\n                            }, null, 8, [\"application\", \"source\", \"bindings\", \"mode\", \"step\"])\n                          ]),\n                          _: 1\n                        }, 8, [\"steps\", \"banner-title\", \"banner-title-subtext\"])\n                      ])\n                    ]),\n                    _: 1\n                  }))\n                : _createCommentVNode(\"\", true),\n              _createVNode(Tab, {\n                \"label-key\": \"epinio.applications.steps.basics.label\",\n                name: \"info\",\n                weight: 20,\n                error: tabErrors.appInfo\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(AppInfo, {\n                    application: _ctx.value,\n                    mode: _ctx.mode,\n                    onChange: updateInfo,\n                    onValid: _cache[1] || (_cache[1] = ($event: any) => (validate($event, 'appInfo')))\n                  }, null, 8, [\"application\", \"mode\"])\n                ]),\n                _: 1\n              }, 8, [\"error\"]),\n              _createVNode(Tab, {\n                \"label-key\": \"epinio.applications.steps.configurations.label\",\n                name: \"configurations\",\n                weight: 10\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(AppConfiguration, {\n                    application: _ctx.value,\n                    \"initial-application\": _ctx.initialValue,\n                    mode: _ctx.mode,\n                    onChange: updateConfigurations\n                  }, null, 8, [\"application\", \"initial-application\", \"mode\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"class\", \"mode\", \"resource\", \"errors\", \"validation-passed\"]))\n}\n}\n\n})","<script lang=\"ts\" setup>\nimport { ref, reactive, computed, onMounted, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport Application from '../models/applications';\nimport CruResource from '@shell/components/CruResource.vue';\nimport ResourceTabs from '@shell/components/form/ResourceTabs/index.vue';\nimport Tab from '@shell/components/Tabbed/Tab.vue';\nimport Loading from '@shell/components/Loading.vue';\nimport AppInfo from '../components/application/AppInfo.vue';\nimport AppConfiguration from '../components/application/AppConfiguration.vue';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport { useEpinioBindAppsMixin } from './bind-apps-mixin';\nimport { useUnsavedChangesMixin } from './unsaved-changes-mixin';\n\nimport Wizard from '@shell/components/Wizard.vue';\nimport { createEpinioRoute } from '../utils/custom-routing';\nimport AppSource from '../components/application/AppSource.vue';\nimport AppProgress from '../components/application/AppProgress.vue';\nimport { EpinioAppSource, EPINIO_TYPES, EpinioAppInfo, EpinioAppBindings } from '../types';\nimport { allHash } from '@shell/utils/promise';\nimport { _EDIT } from '@shell/config/query-params';\n\nconst props = defineProps<{ \n  value: Application;\n  initialValue: Application;\n  mode: string;\n}>();\n\nconst {\n  doneParams,\n  doneRoute,\n} = useEpinioBindAppsMixin(props);\n\nconst { setUnsavedChanges } = useUnsavedChangesMixin();\n\nconst store = useStore();\n\nconst t = store.getters['i18n/t'];\n\nconst bindings = reactive<EpinioAppBindings>({ configurations: [], services: [] });\nconst source = ref<EpinioAppSource>(props.value.appSource);\nconst errors = ref<string[]>([]);\nconst epinioInfo = ref();\nconst tabErrors = reactive<{ appInfo: boolean }>({ appInfo: false });\n\nconst steps = reactive([\n  {\n    name: 'source',\n    label: t('epinio.applications.steps.source.label'),\n    subtext: t('epinio.applications.steps.source.subtext'),\n    ready: false,\n    nextButton: {\n      labelKey: 'epinio.applications.steps.configurations.update',\n      style: 'btn role-primary bg-warning'\n    }\n  },\n  {\n    name: 'progress',\n    label: t('epinio.applications.steps.progress.label'),\n    subtext: t('epinio.applications.steps.progress.subtext'),\n    ready: false,\n    previousButton: { disable: true }\n  },\n]);\n\nif (source.value.git && store.$router.currentRoute._value.query?.commit) {\n  source.value.git.commit = store.$router.currentRoute._value.query.commit as string;\n}\n\nonMounted(async () => {\n  const hash = await allHash({\n    ns: store.dispatch('epinio/findAll', { type: EPINIO_TYPES.NAMESPACE }),\n    charts: store.dispatch('epinio/findAll', { type: EPINIO_TYPES.APP_CHARTS }),\n    info: store.dispatch('epinio/info'),\n  });\n  epinioInfo.value = (hash as { info: any }).info;\n});\n\n// Track changes to mark as unsaved\nwatch([bindings, source], () => {\n  setUnsavedChanges(true);\n}, { deep: true });\n\nconst shouldShowButtons = computed(\n  () => (store.$router.currentRoute.value.hash === '#source' ? 'hide-buttons-deploy' : '')\n);\nconst showSourceTab = computed(() => {\n  return props.mode === _EDIT\n});\nconst validationPassed = computed(() => !Object.values(tabErrors).find((error) => error));\n\nconst done = () => {\n  if (!doneRoute) {\n    return;\n  }\n\n  store.$router.replace({\n    name:   doneRoute.value,\n    params: doneParams.value || { resource: props.value.type },\n  });\n}\n\n\nasync function save(saveCb: (success: boolean) => void) {\n  errors.value = [];\n  try {\n    await props.value.update();\n\n    await props.value.updateConfigurations(\n      props.initialValue.baseConfigurationsNames || [],\n      bindings.configurations || [],\n    );\n\n    await props.value.updateServices(\n      props.initialValue.services || [],\n      bindings.services || [],\n    );\n\n    await props.value.forceFetch();\n    setUnsavedChanges(false); // Clear unsaved changes after successful save\n    saveCb(true);\n    done();\n  } catch (err) {\n    errors.value = epinioExceptionToErrorsArray(err);\n    saveCb(false);\n  }\n}\n\nfunction set(obj: Record<string, any>, changes: Record<string, any>) {\n  Object.entries(changes).forEach(([key, value]) => {\n    obj[key] = value;\n  });\n}\n\nfunction updateInfo(changes: EpinioAppInfo) {\n  props.value.meta = props.value.meta || {};\n  props.value.configuration = props.value.configuration || {};\n  set(props.value.meta, changes.meta);\n  set(props.value.configuration, changes.configuration);\n}\n\nfunction updateConfigurations(changes: EpinioAppBindings) {\n  Object.assign(bindings, changes);\n}\n\nfunction cancel() {\n  store.$router.replace(props.value.listLocation);\n}\n\nfunction finish() {\n  store.$router.replace(createEpinioRoute(`c-cluster-resource-id`, {\n    cluster: store.getters['clusterId'],\n    resource: props.value.type,\n    id: `${props.value.meta.namespace}/${props.value.meta.name}`,\n  }));\n}\n\nfunction updateSource(changes: EpinioAppSource) {\n  source.value = {} as EpinioAppSource;\n  const { appChart, ...cleanChanges } = changes;\n\n  props.value.configuration = props.value.configuration || {};\n\n  if (appChart) {\n    set(props.value.configuration, { appchart: appChart });\n  }\n\n  set(source.value, cleanChanges);\n}\n\nfunction updateManifestConfigurations(changes: string[]) {\n  set(props.value.configuration, { configurations: changes });\n}\n\nfunction validate(value: boolean, tab: string) {\n  if (tab) {\n    tabErrors[tab] = !value;\n  }\n\n  steps[0].ready = value;\n}\n</script>\n\n\n<template>\n  <Loading v-if=\"!value\" />\n  <CruResource\n    v-else\n    :class=\"shouldShowButtons\"\n    :can-yaml=\"false\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :errors=\"errors\"\n    :validation-passed=\"validationPassed\"\n    @error=\"(e : Error) => errors = epinioExceptionToErrorsArray(e)\"\n    @finish=\"save\"\n  >\n    <ResourceTabs\n      mode=\"mode\"\n    >\n      <Tab\n        v-if=\"showSourceTab\"\n        label-key=\"epinio.applications.steps.source.label\"\n        name=\"source\"\n        :weight=\"30\"\n      >\n        <div class=\"wizard-container\">\n          <Wizard\n            class=\"wizard\"\n            :steps=\"steps\"\n            :banner-title=\"t('epinio.applications.steps.source.label')\"\n            :banner-title-subtext=\"t('epinio.applications.steps.source.subtext')\"\n            header-mode=\"edit\"\n            finish-mode=\"done\"\n            :edit-first-step=\"true\"\n            @cancel=\"cancel\"\n            @finish=\"finish\"\n          >\n            <template #source>\n              <AppSource\n                v-if=\"source && epinioInfo\"\n                :application=\"value\"\n                :source=\"source\"\n                :mode=\"mode\"\n                :info=\"epinioInfo\"\n                @change=\"updateSource\"\n                @changeAppInfo=\"updateInfo\"\n                @changeAppConfig=\"updateManifestConfigurations\"\n                @valid=\"steps[0].ready = $event\"\n              />\n            </template>\n            <template #progress=\"{step}\">\n              <AppProgress\n                :application=\"value\"\n                :source=\"source\"\n                :bindings=\"bindings\"\n                :mode=\"mode\"\n                :step=\"step\"\n              />\n            </template>\n          </Wizard>\n        </div>\n      </Tab>\n      \n      <Tab\n        label-key=\"epinio.applications.steps.basics.label\"\n        name=\"info\"\n        :weight=\"20\"\n        :error=\"tabErrors.appInfo\"\n      >\n        <AppInfo\n          :application=\"value\"\n          :mode=\"mode\"\n          @change=\"updateInfo\"\n          @valid=\"validate($event, 'appInfo')\"\n        />\n      </Tab>\n      <Tab\n        label-key=\"epinio.applications.steps.configurations.label\"\n        name=\"configurations\"\n        :weight=\"10\"\n      >\n        <AppConfiguration\n          :application=\"value\"\n          :initial-application=\"initialValue\"\n          :mode=\"mode\"\n          @change=\"updateConfigurations\"\n        />\n      </Tab>\n    </ResourceTabs>\n  </CruResource>\n</template>\n\n<style lang='scss' scoped>\n\n.wizard-container {\n  position: relative;\n\n  margin-bottom: -20px;\n  margin-right: -20px;\n\n  .wizard {\n    position: relative;\n    overflow: auto;\n\n    // This is a hack and is needed as the wizard's buttons are now `position: absolute; bottom: 0;` so appears over wizard content\n    // In the dashabord app chart install wizard this is applied to specific content winthin the wizard (scroll__content)\n    // We applied the same thing here\n    // Both places need to be removed and the padding added within the wizard component\n    .appSource, .progress-container {\n      padding-bottom: 75px;\n    }\n  }\n}\n\n</style>\n\n<style lang=\"scss\">\n.hide-buttons-deploy {\n  .cru__footer {\n    display: none !important;\n  }\n}\n\n</style>\n","import script from \"./applications.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./applications.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./applications.vue?vue&type=style&index=0&id=a5bdeaf2&lang=scss&scoped=true\"\nimport \"./applications.vue?vue&type=style&index=1&id=a5bdeaf2&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a5bdeaf2\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".wizard-container[data-v-a5bdeaf2]{position:relative;margin-bottom:-20px;margin-right:-20px}.wizard-container .wizard[data-v-a5bdeaf2]{position:relative;overflow:auto}.wizard-container .wizard .appSource[data-v-a5bdeaf2],.wizard-container .wizard .progress-container[data-v-a5bdeaf2]{padding-bottom:75px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./configurations.vue?vue&type=style&index=0&id=a6491d02&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"fd2fd2e4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["___CSS_LOADER_EXPORT___","push","module","id","_hoisted_1","key","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","_defineComponent","__name","props","value","initialValue","mode","setup","__props","store","useStore","t","getters","doneParams","doneRoute","selectedApps","nsAppOptions","noApps","updateConfigurationAppBindings","useEpinioBindAppsMixin","setUnsavedChanges","useUnsavedChangesMixin","errors","ref","pending","validationPassed","onMounted","async","meta","namespace","namespaces","metadata","name","data","configuration","details","boundapps","updateValidation","watch","deep","isEdit","computed","_EDIT","sortBy","EPINIO_TYPES","NAMESPACE","namespaceNames","map","n","done","$router","replace","params","resource","type","save","create","dispatch","opt","force","update","forceFetch","saveCb","err","console","log","epinioExceptionToErrorsArray","nameErrors","validateKubernetesName","undefined","nsErrors","length","dataValues","Object","entries","_ctx","_cache","_openBlock","_createBlock","Loading","CruResource","_unref","onError","e","onFinish","default","_withCtx","isServiceRelated","Banner","color","_createTextVNode","_toDisplayString","_","_createCommentVNode","_createElementBlock","_Fragment","_renderList","i","label","_createVNode","NameNsDescription","_createElementVNode","LabeledSelect","$event","_isRef","loading","disabled","options","searchable","multiple","placeholder","KeyValue","title","valueMarkdownMultiline","__","__exports__","content","__esModule","locals","exports","add","_hoisted_6","_hoisted_7","updateServiceInstanceAppBindings","reactive","validChartValues","failedWaitingForServiceInstance","chartValues","objValuesToString","settings","Promise","all","CATALOG_SERVICE","APP","catalogQuery","currentRoute","_value","query","catalogservice","catalog_service","out","route","endsWith","catalogServices","selectedCatalogService","find","newBinds","values","every","v","catalogServiceOpts","cs","short_description","noCatalogServices","isEqual","showChartValues","keys","newSettings","message","resetChartValues","onErrors","required","ChartValues","chart","onValid","allApps","nsApps","filter","a","waitForServiceInstanceReady","serviceInstance","bindApps","unbindApps","bA","includes","promises","bindApp","uBA","unbindApp","waitForTestFn","freshServiceInstance","SERVICE_INSTANCE","catch","warn","Error","res","setTimeout","delta","reduce","nsA","appName","configName","toBind","toUnbind","configurations","index","indexOf","bindConfigurations","unbindConfiguration","bindings","services","source","appSource","epinioInfo","tabErrors","appInfo","steps","subtext","ready","nextButton","labelKey","style","previousButton","disable","git","commit","hash","allHash","ns","charts","APP_CHARTS","info","shouldShowButtons","showSourceTab","error","updateConfigurations","baseConfigurationsNames","updateServices","set","obj","changes","forEach","updateInfo","assign","cancel","listLocation","finish","createEpinioRoute","cluster","updateSource","appChart","cleanChanges","appchart","updateManifestConfigurations","validate","tab","_normalizeClass","ResourceTabs","Tab","weight","Wizard","onCancel","AppSource","application","onChange","onChangeAppInfo","onChangeAppConfig","progress","step","AppProgress","AppInfo","AppConfiguration"],"sourceRoot":""}