(("undefined"!==typeof self?self:this)["webpackChunkepinio_1_13_8_rc1"]=("undefined"!==typeof self?self:this)["webpackChunkepinio_1_13_8_rc1"]||[]).push([[278],{22594:function(e,t,n){"use strict";n.r(t);var i=n(36758),s=n.n(i),r=n(40935),o=n.n(r),a=o()(s());a.push([e.id,'.window[data-v-81cc535c]{height:100%}.window.show-grid[data-v-81cc535c]{display:grid;grid-template-areas:"body" "title";grid-template-rows:auto 50px}.title[data-v-81cc535c]{grid-area:title;background-color:var(--wm-title-bg);border-top:1px solid var(--wm-title-border);height:100%;vertical-align:middle;padding:10px;overflow-x:auto;overflow-y:hidden}.body[data-v-81cc535c]{grid-area:body;height:100%;overflow:hidden}',""]),t["default"]=a},30002:function(e,t){var n,i,s;(function(r,o){i=[t],n=o,s="function"===typeof n?n.apply(t,i):n,void 0===s||(e.exports=s)})(0,function(e){"use strict";var t,n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};(function(e){e[e["EOS"]=0]="EOS",e[e["Text"]=1]="Text",e[e["Incomplete"]=2]="Incomplete",e[e["ESC"]=3]="ESC",e[e["Unknown"]=4]="Unknown",e[e["SGR"]=5]="SGR",e[e["OSCURL"]=6]="OSCURL"})(t||(t={}));var i=function(){function e(){this.VERSION="5.0.0",this.setup_palettes(),this._use_classes=!1,this.bold=!1,this.fg=this.bg=null,this._buffer="",this._url_whitelist={http:1,https:1}}return Object.defineProperty(e.prototype,"use_classes",{get:function(){return this._use_classes},set:function(e){this._use_classes=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url_whitelist",{get:function(){return this._url_whitelist},set:function(e){this._url_whitelist=e},enumerable:!1,configurable:!0}),e.prototype.setup_palettes=function(){var e=this;this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach(function(t){t.forEach(function(t){e.palette_256.push(t)})});for(var t=[0,95,135,175,215,255],n=0;n<6;++n)for(var i=0;i<6;++i)for(var s=0;s<6;++s){var r={rgb:[t[n],t[i],t[s]],class_name:"truecolor"};this.palette_256.push(r)}for(var o=8,a=0;a<24;++a,o+=10){var l={rgb:[o,o,o],class_name:"truecolor"};this.palette_256.push(l)}},e.prototype.escape_txt_for_html=function(e){return e.replace(/[&<>"']/gm,function(e){return"&"===e?"&amp;":"<"===e?"&lt;":">"===e?"&gt;":'"'===e?"&quot;":"'"===e?"&#x27;":void 0})},e.prototype.append_buffer=function(e){var t=this._buffer+e;this._buffer=t},e.prototype.get_next_packet=function(){var e={kind:t.EOS,text:"",url:""},i=this._buffer.length;if(0==i)return e;var o=this._buffer.indexOf("");if(-1==o)return e.kind=t.Text,e.text=this._buffer,this._buffer="",e;if(o>0)return e.kind=t.Text,e.text=this._buffer.slice(0,o),this._buffer=this._buffer.slice(o),e;if(0==o){if(1==i)return e.kind=t.Incomplete,e;var a=this._buffer.charAt(1);if("["!=a&&"]"!=a)return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;if("["==a){this._csi_regex||(this._csi_regex=s(n(["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          [                      # CSI\n                          ([<-?]?)              # private-mode char\n                          ([d;]*)                    # any digits or semicolons\n                          ([ -/]?               # an intermediate modifier\n                          [@-~])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          [                      # CSI\n                          [ -~]*                # anything legal\n                          ([\0-:])              # anything illegal\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \\x1b\\[                      # CSI\n                          ([\\x3c-\\x3f]?)              # private-mode char\n                          ([\\d;]*)                    # any digits or semicolons\n                          ([\\x20-\\x2f]?               # an intermediate modifier\n                          [\\x40-\\x7e])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \\x1b\\[                      # CSI\n                          [\\x20-\\x7e]*                # anything legal\n                          ([\\x00-\\x1f:])              # anything illegal\n                        )\n                    "])));var l=this._buffer.match(this._csi_regex);if(null===l)return e.kind=t.Incomplete,e;if(l[4])return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;""!=l[1]||"m"!=l[3]?e.kind=t.Unknown:e.kind=t.SGR,e.text=l[2];var c=l[0].length;return this._buffer=this._buffer.slice(c),e}if("]"==a){if(i<4)return e.kind=t.Incomplete,e;if("8"!=this._buffer.charAt(2)||";"!=this._buffer.charAt(3))return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;this._osc_st||(this._osc_st=r(n(["\n                        (?:                         # legal sequence\n                          (\\)                    # ESC                           |                           # alternate\n                          ()                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\0-]                 # anything illegal\n                          |                           # alternate\n                          [\b-]                 # anything illegal\n                          |                           # alternate\n                          [-]                 # anything illegal\n                        )\n                    "],["\n                        (?:                         # legal sequence\n                          (\\x1b\\\\)                    # ESC \\\n                          |                           # alternate\n                          (\\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\\x00-\\x06]                 # anything illegal\n                          |                           # alternate\n                          [\\x08-\\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\\x1c-\\x1f]                 # anything illegal\n                        )\n                    "]))),this._osc_st.lastIndex=0;var h=this._osc_st.exec(this._buffer);if(null===h)return e.kind=t.Incomplete,e;if(h[3])return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;var u=this._osc_st.exec(this._buffer);if(null===u)return e.kind=t.Incomplete,e;if(u[3])return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;this._osc_regex||(this._osc_regex=s(n(["\n                        ^                           # beginning of line\n                                                    #\n                        ]8;                    # OSC Hyperlink\n                        [ -:<-~]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([!-~]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\)                  # ESC                           |                           # alternate\n                          (?:)                    # BEL (what xterm did)\n                        )\n                        ([!-~]+)              # TEXT capture\n                        ]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\)                  # ESC                           |                           # alternate\n                          (?:)                    # BEL (what xterm did)\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                        \\x1b\\]8;                    # OSC Hyperlink\n                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([\\x21-\\x7e]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                        ([\\x21-\\x7e]+)              # TEXT capture\n                        \\x1b\\]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                    "])));l=this._buffer.match(this._osc_regex);if(null===l)return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;e.kind=t.OSCURL,e.url=l[1],e.text=l[2];c=l[0].length;return this._buffer=this._buffer.slice(c),e}}},e.prototype.ansi_to_html=function(e){this.append_buffer(e);var n=[];while(1){var i=this.get_next_packet();if(i.kind==t.EOS||i.kind==t.Incomplete)break;i.kind!=t.ESC&&i.kind!=t.Unknown&&(i.kind==t.Text?n.push(this.transform_to_html(this.with_state(i))):i.kind==t.SGR?this.process_ansi(i):i.kind==t.OSCURL&&n.push(this.process_hyperlink(i)))}return n.join("")},e.prototype.with_state=function(e){return{bold:this.bold,fg:this.fg,bg:this.bg,text:e.text}},e.prototype.process_ansi=function(e){var t=e.text.split(";");while(t.length>0){var n=t.shift(),i=parseInt(n,10);if(isNaN(i)||0===i)this.fg=this.bg=null,this.bold=!1;else if(1===i)this.bold=!0;else if(22===i)this.bold=!1;else if(39===i)this.fg=null;else if(49===i)this.bg=null;else if(i>=30&&i<38)this.fg=this.ansi_colors[0][i-30];else if(i>=40&&i<48)this.bg=this.ansi_colors[0][i-40];else if(i>=90&&i<98)this.fg=this.ansi_colors[1][i-90];else if(i>=100&&i<108)this.bg=this.ansi_colors[1][i-100];else if((38===i||48===i)&&t.length>0){var s=38===i,r=t.shift();if("5"===r&&t.length>0){var o=parseInt(t.shift(),10);o>=0&&o<=255&&(s?this.fg=this.palette_256[o]:this.bg=this.palette_256[o])}if("2"===r&&t.length>2){var a=parseInt(t.shift(),10),l=parseInt(t.shift(),10),c=parseInt(t.shift(),10);if(a>=0&&a<=255&&l>=0&&l<=255&&c>=0&&c<=255){var h={rgb:[a,l,c],class_name:"truecolor"};s?this.fg=h:this.bg=h}}}}},e.prototype.transform_to_html=function(e){var t=e.text;if(0===t.length)return t;if(t=this.escape_txt_for_html(t),!e.bold&&null===e.fg&&null===e.bg)return t;var n=[],i=[],s=e.fg,r=e.bg;e.bold&&n.push("font-weight:bold"),this._use_classes?(s&&("truecolor"!==s.class_name?i.push(s.class_name+"-fg"):n.push("color:rgb("+s.rgb.join(",")+")")),r&&("truecolor"!==r.class_name?i.push(r.class_name+"-bg"):n.push("background-color:rgb("+r.rgb.join(",")+")"))):(s&&n.push("color:rgb("+s.rgb.join(",")+")"),r&&n.push("background-color:rgb("+r.rgb+")"));var o="",a="";return i.length&&(o=' class="'+i.join(" ")+'"'),n.length&&(a=' style="'+n.join(";")+'"'),"<span"+a+o+">"+t+"</span>"},e.prototype.process_hyperlink=function(e){var t=e.url.split(":");if(t.length<1)return"";if(!this._url_whitelist[t[0]])return"";var n='<a href="'+this.escape_txt_for_html(e.url)+'">'+this.escape_txt_for_html(e.text)+"</a>";return n},e}();function s(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=e.raw[0],s=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,r=i.replace(s,"");return new RegExp(r)}function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=e.raw[0],s=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,r=i.replace(s,"");return new RegExp(r,"g")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i})},36290:function(e,t,n){var i=n(22594);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var s=n(74825).A;s("1786400a",i,!0,{sourceMap:!1,shadowMode:!1})},78418:function(e,t,n){"use strict";n.d(t,{HM:function(){return H},Gn:function(){return F},vg:function(){return J},tv:function(){return V},Dm:function(){return X},hb:function(){return Q}});var i=n(4364);const s=new WeakMap,r=new WeakMap;function o(e){const t=s.get(e);return i.assert(null!=t,"'this' is expected an Event object, but got",e),t}function a(e){null==e.passiveListener?e.event.cancelable&&(e.canceled=!0,"function"===typeof e.event.preventDefault&&e.event.preventDefault()):"undefined"!==typeof i&&"function"===typeof i.error&&i.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener)}function l(e,t){s.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const n=Object.keys(t);for(let i=0;i<n.length;++i){const e=n[i];e in this||Object.defineProperty(this,e,c(e))}}function c(e){return{get(){return o(this).event[e]},set(t){o(this).event[e]=t},configurable:!0,enumerable:!0}}function h(e){return{value(){const t=o(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function u(e,t){const n=Object.keys(t);if(0===n.length)return e;function i(t,n){e.call(this,t,n)}i.prototype=Object.create(e.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(let s=0;s<n.length;++s){const r=n[s];if(!(r in e.prototype)){const e=Object.getOwnPropertyDescriptor(t,r),n="function"===typeof e.value;Object.defineProperty(i.prototype,r,n?h(r):c(r))}}return i}function f(e){if(null==e||e===Object.prototype)return l;let t=r.get(e);return null==t&&(t=u(f(Object.getPrototypeOf(e)),e),r.set(e,t)),t}function p(e,t){const n=f(Object.getPrototypeOf(t));return new n(e,t)}function d(e){return o(e).immediateStopped}function g(e,t){o(e).eventPhase=t}function b(e,t){o(e).currentTarget=t}function m(e,t){o(e).passiveListener=t}l.prototype={get type(){return o(this).event.type},get target(){return o(this).eventTarget},get currentTarget(){return o(this).currentTarget},composedPath(){const e=o(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return o(this).eventPhase},stopPropagation(){const e=o(this);e.stopped=!0,"function"===typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){const e=o(this);e.stopped=!0,e.immediateStopped=!0,"function"===typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(o(this).event.bubbles)},get cancelable(){return Boolean(o(this).event.cancelable)},preventDefault(){a(o(this))},get defaultPrevented(){return o(this).canceled},get composed(){return Boolean(o(this).event.composed)},get timeStamp(){return o(this).timeStamp},get srcElement(){return o(this).eventTarget},get cancelBubble(){return o(this).stopped},set cancelBubble(e){if(!e)return;const t=o(this);t.stopped=!0,"boolean"===typeof t.event.cancelBubble&&(t.event.cancelBubble=!0)},get returnValue(){return!o(this).canceled},set returnValue(e){e||a(o(this))},initEvent(){}},Object.defineProperty(l.prototype,"constructor",{value:l,configurable:!0,writable:!0}),"undefined"!==typeof window&&"undefined"!==typeof window.Event&&(Object.setPrototypeOf(l.prototype,window.Event.prototype),r.set(window.Event.prototype,l));const _=new WeakMap,v=1,y=2,x=3;function w(e){return null!==e&&"object"===typeof e}function k(e){const t=_.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function E(e){return{get(){const t=k(this);let n=t.get(e);while(null!=n){if(n.listenerType===x)return n.listener;n=n.next}return null},set(t){"function"===typeof t||w(t)||(t=null);const n=k(this);let i=null,s=n.get(e);while(null!=s)s.listenerType===x?null!==i?i.next=s.next:null!==s.next?n.set(e,s.next):n.delete(e):i=s,s=s.next;if(null!==t){const s={listener:t,listenerType:x,passive:!1,once:!1,next:null};null===i?n.set(e,s):i.next=s}},configurable:!0,enumerable:!0}}function T(e,t){Object.defineProperty(e,`on${t}`,E(t))}function S(e){function t(){C.call(this)}t.prototype=Object.create(C.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let n=0;n<e.length;++n)T(t.prototype,e[n]);return t}function C(){if(!(this instanceof C)){if(1===arguments.length&&Array.isArray(arguments[0]))return S(arguments[0]);if(arguments.length>0){const e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return S(e)}throw new TypeError("Cannot call a class as a function")}_.set(this,new Map)}C.prototype={addEventListener(e,t,n){if(null==t)return;if("function"!==typeof t&&!w(t))throw new TypeError("'listener' should be a function or an object.");const i=k(this),s=w(n),r=s?Boolean(n.capture):Boolean(n),o=r?v:y,a={listener:t,listenerType:o,passive:s&&Boolean(n.passive),once:s&&Boolean(n.once),next:null};let l=i.get(e);if(void 0===l)return void i.set(e,a);let c=null;while(null!=l){if(l.listener===t&&l.listenerType===o)return;c=l,l=l.next}c.next=a},removeEventListener(e,t,n){if(null==t)return;const i=k(this),s=w(n)?Boolean(n.capture):Boolean(n),r=s?v:y;let o=null,a=i.get(e);while(null!=a){if(a.listener===t&&a.listenerType===r)return void(null!==o?o.next=a.next:null!==a.next?i.set(e,a.next):i.delete(e));o=a,a=a.next}},dispatchEvent(e){if(null==e||"string"!==typeof e.type)throw new TypeError('"event.type" should be a string.');const t=k(this),n=e.type;let s=t.get(n);if(null==s)return!0;const r=p(this,e);let o=null;while(null!=s){if(s.once?null!==o?o.next=s.next:null!==s.next?t.set(n,s.next):t.delete(n):o=s,m(r,s.passive?s.listener:null),"function"===typeof s.listener)try{s.listener.call(this,r)}catch(a){"undefined"!==typeof i&&"function"===typeof i.error&&i.error(a)}else s.listenerType!==x&&"function"===typeof s.listener.handleEvent&&s.listener.handleEvent(r);if(d(r))break;s=s.next}return m(r,null),g(r,0),b(r,null),!r.defaultPrevented}},Object.defineProperty(C.prototype,"constructor",{value:C,configurable:!0,writable:!0}),"undefined"!==typeof window&&"undefined"!==typeof window.EventTarget&&Object.setPrototypeOf(C.prototype,window.EventTarget.prototype);var O=n(35881),j=n(50667),I=n(4364);function P(e,t,n){return(t=B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){var t=R(e,"string");return"symbol"==typeof t?t:t+""}function R(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let L=1,A=!1,U=!1;const M="ws://",W="wss://",q="disconnected",D=(C.addEventListener,"connecting"),N="connected",$="closing",G="reconnecting",F=D,H=N,V=q,X="message",z="frame_timeout",J="connect_error",K="disconnect_error";class Q extends C{constructor(e,t=!0,n=null,i=null,s=null,r=!1){super(),P(this,"url",void 0),P(this,"autoReconnect",!0),P(this,"frameTimeout",35e3),P(this,"metadata",{}),P(this,"hasBeenOpen",!1),P(this,"hasReconnected",!1),P(this,"protocol",null),P(this,"maxTries",null),P(this,"tries",0),P(this,"idAsTimestamp",!1),P(this,"socket",null),P(this,"state",q),P(this,"framesReceived",0),P(this,"frameTimer",void 0),P(this,"reconnectTimer",void 0),P(this,"disconnectCallBacks",[]),P(this,"disconnectedAt",0),P(this,"closingId",0),P(this,"autoReconnectUrl",null),this.setUrl(e),this.autoReconnect=t,this.protocol=i,this.maxTries=s,this.idAsTimestamp=r,null!==n&&(this.frameTimeout=n)}setUrl(e){e.match(/wss?:\/\//)||(e=self.location.origin.replace(/^http/,"ws")+e),"https:"===self.location.protocol&&e.startsWith(M)&&(e=W+e.substr(M.length)),this.url=e}connect(e={}){if(this.socket)return void I.error("Socket refusing to connect while another socket exists");this.state!==G&&(this.state=D),Object.assign(this.metadata,e);const t=this.idAsTimestamp?(new Date).getTime():L++,n=(0,j.R_)(this.url,"sockId",t);let i;this._baseLog("connecting",{id:t,url:n.replace(/\?.*/,"")}),this.tries++,i=this.protocol?new WebSocket(n,this.protocol):new WebSocket(n),i.sockId=t,i.metadata=this.metadata,i.onmessage=this._onmessage.bind(this),i.onopen=this._opened.bind(this),i.onerror=this._error.bind(this),i.onclose=this._closed.bind(this),this.socket=i,this.state=D,this.dispatchEvent(new CustomEvent(F))}send(e){return!(!this.socket||this.state!==N)&&(this.socket.send(e),!0)}disconnect(e){e&&this.disconnectCallBacks.push(e);const t=this,n=new Promise((e,n)=>{function i(e){n(e),t.removeEventListener(J,i)}this.state===q&&e(),this.addEventListener(J,i),this.disconnectCallBacks.push(()=>{this.removeEventListener(J,i),e()})});return this.autoReconnect=!1,this._close(),n}reconnect(e={}){Object.assign(this.metadata,e),this.state!==D?this.socket?this._close():this.connect(e):this._log("Ignoring reconnect for socket in connecting")}getMetadata(){return this.socket?this.socket.metadata:{}}getId(){return this.socket?this.socket.sockId:0}isConnected(){return this.state===N}setAutoReconnect(e){this.autoReconnect=e}setAutoReconnectUrl(e){this.autoReconnectUrl=e}_close(){const e=this.socket;if(e){try{this._log("closing"),this.closingId=e.sockId,e.onopen=null,e.onerror=null,e.onmessage=null,e.close()}catch(t){this._log("exception",{e:t.toString()})}this.state=$}}_opened(){this._log("opened");const e=(new Date).getTime(),t=this.disconnectedAt;let n=0;t&&(n=e-t),this.hasBeenOpen&&(this.hasReconnected=!0),this.hasBeenOpen=!0,this.state=N,this.framesReceived=0,this.disconnectedAt=0,this.dispatchEvent(new CustomEvent(H,{detail:{tries:this.tries,afterMilliseconds:n}})),this.tries=0,this._resetWatchdog(),clearTimeout(this.reconnectTimer)}_onmessage(e){this._resetWatchdog(),this.tries=0,this.framesReceived++,this.dispatchEvent(new CustomEvent(X,{detail:e}))}_resetWatchdog(){clearTimeout(this.frameTimer);const e=this.frameTimeout;e&&this.state===N&&(this.frameTimer=setTimeout(()=>{this._log(`watchdog expired after${e}. Closing`),this._close(),this.dispatchEvent(new CustomEvent(z))},e))}_error(){this.closingId=this.socket?this.socket.sockId:0,this._log("error")}_closed(e){const{code:t,reason:n,wasClean:i}=e;this._baseLog("closed",{id:this.closingId||this.socket?.sockId||"unknown",code:t,reason:n,clean:i}),this.closingId=0,this.socket=null,clearTimeout(this.reconnectTimer),clearTimeout(this.frameTimer);const s=this.disconnectCallBacks;while(s.length){const e=s.pop();e&&e.apply(this)}if([N,$].includes(this.state)&&(U=!0),this.disconnectedAt||(this.disconnectedAt=(new Date).getTime()),A||U)if(this.autoReconnect){if(this.state=G,this.maxTries&&this.tries>1&&this.tries<=this.maxTries){const e=new CustomEvent(J);this.dispatchEvent(e)}if(this.maxTries&&this.tries>this.maxTries)this._log("closed. Will not reconnect (hit max attempts)"),this.state=q,this.dispatchEvent(new CustomEvent(K));else{const e=()=>{this._log("closed. Attempting to reconnect");const e=Math.max(1e3,Math.min(1e3*this.tries,3e4));this.reconnectTimer=setTimeout(()=>{this.connect()},e)};this.autoReconnectUrl?this.autoReconnectUrl().then(t=>{this.setUrl(t),e()}).catch(e=>{I.error("Failed to fetch socket auto reconnect url",e)}):e()}}else this.state=q;else{this.autoReconnect=!1,this.state=q;const e=new CustomEvent(J,{detail:{isSafari:O.nr}});this.dispatchEvent(e),A=!0}this.state===q?this.dispatchEvent(new CustomEvent(V)):this.state===G&&this.dispatchEvent(new CustomEvent(F))}_log(e,t){this._baseLog(e,{state:this.state,id:this.socket?.sockId||0,...t})}_baseLog(e,t){const n=[e],i=Object.entries(t||{});n.unshift("Socket "),i.length&&(n.push(" ("),i.forEach(([e,t],i)=>{0!==i&&n.push(", "),n.push(`${e}=${t}`)}),n.push(")")),I.log(n.join(""))}}},94428:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var i=n(9274);const s={key:0,class:"title clearfix"},r={class:"body clearfix"};function o(e,t,n,o,a,l){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)(["window",{"show-grid":e.$slots.title&&e.$slots.body}])},[e.$slots.title?((0,i.openBlock)(),(0,i.createElementBlock)("div",s,[(0,i.renderSlot)(e.$slots,"title",{},void 0,!0)])):(0,i.createCommentVNode)("",!0),(0,i.createElementVNode)("div",r,[(0,i.renderSlot)(e.$slots,"body",{},void 0,!0)])],2)}var a={name:"Window",props:{active:{type:Boolean,required:!0},afterOpen:{type:Function,default:null},activated:{type:Function,default:null},deactivated:{type:Function,default:null},beforeClose:{type:Function,default:null}},watch:{active(e){e&&this.activated?this.activated.apply(this):!e&&this.deactivated&&this.deactivated.apply(this)}},mounted(){this.afterOpen&&this.afterOpen.apply(this)},beforeUnmount(){this.beforeClose&&this.beforeClose.apply(this)}},l=(n(36290),n(47433));const c=(0,l.A)(a,[["render",o],["__scopeId","data-v-81cc535c"]]);var h=c}}]);
//# sourceMappingURL=epinio-1.13.8-rc1.umd.min.278.js.map