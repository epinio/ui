(("undefined"!==typeof self?self:this)["webpackChunkepinio_1_12_0_rc4"]=("undefined"!==typeof self?self:this)["webpackChunkepinio_1_12_0_rc4"]||[]).push([[423],{36423:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ge}});var r=a(9274),s=a(83664),o=a(23190),c=a(5694),n=a(20568),l=a(22579),u=a(35664),i=a(87964),d=a(40775),p=a(49584),m=a(67243),v=a(95457),k=a(65359);const b={class:"secret-data-tab-basic"},f={key:0},h={class:"m-20 text-center no-rows"};var y=(0,r.defineComponent)({__name:"Basic",props:{rows:{}},setup(e){const t=(0,k.Pj)(),a=(0,v.s)(t),s=e;return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",b,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(s.rows,((e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:"entry"},[(0,r.createVNode)(m.A,{value:e.value,label:e.key,conceal:!0,"conceal-stand-alone":!0},null,8,["value","label"])])))),128)),e.rows.length?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",f,[(0,r.createElementVNode)("div",h,(0,r.toDisplayString)((0,r.unref)(a).t("sortableTable.noRows")),1)]))]))}});const w=y;var _=w;const g={class:"row secret-data-ssh"},B={class:"col span-6 username"},E={class:"col span-6 password"};var V=(0,r.defineComponent)({__name:"Ssh",props:{username:{},password:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",g,[(0,r.createElementVNode)("div",B,[(0,r.createVNode)(m.A,{value:t.username,"label-key":"secret.ssh.public"},null,8,["value"])]),(0,r.createElementVNode)("div",E,[(0,r.createVNode)(m.A,{value:t.password,"label-key":"secret.ssh.private",conceal:!0,"conceal-stand-alone":!0},null,8,["value"])])]))}});const A=V;var N=A;const C={class:"row secret-data-service-account-token"},D={class:"col span-6 crt"},S={class:"col span-6 token"};var P=(0,r.defineComponent)({__name:"ServiceAccountToken",props:{crt:{},token:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",C,[(0,r.createElementVNode)("div",D,[(0,r.createVNode)(m.A,{value:t.crt,"label-key":"secret.serviceAcct.ca"},null,8,["value"])]),(0,r.createElementVNode)("div",S,[(0,r.createVNode)(m.A,{value:t.token,"label-key":"secret.serviceAcct.token",conceal:!0,"conceal-stand-alone":!0},null,8,["value"])])]))}});const L=P;var T=L;const O={class:"row secret-data-certificate"},x={class:"col span-6 token"},I={class:"col span-6 crt"};var R=(0,r.defineComponent)({__name:"Certificate",props:{crt:{},token:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",O,[(0,r.createElementVNode)("div",x,[(0,r.createVNode)(m.A,{value:t.token,"label-key":"secret.certificate.privateKey",conceal:!0,"conceal-stand-alone":!0},null,8,["value"])]),(0,r.createElementVNode)("div",I,[(0,r.createVNode)(m.A,{value:t.crt,"label-key":"secret.certificate.certificate"},null,8,["value"])])]))}});const H=R;var z=H;const F={class:"row mt-20 secret-data-basic-auth"},U={class:"col span-6 username"},$={class:"col span-6 password"};var j=(0,r.defineComponent)({__name:"BasicAuth",props:{username:{},password:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",F,[(0,r.createElementVNode)("div",U,[(0,r.createVNode)(m.A,{value:t.username,"label-key":"secret.registry.username"},null,8,["value"])]),(0,r.createElementVNode)("div",$,[(0,r.createVNode)(m.A,{value:t.password,"label-key":"secret.registry.password",conceal:!0,"conceal-stand-alone":!0},null,8,["value"])])]))}});const M=j;var K=M;const q={class:"row secret-data-registry"},J={class:"col span-12 registry-url"};var G=(0,r.defineComponent)({__name:"Registry",props:{registryUrl:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",q,[(0,r.createElementVNode)("div",J,[(0,r.createVNode)(m.A,{value:t.registryUrl,"label-key":"secret.registry.domainName"},null,8,["value"])])]))}});const Y=G;var Q=Y,W=(0,r.defineComponent)({__name:"index",props:{tabLabel:{},secretData:{},weight:{}},setup(e){const t=e;return(e,a)=>((0,r.openBlock)(),(0,r.createBlock)(p.A,{class:"secret-data-tab",name:"data",label:t.tabLabel,weight:t.weight},{default:(0,r.withCtx)((()=>[t.secretData.registry?((0,r.openBlock)(),(0,r.createBlock)(Q,(0,r.normalizeProps)((0,r.mergeProps)({key:0},t.secretData.registry)),null,16)):(0,r.createCommentVNode)("",!0),t.secretData.basicAuth?((0,r.openBlock)(),(0,r.createBlock)(K,(0,r.normalizeProps)((0,r.mergeProps)({key:1},t.secretData.basicAuth)),null,16)):t.secretData.certificate?((0,r.openBlock)(),(0,r.createBlock)(z,(0,r.normalizeProps)((0,r.mergeProps)({key:2},t.secretData.certificate)),null,16)):(0,r.createCommentVNode)("",!0),t.secretData.serviceAccount?((0,r.openBlock)(),(0,r.createBlock)(T,(0,r.normalizeProps)((0,r.mergeProps)({key:3},t.secretData.serviceAccount)),null,16)):(0,r.createCommentVNode)("",!0),t.secretData.ssh?((0,r.openBlock)(),(0,r.createBlock)(N,(0,r.normalizeProps)((0,r.mergeProps)({key:4},t.secretData.ssh)),null,16)):(0,r.createCommentVNode)("",!0),t.secretData.basic?((0,r.openBlock)(),(0,r.createBlock)(_,(0,r.normalizeProps)((0,r.mergeProps)({key:5},t.secretData.basic)),null,16)):(0,r.createCommentVNode)("",!0)])),_:1},8,["label","weight"]))}}),X=(a(85362),a(47433));const Z=(0,X.A)(W,[["__scopeId","data-v-70247290"]]);var ee=Z;const te={class:"row"},ae={class:"col span-12"};var re=(0,r.defineComponent)({__name:"index",props:{knownHosts:{},weight:{}},setup(e){return(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(p.A,{name:"known_hosts","label-key":"secret.ssh.knownHosts",weight:e.weight},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",te,[(0,r.createElementVNode)("div",ae,[(0,r.createVNode)(m.A,{value:e.knownHosts,"label-key":"secret.ssh.knownHosts",conceal:!1},null,8,["value"])])])])),_:1},8,["weight"]))}});const se=re;var oe=se,ce=a(82331);const ne={OPAQUE:"Opaque",SERVICE_ACCT:"kubernetes.io/service-account-token",DOCKER_JSON:"kubernetes.io/dockerconfigjson",BASIC:"kubernetes.io/basic-auth",SSH:"kubernetes.io/ssh-auth",TLS:"kubernetes.io/tls",BOOTSTRAP:"bootstrap.kubernetes.io/token",ISTIO_TLS:"istio.io/key-and-cert",HELM_RELEASE:"helm.sh/release.v1",FLEET_CLUSTER:"fleet.cattle.io/cluster-registration-values",CLOUD_CREDENTIAL:"provisioning.cattle.io/cloud-credential",RKE_AUTH_CONFIG:"rke.cattle.io/auth-config",FLEET_OCI_STORAGE:"fleet.cattle.io/bundle-oci-storage/v1alpha1"},le=e=>{const t=(0,r.toValue)(e);return(0,r.computed)((()=>{const e=t._type===ne.SSH,a=e&&t.supportsSshKnownHosts;if(!a)return;const{data:r={}}=t;return{knownHosts:r.known_hosts?(0,ce.u)(r.known_hosts):""}}))},ue=e=>(0,r.computed)((()=>{const t=(0,r.toValue)(e);return{secretType:t._type,secretData:t.data||{}}})),ie=e=>(0,r.computed)((()=>{const t=(0,r.toValue)(e),a=[],{data:s={}}=t;return Object.keys(s).forEach((e=>{const t=(0,ce.u)(s[e]);a.push({key:e,value:t})})),a})),de=e=>{const t=ue(e);return(0,r.computed)((()=>{const e=(0,ce.u)(t.value.secretData[".dockerconfigjson"]);return JSON.parse(e).auths}))},pe=e=>{const t=de(e);return(0,r.computed)((()=>({registryUrl:Object.keys(t.value)[0]})))},me=e=>{const t=de(e),a=pe(e);return(0,r.computed)((()=>({username:t.value[a.value.registryUrl].username,password:t.value[a.value.registryUrl].password})))},ve=e=>{const t=ie(e),a=ue(e);return(0,r.computed)((()=>({username:(0,ce.u)(a.value.secretData.username||""),password:(0,ce.u)(a.value.secretData.password||""),rows:t.value})))},ke=e=>{const t=ue(e);return(0,r.computed)((()=>({username:(0,ce.u)(t.value.secretData["ssh-publickey"]||""),password:(0,ce.u)(t.value.secretData["ssh-privatekey"]||"")})))},be=e=>{const t=ue(e);return(0,r.computed)((()=>({token:(0,ce.u)(t.value.secretData["token"]),crt:(0,ce.u)(t.value.secretData["ca.crt"])})))},fe=e=>{const t=ue(e);return(0,r.computed)((()=>({token:(0,ce.u)(t.value.secretData["tls.key"]),crt:(0,ce.u)(t.value.secretData["tls.crt"])})))},he=e=>{const t=(0,k.Pj)(),a=(0,v.s)(t),s=ue(e);return(0,r.computed)((()=>{switch(s.value.secretType){case ne.DOCKER_JSON:return{tabLabel:a.t("secret.data"),secretData:{registry:pe(e).value,basicAuth:me(e).value}};case ne.TLS:return{tabLabel:a.t("secret.certificate.certificate"),secretData:{certificate:fe(e).value}};case ne.SERVICE_ACCT:return{tabLabel:a.t("secret.data"),secretData:{serviceAccount:be(e).value}};case ne.SSH:return{tabLabel:a.t("secret.ssh.keys"),secretData:{ssh:ke(e).value}};case ne.BASIC:return{tabLabel:a.t("secret.data"),secretData:{basicAuth:ve(e).value}};default:return{tabLabel:a.t("secret.data"),secretData:{basic:ve(e).value}}}}))};var ye=a(50960),we=(0,r.defineComponent)({__name:"secret",async setup(e){let t,a;const{id:p,schema:m}=(0,i.Y)(u.bB),v=([t,a]=(0,r.withAsyncContext)((()=>(0,i.F)(u.bB,p))),t=await t,a(),t),k=(0,c.I)(v),b=(0,ye._F)(v),f=(0,l.qr)(v,b),h=le(v),y=he(v);return(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(s.A,null,{"top-area":(0,r.withCtx)((()=>[(0,r.createVNode)(o.A,(0,r.normalizeProps)((0,r.guardReactiveProps)((0,r.unref)(k))),null,16),(0,r.createVNode)(n.A,(0,r.mergeProps)({class:"mmt-6"},(0,r.unref)(f)),null,16)])),"bottom-area":(0,r.withCtx)((()=>[(0,r.createVNode)(d.A,{value:(0,r.unref)(v),schema:(0,r.unref)(m)},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(ee,(0,r.mergeProps)((0,r.unref)(y),{weight:1}),null,16),(0,r.unref)(h)?((0,r.openBlock)(),(0,r.createBlock)(oe,(0,r.mergeProps)({key:0},(0,r.unref)(h),{weight:0}),null,16)):(0,r.createCommentVNode)("",!0)])),_:1},8,["value","schema"])])),_:1}))}});const _e=we;var ge=_e},48699:function(e,t,a){"use strict";a.r(t);var r=a(36758),s=a.n(r),o=a(40935),c=a.n(o),n=c()(s());n.push([e.id,".resource-detail-page[data-v-813e316a]{padding:24px}.resource-detail-page[data-v-813e316a]  .tabs.horizontal{border:none}.resource-detail-page[data-v-813e316a]  .tabs.horizontal+.tab-container{border:none;border-top:1px solid var(--border);padding:0;padding-top:24px}",""]),t["default"]=n},49627:function(e,t,a){var r=a(48699);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var s=a(74825).A;s("e43bbd10",r,!0,{sourceMap:!1,shadowMode:!1})},83664:function(e,t,a){"use strict";a.d(t,{A:function(){return p}});var r=a(9274);const s={class:"resource-detail-page"},o={key:0,class:"top-area"},c={key:1,class:"middle-area mmt-6"},n={key:2,class:"bottom-area mmt-6"};function l(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",s,[e.$slots["top-area"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",o,[(0,r.renderSlot)(e.$slots,"top-area",{},void 0,!0)])):(0,r.createCommentVNode)("",!0),e.$slots["middle-area"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",c,[(0,r.renderSlot)(e.$slots,"middle-area",{},void 0,!0)])):(0,r.createCommentVNode)("",!0),e.$slots["bottom-area"]?((0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.renderSlot)(e.$slots,"bottom-area",{},void 0,!0)])):(0,r.createCommentVNode)("",!0)])}a(49627);var u=a(47433);const i={},d=(0,u.A)(i,[["render",l],["__scopeId","data-v-813e316a"]]);var p=d},85362:function(e,t,a){var r=a(87090);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var s=a(74825).A;s("430afe2a",r,!0,{sourceMap:!1,shadowMode:!1})},87090:function(e,t,a){"use strict";a.r(t);var r=a(36758),s=a.n(r),o=a(40935),c=a.n(o),n=c()(s());n.push([e.id,".secret-data-tab[data-v-70247290]  .entry:not(:first-of-type){margin-top:16px}",""]),t["default"]=n},87964:function(e,t,a){"use strict";a.d(t,{F:function(){return l},Y:function(){return n}});var r=a(95457),s=a(9274),o=a(37069),c=a(65359);const n=e=>{const t=(0,o.lq)(),a=(0,c.Pj)(),r=(0,s.toValue)(e),n=(0,s.computed)((()=>t.params.namespace?`${t.params.namespace}/${t.params.id}`:`${t.params.id}`)),l=(0,s.computed)((()=>a.getters["cluster/schemaFor"](r))),u=(0,s.computed)((()=>t.params.cluster));return{clusterId:u.value,id:n.value,schema:l.value}},l=async(e,t)=>{const a=(0,c.Pj)(),o=(0,r.s)(a),n=(0,s.toValue)(e),l=(0,s.toValue)(t);try{return await a.dispatch("cluster/find",{type:n,id:l})}catch(u){404!==u.status&&403!==u.status||a.dispatch("loadingError",new Error(o.t("nav.failWhale.resourceIdNotFound",{resource:e,fqid:t},!0)))}}}}]);
//# sourceMappingURL=epinio-1.12.0-rc4.umd.min.423.js.map