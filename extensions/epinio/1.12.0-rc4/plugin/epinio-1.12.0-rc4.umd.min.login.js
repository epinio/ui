"use strict";(("undefined"!==typeof self?self:this)["webpackChunkepinio_1_12_0_rc4"]=("undefined"!==typeof self?self:this)["webpackChunkepinio_1_12_0_rc4"]||[]).push([[966],{82025:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(9274),i=n(65359);const a={class:"text-center"},s=["disabled"];var c=(0,r.defineComponent)({__name:"epinio",props:{name:{}},setup(e){const t=(0,i.Pj)(),n=(0,r.ref)(!0);let c=(0,r.ref)({});const o=t.getters["i18n/t"],p=e;function d(){t.dispatch("auth/redirectTo",c.value)}return(0,r.onMounted)((async()=>{const e=await t.dispatch("auth/createNonce",{provider:"epinio"}),r=await t.dispatch("auth/encodeNonce",e),i=await t.dispatch("management/request",{url:`/dex/redirectUrl?state=${r}`}),a=new URL(i.redirectUrl),s=a.searchParams.get("code_verifier"),o=a.searchParams.get("scope");a.searchParams.delete("scope"),c.value={provider:p.name,redirectUrl:a.toString(),scopes:o.split(" "),scopesJoinChar:" ",nonce:e,persistNonce:{...e,pkceCodeVerifier:s}},n.value=!1})),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createElementVNode)("button",{ref:"btn",class:"btn bg-primary",style:{"font-size":"18px"},disabled:n.value,onClick:d},(0,r.toDisplayString)((0,r.unref)(o)("epinio.login.genericProvider")),9,s)]))}});const o=c;var p=o}}]);
//# sourceMappingURL=epinio-1.12.0-rc4.umd.min.login.js.map