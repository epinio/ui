{"version":3,"sources":["webpack://epinio-1.11.0-1/./dialog/LoginDialog.vue?b949","webpack://epinio-1.11.0-1/./dialog/ExportAppDialog.vue?de2d","webpack://epinio-1.11.0-1/./dialog/ExportAppDialog.vue?1c67","webpack://epinio-1.11.0-1/./dialog/LoginDialog.vue","webpack://epinio-1.11.0-1/dialog/LoginDialog.vue","webpack://epinio-1.11.0-1/./dialog/LoginDialog.vue?094c","webpack://epinio-1.11.0-1/./dialog/LoginDialog.vue?b77c","webpack://epinio-1.11.0-1/./dialog/LoginDialog.vue?723e","webpack://epinio-1.11.0-1/./dialog/ExportAppDialog.vue","webpack://epinio-1.11.0-1/dialog/ExportAppDialog.vue","webpack://epinio-1.11.0-1/./dialog/ExportAppDialog.vue?76a1","webpack://epinio-1.11.0-1/./dialog/ExportAppDialog.vue?31fd","webpack://epinio-1.11.0-1/./dialog/ExportAppDialog.vue?050f","webpack://epinio-1.11.0-1/./dialog/LoginDialog.vue?bc57"],"names":["content","__esModule","default","module","i","locals","exports","add","___CSS_LOADER_API_IMPORT___","push","render","_vm","this","_c","_self","_b","on","close","config","staticClass","attrs","slot","_v","_s","t","cluster","oidcEnabled","tabChanged","tab","local","ref","model","value","username","callback","$$v","trim","expression","password","dex","staticRenderFns","name","components","GenericPrompt","Tabbed","Tab","LabeledInput","Password","props","resources","type","Array","required","data","selectedTab","applyMode","applyAction","login","computed","mounted","methods","errors","length","Promise","reject","Error","join","epinioAuth","createAuthConfig","EpinioAuthTypes","LOCAL","$axios","DEX","loggedIn","$router","params","id","selectedName","$emit","component","resetErrors","showProgressBar","step","_e","progressBar","colorStops","partsWeight","APPLICATION_PARTS","VALUES","CHART","IMAGE","Banner","PercentageBar","title","exportApplicationManifest","zipParts","applicationParts","filter","part","MANIFEST","percentages","cancelTokenSources","document","addEventListener","escapeHandler","beforeDestroy","removeEventListener","get","Object","keys","reduce","acc","set","enableDownload","resource","chartZip","zip","JSZip","fileName","files","extension","file","contents","generateAsync","compression","downloadFile","meta","$route","hash","createManifest","partsData","fetchPart","resolve","values","some","toggleStep","delayBeforeClose","getCancelToken","$store","CancelToken","source","onDownloadProgress","progressEvent","total","srcElement","getResponseHeader","Vue","Math","round","loaded","cancelToken","token","catch","thrown","isCancel","_thrown$message","disableDownload","message","fetchCancel","forEach","cancel","e","key","$refs","genericPrompt","seconds","setTimeout","isPreparing"],"mappings":"kLAGA,IAAIA,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,kBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,QAE5C,IAAIE,EAAM,EAAQ,QAAkEL,QACvEK,EAAI,WAAYP,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,K,uBCR5E,IAAIQ,EAA8B,EAAQ,QAC1CF,EAAUE,GAA4B,GAEtCF,EAAQG,KAAK,CAACN,EAAOC,EAAI,8LAA+L,KAExND,EAAOG,QAAUA,G,kCCNjB,W,yCCAA,IAAII,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,gBAAgBF,EAAII,GAAG,CAACC,GAAG,CAAC,MAAQL,EAAIM,QAAQ,gBAAgBN,EAAIO,QAAO,GAAO,CAACL,EAAG,KAAK,CAACM,YAAY,wCAAwCC,MAAM,CAAC,KAAO,SAASC,KAAK,SAAS,CAACV,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIa,EAAE,6BAA6B,OAAOX,EAAG,WAAW,CAACQ,KAAK,QAAQ,CAAEV,EAAIc,QAAQC,YAAab,EAAG,SAAS,CAACG,GAAG,CAAC,QAAUL,EAAIgB,aAAa,CAACd,EAAG,MAAM,CAACM,YAAY,oBAAoBC,MAAM,CAAC,YAAY,oCAAoC,KAAOT,EAAIiB,IAAIC,MAAM,OAAS,IAAI,CAAChB,EAAG,OAAO,CAACA,EAAG,MAAM,CAACM,YAAY,oBAAoB,CAACN,EAAG,MAAM,CAACM,YAAY,SAAS,CAACN,EAAG,eAAe,CAACiB,IAAI,WAAWV,MAAM,CAAC,GAAK,WAAW,cAAc,uBAAuB,MAAQT,EAAIa,EAAE,kBAAkB,aAAe,kBAAkB,UAAW,GAAMO,MAAM,CAACC,MAAOrB,EAAIsB,SAAUC,SAAS,SAAUC,GAAMxB,EAAIsB,SAAyB,kBAARE,EAAkBA,EAAIC,OAAQD,GAAME,WAAW,eAAe,GAAGxB,EAAG,MAAM,GAAG,CAACA,EAAG,WAAW,CAACiB,IAAI,WAAWV,MAAM,CAAC,GAAK,WAAW,cAAc,uBAAuB,MAAQT,EAAIa,EAAE,kBAAkB,aAAe,kBAAkB,UAAW,GAAMO,MAAM,CAACC,MAAOrB,EAAI2B,SAAUJ,SAAS,SAAUC,GAAMxB,EAAI2B,SAASH,GAAKE,WAAW,eAAe,SAASxB,EAAG,MAAM,CAACM,YAAY,oBAAoBC,MAAM,CAAC,YAAY,kCAAkC,KAAOT,EAAIiB,IAAIW,IAAI,OAAS,IAAI,CAAC1B,EAAG,IAAI,CAACF,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIa,EAAE,kCAAkC,UAAU,GAAGX,EAAG,OAAO,CAACA,EAAG,MAAM,CAACM,YAAY,0BAA0B,CAACN,EAAG,MAAM,CAACM,YAAY,SAAS,CAACN,EAAG,eAAe,CAACiB,IAAI,WAAWV,MAAM,CAAC,GAAK,WAAW,cAAc,uBAAuB,MAAQT,EAAIa,EAAE,kBAAkB,aAAe,kBAAkB,UAAW,GAAMO,MAAM,CAACC,MAAOrB,EAAIsB,SAAUC,SAAS,SAAUC,GAAMxB,EAAIsB,SAAyB,kBAARE,EAAkBA,EAAIC,OAAQD,GAAME,WAAW,eAAe,GAAGxB,EAAG,MAAM,GAAG,CAACA,EAAG,WAAW,CAACiB,IAAI,WAAWV,MAAM,CAAC,GAAK,WAAW,cAAc,uBAAuB,MAAQT,EAAIa,EAAE,kBAAkB,aAAe,kBAAkB,UAAW,GAAMO,MAAM,CAACC,MAAOrB,EAAI2B,SAAUJ,SAAS,SAAUC,GAAMxB,EAAI2B,SAASH,GAAKE,WAAW,eAAe,QAAQ,IAAI,IAE5lEG,EAAkB,G,wECMP,GACfC,KAAA,cAEAC,WAAA,CACAC,qBAAAC,cAAAC,WAAAC,oBAAAC,iBAGAC,MAAA,CACAC,UAAA,CACAC,KAAAC,MACAC,UAAA,IAIAC,OACA,OACAC,YAAA,GACArB,SAAA,GACAK,SAAA,GACApB,OAAA,CACAqC,UAAA,QACAC,YAAA,KAAAC,OAEA7B,IAAA,CACAC,MAAA,QACAU,IAAA,SAKAmB,SAAA,CACAjC,UACA,YAAAwB,UAAA,KAIAU,UACA,KAAAlC,QAAAC,cACA,KAAA4B,YAAA,KAAA1B,IAAAC,QAIA+B,QAAA,CACA,cACA,MAAAC,EAAA,GAEA,YAAAP,aACA,UAAA1B,IAAAC,MAOA,GANA,KAAAI,UACA4B,EAAApD,KAAA,YAEA,KAAA6B,UACAuB,EAAApD,KAAA,YAEAoD,EAAAC,OACA,OAAAC,QAAAC,OAAA,IAAAC,MAAAJ,EAAAK,KAAA,yBAGAC,OAAAV,MAAA,KAAAhC,QAAA2C,iBAAAC,OAAAC,MAAA,CACArC,SAAA,KAAAA,SACAK,SAAA,KAAAA,SACAiC,OAAA,KAAAA,UAEA,MACA,UAAA3C,IAAAW,UACA4B,OAAAV,MAAA,KAAAhC,QAAA2C,iBAAAC,OAAAG,MAEA,MACA,QACA,UAAAP,MAAA,6BAAAX,aAGA,KAAA7B,QAAAgD,UAAA,EAEA,KAAAC,QAAAjE,KAAA,CACAgC,KAAA,6BACAkC,OAAA,CAAAlD,QAAA,KAAAA,QAAAmD,OAIAjD,YAAA,aAAAkD,IACA,KAAAvB,YAAAuB,GAGA5D,QACA,KAAA6D,MAAA,eC7FkY,I,wBCQ9XC,EAAY,eACd,EACArE,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAuC,E,8BClBf,IAAIvE,EAA8B,EAAQ,QAC1CF,EAAUE,GAA4B,GAEtCF,EAAQG,KAAK,CAACN,EAAOC,EAAI,8GAA+G,KAExID,EAAOG,QAAUA,G,yCCNjB,IAAII,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,gBAAgBF,EAAII,GAAG,CAACe,IAAI,gBAAgBd,GAAG,CAAC,MAAQL,EAAIM,QAAQ,gBAAgBN,EAAIO,QAAO,GAAO,CAACL,EAAG,KAAK,CAACM,YAAY,6CAA6CC,MAAM,CAAC,KAAO,SAASC,KAAK,SAAS,CAACV,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIa,EAAE,qCAAqC,OAAOX,EAAG,WAAW,CAACQ,KAAK,QAAQ,CAACR,EAAG,SAAS,CAACG,GAAG,CAAC,QAAUL,EAAIqE,cAAc,CAACnE,EAAG,MAAM,CAACM,YAAY,yBAAyBC,MAAM,CAAC,YAAY,4CAA4C,KAAO,WAAW,OAAS,IAAI,CAACP,EAAG,IAAI,CAACF,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIa,EAAE,oDAAoD,SAASX,EAAG,MAAM,CAACM,YAAY,yBAAyBC,MAAM,CAAC,YAAY,qDAAqD,KAAO,QAAQ,OAAS,IAAI,CAACP,EAAG,IAAI,CAACF,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIa,EAAE,6DAA6D,OAAOX,EAAG,SAAS,CAACO,MAAM,CAAC,MAAQ,SAAS,CAACT,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIa,EAAE,wDAAwD,OAAQb,EAAIsE,gBAAiBpE,EAAG,MAAM,CAACM,YAAY,uCAAuC,CAAER,EAAIuE,KAAMrE,EAAG,OAAO,CAACF,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIa,EAAG,sDAAsDb,EAAIuE,OAAU,OAAOvE,EAAIwE,KAAKtE,EAAG,gBAAgB,CAACM,YAAY,eAAeC,MAAM,CAAC,MAAQT,EAAIyE,YAAY,cAAczE,EAAI0E,WAAW,sBAAsB,WAAW,GAAG1E,EAAIwE,MAAM,IAAI,IAAI,IAAI,IAE53C3C,EAAkB,G,8HCStB,MAAA8C,EAAA,CACA,CAAAC,OAAAC,QAAA,GACA,CAAAD,OAAAE,OAAA,GACA,CAAAF,OAAAG,OAAA,IAGe,OACfjD,KAAA,kBACAC,WAAA,CACAC,qBAAAgD,cAAAC,qBAAAhD,cAAAC,YAGAG,MAAA,CACAC,UAAA,CACAC,KAAAC,MACAC,UAAA,IAIAC,OACA,OACAnC,OAAA,CACA2E,MAAA,KAAArE,EAAA,sBACA+B,UAAA,SACAC,YAAA,KAAAsC,2BAEAC,SAAA,KAAA9C,UAAA,GAAA+C,iBAAAC,OAAAC,OAAAX,OAAAY,UACAlB,iBAAA,EACAmB,YAAA,GACAlB,KAAA,KACAmB,mBAAA,GACAhB,WAAA,kCAIA1B,UACA2C,SAAAC,iBAAA,aAAAC,gBAGAC,gBACAH,SAAAI,oBAAA,aAAAF,gBAGA9C,SAAA,CACA0B,YAAA,CACAuB,MACA,OAAAC,OAAAC,KAAA,KAAAT,aAAAU,OAAA,CAAAC,EAAAb,IAAAa,EAAA,KAAAX,YAAAF,IAAAZ,EAAAY,IAAA,OAEAc,IAAAhF,GACA,KAAAoE,YAAA,CAAApE,YAKA4B,QAAA,CACA,kCACA,KAAAqD,iBACA,MAAAC,EAAA,KAAAjE,UAAA,GAEAkE,EAAA,UACA,MAAAC,EAAA,IAAAC,IAEA,UAAAC,KAAAC,EAAA,CACA,MAAAC,EAAA,CACA,CAAAjC,OAAAC,QAAA,OACA,CAAAD,OAAAE,OAAA,SACA,CAAAF,OAAAG,OAAA,OAGA0B,EAAAK,KAAA,GAAAH,KAAAE,EAAAF,KAAAC,EAAAD,IAGA,MAAAI,QAAAN,EAAAO,cAAA,CAAAzE,KAAA,OAAA0E,YAAA,gBAEAC,eAAAX,EAAAY,KAAArF,KAAA,kBAAAiF,EAAA,oBAGA,sBAAAK,OAAAC,WACAd,EAAAe,qBACA,CACA,MAAAC,QAAA,KAAAnC,SAAAe,OAAA,MAAAC,EAAAb,KAAA,UACAa,EACA,CAAAb,SAAA,KAAAiC,UAAAjB,EAAAhB,KACAnC,QAAAqE,QAAA,KAEA,GAAAxB,OAAAyB,OAAAH,GAAAI,KAAApC,OACA,OAGA,KAAAqC,WAAA,aAEApB,EAAAe,GAEA,KAAA9C,YAAA,UACA,KAAAoD,iBAAA,QAIAC,iBACA,YAAAC,OAAAnE,OAAAoE,aAGA,gBAAAzB,EAAAhB,GAIA,OAHA,KAAAqC,WAAArC,GAAA,GACA,KAAAG,mBAAAH,GAAA,KAAAuC,iBAAAG,eAEA1B,EAAAiB,UACAjC,EACA,CACA2C,mBAAAC,IACA,MAAAC,EAAAD,EAAAE,WAAAC,kBAAA,mBACAH,EAAAE,WAAAC,kBAAA,wBAEAF,GACAG,IAAAlC,IAAA,KAAAZ,YAAAF,EAAAiD,KAAAC,MAAA,IAAAN,EAAAO,OAAAN,IAGAD,EAAAO,OAAA,GACA,KAAAd,WAAArC,IAGAoD,YAAA,KAAAjD,mBAAAH,GAAAqD,QACAC,MAAAC,IACA,SAAAf,OAAAnE,OAAAmF,SAAAD,GAAA,KAAAE,EACA,KAAAC,kBAGA,MAAAC,EAAA,QAAAF,EAAAF,EAAAI,eAAA,IAAAF,IAAA,KAAAnI,EAAA,sDAAA0E,SAEA,UAAAjC,MAAA4F,OAKAC,cAEAlD,OAAAC,KAAA,KAAAR,oBAAA0D,QAAA7D,GAAA,KAAAG,mBAAAH,GAAA8D,OAAA9D,EAAA,gCAGAjF,QACA,mBAAA8G,OAAAC,MACA,KAAA8B,cAEA,KAAAhF,MAAA,UAGA0B,cAAAyD,GACA,WAAAA,EAAAC,KACA,KAAAjJ,SAIA+D,cACA,KAAAmF,MAAAC,gBACA,KAAAD,MAAAC,cAAAvG,OAAA,KAIAoD,iBACA,KAAAjC,cACA,KAAAC,iBAAA,GAGA2E,kBACA,KAAAE,cACA,KAAA7E,iBAAA,EACA,KAAAG,YAAA,EACA,KAAAmD,WAAA,OAGA,uBAAA8B,GACA,iBAAAtG,QAAAqE,GAAAkC,WAAAlC,EAAAiC,KAGA9B,WAAArC,EAAAqE,GAAA,GACA,KAAArF,KAAAgB,EAAA,GAAAqE,EAAA,0BAAArE,IAAA,QC1LsY,I,wBCQlYnB,EAAY,eACd,EACArE,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAuC,E,8BChBf,IAAI/E,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,kBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,QAE5C,IAAIE,EAAM,EAAQ,QAAkEL,QACvEK,EAAI,WAAYP,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,K,kCCT5E","file":"epinio-1.11.0-1.umd.min.dialog.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginDialog.vue?vue&type=style&index=0&id=618c76cc&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5066bbfe\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".export-app-dialog__title[data-v-2bf0de9f]{margin-bottom:0}.export-app-dialog__tab[data-v-2bf0de9f]{min-height:110px}.progress-info span[data-v-2bf0de9f]{display:block;margin-bottom:10px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportAppDialog.vue?vue&type=style&index=0&id=2bf0de9f&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('GenericPrompt',_vm._b({on:{\"close\":_vm.close}},'GenericPrompt',_vm.config,false),[_c('h4',{staticClass:\"text-default-text login-dialog__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.t('epinio.login.modal.title'))+\" \")]),_c('template',{slot:\"body\"},[(_vm.cluster.oidcEnabled)?_c('Tabbed',{on:{\"changed\":_vm.tabChanged}},[_c('Tab',{staticClass:\"login-dialog__tab\",attrs:{\"label-key\":\"epinio.login.modal.local.tabLabel\",\"name\":_vm.tab.local,\"weight\":3}},[_c('form',[_c('div',{staticClass:\"span-10 offset-1\"},[_c('div',{staticClass:\"mb-20\"},[_c('LabeledInput',{ref:\"username\",attrs:{\"id\":\"username\",\"data-testid\":\"local-login-username\",\"label\":_vm.t('login.username'),\"autocomplete\":\"epinio-username\",\"required\":true},model:{value:(_vm.username),callback:function ($$v) {_vm.username=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"username\"}})],1),_c('div',{},[_c('Password',{ref:\"password\",attrs:{\"id\":\"password\",\"data-testid\":\"local-login-password\",\"label\":_vm.t('login.password'),\"autocomplete\":\"epinio-password\",\"required\":true},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)])])]),_c('Tab',{staticClass:\"login-dialog__tab\",attrs:{\"label-key\":\"epinio.login.modal.dex.tabLabel\",\"name\":_vm.tab.dex,\"weight\":2}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.t('epinio.login.modal.dex.prompt'))+\" \")])])],1):_c('form',[_c('div',{staticClass:\"span-10 offset-1 mt-15\"},[_c('div',{staticClass:\"mb-20\"},[_c('LabeledInput',{ref:\"username\",attrs:{\"id\":\"username\",\"data-testid\":\"local-login-username\",\"label\":_vm.t('login.username'),\"autocomplete\":\"epinio-username\",\"required\":true},model:{value:(_vm.username),callback:function ($$v) {_vm.username=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"username\"}})],1),_c('div',{},[_c('Password',{ref:\"password\",attrs:{\"id\":\"password\",\"data-testid\":\"local-login-password\",\"label\":_vm.t('login.password'),\"autocomplete\":\"epinio-password\",\"required\":true},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)])])],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport GenericPrompt from '@shell/dialog/GenericPrompt';\nimport Tabbed from '@shell/components/Tabbed/index.vue';\nimport Tab from '@shell/components/Tabbed/Tab.vue';\nimport epinioAuth, { EpinioAuthTypes } from '../utils/auth';\nimport Password from '@shell/components/form/Password';\nimport { LabeledInput } from '@components/Form/LabeledInput';\n\nexport default {\n  name: 'LoginDialog',\n\n  components: {\n    GenericPrompt, Tabbed, Tab, LabeledInput, Password\n  },\n\n  props: {\n    resources: {\n      type:     Array,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      selectedTab: '',\n      username:    '',\n      password:    '',\n      config:      {\n        applyMode:   'login',\n        applyAction: this.login,\n      },\n      tab: {\n        local: 'local',\n        dex:   'dex'\n      }\n    };\n  },\n\n  computed: {\n    cluster() {\n      return this.resources[0];\n    }\n  },\n\n  mounted() {\n    if (!this.cluster.oidcEnabled) {\n      this.selectedTab = this.tab.local;\n    }\n  },\n\n  methods: {\n    async login() {\n      const errors = [];\n\n      switch (this.selectedTab) {\n      case this.tab.local:\n        if (!this.username) {\n          errors.push('Username');\n        }\n        if (!this.password) {\n          errors.push('Password');\n        }\n        if (errors.length) {\n          return Promise.reject(new Error(`${ errors.join('/') } Required`));\n        }\n\n        await epinioAuth.login(this.cluster.createAuthConfig(EpinioAuthTypes.LOCAL, {\n          username: this.username,\n          password: this.password,\n          $axios:   this.$axios,\n        }));\n        break;\n      case this.tab.dex:\n        await epinioAuth.login(this.cluster.createAuthConfig(EpinioAuthTypes.DEX));\n\n        break;\n      default:\n        throw new Error(`Unknown log in type: ${ this.selectedTab }`);\n      }\n\n      this.cluster.loggedIn = true;\n\n      this.$router.push({\n        name:   'epinio-c-cluster-dashboard',\n        params: { cluster: this.cluster.id }\n      });\n    },\n\n    tabChanged({ selectedName }) {\n      this.selectedTab = selectedName;\n    },\n\n    close() {\n      this.$emit('close', false);\n    }\n  }\n};\n</script>\n\n<template>\n  <GenericPrompt\n    v-bind=\"config\"\n    @close=\"close\"\n  >\n    <h4\n      slot=\"title\"\n      class=\"text-default-text login-dialog__title\"\n    >\n      {{ t('epinio.login.modal.title') }}\n    </h4>\n\n    <template slot=\"body\">\n      <Tabbed\n        v-if=\"cluster.oidcEnabled\"\n        @changed=\"tabChanged\"\n      >\n        <Tab\n          label-key=\"epinio.login.modal.local.tabLabel\"\n          :name=\"tab.local\"\n          :weight=\"3\"\n          class=\"login-dialog__tab\"\n        >\n          <form>\n            <div class=\"span-10 offset-1\">\n              <div class=\"mb-20\">\n                <LabeledInput\n                  id=\"username\"\n                  ref=\"username\"\n                  v-model.trim=\"username\"\n                  data-testid=\"local-login-username\"\n                  :label=\"t('login.username')\"\n                  autocomplete=\"epinio-username\"\n                  :required=\"true\"\n                />\n              </div>\n              <div class=\"\">\n                <Password\n                  id=\"password\"\n                  ref=\"password\"\n                  v-model=\"password\"\n                  data-testid=\"local-login-password\"\n                  :label=\"t('login.password')\"\n                  autocomplete=\"epinio-password\"\n                  :required=\"true\"\n                />\n              </div>\n            </div>\n          </form>\n        </Tab>\n        <Tab\n          label-key=\"epinio.login.modal.dex.tabLabel\"\n          :name=\"tab.dex\"\n          :weight=\"2\"\n          class=\"login-dialog__tab\"\n        >\n          <p>\n            {{ t('epinio.login.modal.dex.prompt') }}\n          </p>\n        </Tab>\n      </Tabbed>\n      <form v-else>\n        <div class=\"span-10 offset-1 mt-15\">\n          <div class=\"mb-20\">\n            <LabeledInput\n              id=\"username\"\n              ref=\"username\"\n              v-model.trim=\"username\"\n              data-testid=\"local-login-username\"\n              :label=\"t('login.username')\"\n              autocomplete=\"epinio-username\"\n              :required=\"true\"\n            />\n          </div>\n          <div class=\"\">\n            <Password\n              id=\"password\"\n              ref=\"password\"\n              v-model=\"password\"\n              data-testid=\"local-login-password\"\n              :label=\"t('login.password')\"\n              autocomplete=\"epinio-password\"\n              :required=\"true\"\n            />\n          </div>\n        </div>\n      </form>\n    </template>\n  </GenericPrompt>\n</template>\n<style lang='scss' scoped>\n.login-dialog {\n  &__title {\n    margin-bottom: 0;\n  }\n  &__tab {\n    min-height: 145px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginDialog.vue?vue&type=template&id=618c76cc&scoped=true&\"\nimport script from \"./LoginDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginDialog.vue?vue&type=style&index=0&id=618c76cc&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"618c76cc\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".login-dialog__title[data-v-618c76cc]{margin-bottom:0}.login-dialog__tab[data-v-618c76cc]{min-height:145px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('GenericPrompt',_vm._b({ref:\"genericPrompt\",on:{\"close\":_vm.close}},'GenericPrompt',_vm.config,false),[_c('h4',{staticClass:\"text-default-text export-app-dialog__title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.t('epinio.applications.export.label'))+\" \")]),_c('template',{slot:\"body\"},[_c('Tabbed',{on:{\"changed\":_vm.resetErrors}},[_c('Tab',{staticClass:\"export-app-dialog__tab\",attrs:{\"label-key\":\"epinio.applications.export.manifest.title\",\"name\":\"manifest\",\"weight\":3}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.t('epinio.applications.export.manifest.description'))+\" \")])]),_c('Tab',{staticClass:\"export-app-dialog__tab\",attrs:{\"label-key\":\"epinio.applications.export.chartValuesImages.title\",\"name\":\"chart\",\"weight\":2}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.t('epinio.applications.export.chartValuesImages.description'))+\" \")]),_c('Banner',{attrs:{\"color\":\"info\"}},[_vm._v(\" \"+_vm._s(_vm.t('epinio.applications.export.chartValuesImages.banner'))+\" \")]),(_vm.showProgressBar)?_c('div',{staticClass:\"progress-info text info mb-10 mt-20\"},[(_vm.step)?_c('span',[_vm._v(\" \"+_vm._s(_vm.t(`epinio.applications.export.chartValuesImages.steps.${ _vm.step }`))+\" \")]):_vm._e(),_c('PercentageBar',{staticClass:\"progress-bar\",attrs:{\"value\":_vm.progressBar,\"color-stops\":_vm.colorStops,\"preferred-direction\":\"MORE\"}})],1):_vm._e()],1)],1)],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Vue from 'vue';\nimport GenericPrompt from '@shell/dialog/GenericPrompt';\nimport Banner from '@components/Banner/Banner.vue';\nimport Tabbed from '@shell/components/Tabbed/index.vue';\nimport Tab from '@shell/components/Tabbed/Tab.vue';\nimport JSZip from 'jszip';\nimport { downloadFile } from '@shell/utils/download';\nimport PercentageBar from '@shell/components/PercentageBar';\nimport { APPLICATION_PARTS } from '../types';\n\nconst partsWeight = {\n  [APPLICATION_PARTS.VALUES]: 0.1,\n  [APPLICATION_PARTS.CHART]:  0.1,\n  [APPLICATION_PARTS.IMAGE]:  0.7\n};\n\nexport default {\n  name:       'ExportAppDialog',\n  components: {\n    GenericPrompt, Banner, PercentageBar, Tabbed, Tab\n  },\n\n  props: {\n    resources: {\n      type:     Array,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      config: {\n        title:       this.t('promptRemove.title'),\n        applyMode:   'export',\n        applyAction: this.exportApplicationManifest,\n      },\n      zipParts:           this.resources[0].applicationParts.filter((part) => part !== APPLICATION_PARTS.MANIFEST),\n      showProgressBar:    false,\n      percentages:        {},\n      step:               null,\n      cancelTokenSources: {},\n      colorStops:         { 0: '--primary', 100: '--primary' },\n    };\n  },\n\n  mounted() {\n    document.addEventListener('keyup', this.escapeHandler);\n  },\n\n  beforeDestroy() {\n    document.removeEventListener('keyup', this.escapeHandler);\n  },\n\n  computed: {\n    progressBar: {\n      get() {\n        return Object.keys(this.percentages).reduce((acc, part) => acc + (this.percentages[part] * (partsWeight[part] || 1)), 0);\n      },\n      set(value) {\n        this.percentages = { value };\n      }\n    }\n  },\n\n  methods: {\n    async exportApplicationManifest() {\n      this.enableDownload();\n      const resource = this.resources[0];\n\n      const chartZip = async(files) => {\n        const zip = new JSZip();\n\n        for (const fileName in files) {\n          const extension = {\n            [APPLICATION_PARTS.VALUES]: 'yaml',\n            [APPLICATION_PARTS.CHART]:  'tar.gz',\n            [APPLICATION_PARTS.IMAGE]:  'tar',\n          };\n\n          zip.file(`${ fileName }.${ extension[fileName] }`, files[fileName]);\n        }\n\n        const contents = await zip.generateAsync({ type: 'blob', compression: 'STORE' });\n\n        await downloadFile(`${ resource.meta.name }-helm-chart.zip`, contents, 'application/zip');\n      };\n\n      if (this.$route.hash === '#manifest') {\n        await resource.createManifest();\n      } else {\n        const partsData = await this.zipParts.reduce(async(acc, part) => ({\n          ...await acc,\n          [part]: await this.fetchPart(resource, part),\n        }), Promise.resolve({}));\n\n        if (Object.values(partsData).some((part) => !part)) {\n          return;\n        }\n\n        this.toggleStep('zip');\n\n        await chartZip(partsData);\n\n        this.progressBar = 100;\n        await this.delayBeforeClose(1500);\n      }\n    },\n\n    getCancelToken() {\n      return this.$store.$axios.CancelToken;\n    },\n\n    async fetchPart(resource, part) {\n      this.toggleStep(part, true);\n      this.cancelTokenSources[part] = this.getCancelToken().source();\n\n      return await resource.fetchPart(\n        part,\n        {\n          onDownloadProgress: (progressEvent) => {\n            const total = progressEvent.srcElement.getResponseHeader('content-length') ||\n              progressEvent.srcElement.getResponseHeader('proxy-content-length');\n\n            if (total) {\n              Vue.set(this.percentages, part, Math.round(progressEvent.loaded * 100 / total));\n            }\n\n            if (progressEvent.loaded > 0) {\n              this.toggleStep(part);\n            }\n          },\n          cancelToken: this.cancelTokenSources[part].token\n        }).catch((thrown) => {\n        if (!this.$store.$axios.isCancel(thrown)) {\n          this.disableDownload();\n\n          // Override only messages of server errors\n          const message = thrown.message ?? this.t('epinio.applications.export.chartValuesImages.error', { part });\n\n          throw new Error(message);\n        }\n      });\n    },\n\n    fetchCancel() {\n      // Cancel pending api requests, see https://axios-http.com/docs/cancellation\n      Object.keys(this.cancelTokenSources).forEach((part) => this.cancelTokenSources[part].cancel(`${ part } part: download cancelled.`));\n    },\n\n    close() {\n      if (this.$route.hash !== '#manifest') {\n        this.fetchCancel();\n      }\n      this.$emit('close');\n    },\n\n    escapeHandler(e) {\n      if (e.key === 'Escape') {\n        this.close();\n      }\n    },\n\n    resetErrors() {\n      if (this.$refs.genericPrompt) {\n        this.$refs.genericPrompt.errors = [];\n      }\n    },\n\n    enableDownload() {\n      this.resetErrors();\n      this.showProgressBar = true;\n    },\n\n    disableDownload() {\n      this.fetchCancel();\n      this.showProgressBar = false;\n      this.progressBar = 0;\n      this.toggleStep(null);\n    },\n\n    async delayBeforeClose(seconds) {\n      return await new Promise((resolve) => setTimeout(resolve, seconds));\n    },\n\n    toggleStep(part, isPreparing = false) {\n      this.step = part ? `${ isPreparing ? 'preparing' : 'download' }.${ part }` : null;\n    }\n  }\n};\n</script>\n\n<template>\n  <GenericPrompt\n    ref=\"genericPrompt\"\n    v-bind=\"config\"\n    @close=\"close\"\n  >\n    <h4\n      slot=\"title\"\n      class=\"text-default-text export-app-dialog__title\"\n    >\n      {{ t('epinio.applications.export.label') }}\n    </h4>\n\n    <template slot=\"body\">\n      <Tabbed @changed=\"resetErrors\">\n        <Tab\n          label-key=\"epinio.applications.export.manifest.title\"\n          name=\"manifest\"\n          :weight=\"3\"\n          class=\"export-app-dialog__tab\"\n        >\n          <p>\n            {{ t('epinio.applications.export.manifest.description') }}\n          </p>\n        </Tab>\n\n        <Tab\n          label-key=\"epinio.applications.export.chartValuesImages.title\"\n          name=\"chart\"\n          :weight=\"2\"\n          class=\"export-app-dialog__tab\"\n        >\n          <p>\n            {{ t('epinio.applications.export.chartValuesImages.description') }}\n          </p>\n          <Banner\n            color=\"info\"\n          >\n            {{ t('epinio.applications.export.chartValuesImages.banner') }}\n          </Banner>\n\n          <div\n            v-if=\"showProgressBar\"\n            class=\"progress-info text info mb-10 mt-20\"\n          >\n            <span v-if=\"step\">\n              {{ t(`epinio.applications.export.chartValuesImages.steps.${ step }`) }}\n            </span>\n            <PercentageBar\n              class=\"progress-bar\"\n              :value=\"progressBar\"\n              :color-stops=\"colorStops\"\n              preferred-direction=\"MORE\"\n            />\n          </div>\n        </Tab>\n      </Tabbed>\n    </template>\n  </GenericPrompt>\n</template>\n<style lang='scss' scoped>\n.export-app-dialog {\n  &__title {\n    margin-bottom: 0;\n  }\n  &__tab {\n    min-height: 110px;\n  }\n}\n\n.progress-info {\n  span {\n    display: block;\n    margin-bottom: 10px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportAppDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportAppDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportAppDialog.vue?vue&type=template&id=2bf0de9f&scoped=true&\"\nimport script from \"./ExportAppDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportAppDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExportAppDialog.vue?vue&type=style&index=0&id=2bf0de9f&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bf0de9f\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportAppDialog.vue?vue&type=style&index=0&id=2bf0de9f&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3a2f453e\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginDialog.vue?vue&type=style&index=0&id=618c76cc&prod&lang=scss&scoped=true&\""],"sourceRoot":""}