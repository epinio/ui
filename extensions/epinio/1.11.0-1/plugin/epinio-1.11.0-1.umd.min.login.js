(("undefined"!==typeof self?self:this)["webpackJsonpepinio_1_11_0_1"]=("undefined"!==typeof self?self:this)["webpackJsonpepinio_1_11_0_1"]||[]).push([[5],{"2f15":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center"},[t("button",{ref:"btn",staticClass:"btn bg-primary",staticStyle:{"font-size":"18px"},attrs:{disabled:e.$fetchState.pending},on:{click:e.login}},[e._v(" "+e._s(e.t("login.genericProvider"))+" ")])])},r=[],n={props:{focusOnMount:{type:Boolean,required:!0},name:{type:String,required:!0}},computed:{displayName(){return this.t("model.authConfig.provider."+this.name)}},mounted(){this.focusOnMount&&this.focus()},methods:{focus(){this.$refs.btn.focus()}}},o={mixins:[n],async fetch(){const e=await this.$store.dispatch("auth/createNonce",{provider:"epinio"}),t=await this.$store.dispatch("auth/encodeNonce",e),s=await this.$store.dispatch("management/request",{url:"/dex/redirectUrl?state="+t}),i=new URL(s.redirectUrl),r=i.searchParams.get("code_verifier"),n=i.searchParams.get("scope");i.searchParams.delete("scope"),this.redirectOpts={provider:this.name,redirectUrl:i.toString(),scopes:n.split(" "),scopesJoinChar:" ",nonce:e,persistNonce:{...e,pkceCodeVerifier:r}}},data(){return{redirectOpts:{}}},methods:{login(){this.$store.dispatch("auth/redirectTo",this.redirectOpts)}}},a=o,c=s("d802"),d=Object(c["a"])(a,i,r,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=epinio-1.11.0-1.umd.min.login.js.map