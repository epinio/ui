{"version":3,"sources":["webpack://epinio-1.9.0-0/./edit/applications.vue","webpack://epinio-1.9.0-0/./edit/applications.vue?1fd2","webpack://epinio-1.9.0-0/./edit/applications.vue?1ed4","webpack://epinio-1.9.0-0/./edit/applications.vue?c532","webpack://epinio-1.9.0-0/./edit/applications.vue?7ece","webpack://epinio-1.9.0-0/./edit/applications.vue?455b","webpack://epinio-1.9.0-0/./edit/applications.vue?05db","webpack://epinio-1.9.0-0/./edit/applications.vue?8542","webpack://epinio-1.9.0-0/./edit/applications.vue?95e8","webpack://epinio-1.9.0-0/./edit/configurations.vue","webpack://epinio-1.9.0-0/./edit/configurations.vue?5ab0","webpack://epinio-1.9.0-0/./edit/configurations.vue?e128","webpack://epinio-1.9.0-0/./edit/configurations.vue?7d1d","webpack://epinio-1.9.0-0/./edit/applications.vue?cff4"],"names":["render","_vm","this","_c","_self","_setupProxy","value","$fetchState","pending","class","shouldShowButtons","attrs","mode","errors","on","e","save","model","callback","$$v","expression","showSourceTab","staticClass","steps","t","cancel","finish","scopedSlots","_u","key","fn","source","epinioInfo","updateSource","updateInfo","updateManifestConfigurations","$event","ready","_e","proxy","step","bindings","initialValue","updateConfigurations","staticRenderFns","Vue","extend","components","AppSource","AppProgress","Loading","CruResource","ResourceTabs","Tab","AppInfo","Wizard","AppConfiguration","data","_this$$route$query","appSource","_this$$route","_this$$route$query2","git","$route","query","commit","configurations","services","name","label","subtext","nextButton","labelKey","style","previousButton","disable","undefined","mixins","CreateEditView","props","type","Object","required","String","hash","allHash","ns","$store","dispatch","EPINIO_TYPES","NAMESPACE","charts","APP_CHARTS","info","computed","_EDIT","methods","saveCb","_this$bindings","_this$bindings2","update","baseConfigurationsNames","updateServices","forceFetch","_isBeingDestroyed","_isDestroyed","done","err","epinioExceptionToErrorsArray","set","obj","changes","entries","forEach","meta","configuration","$router","replace","listLocation","createEpinioRoute","cluster","getters","resource","id","namespace","appChart","cleanChanges","appchart","component","___CSS_LOADER_API_IMPORT___","exports","push","module","i","content","__esModule","default","locals","add","doneRoute","validationPassed","isServiceRelated","_v","_s","namespaceNames","noApps","nsAppOptions","selectedApps","setData","NameNsDescription","KeyValue","Banner","LabeledSelect","EpinioBindAppsMixin","_this$namespaces$","_this$initialValue$co","mixinFetch","namespaces","metadata","boundapps","_this$initialValue$co2","details","mounted","updateValidation","mapGetters","sortBy","map","n","isCreate","create","updateConfigurationAppBindings","opt","force","isEdit","_this$value","_this$value2","nameErrors","validateKubernetesName","nsErrors","length","_this$value3","dataValues","watch","deep","handler","neu"],"mappings":"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","file":"epinio-1.9.0-0.umd.min.edit.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (!_vm.value || _vm.$fetchState.pending)?_c('Loading'):_c('CruResource',{class:_vm.shouldShowButtons,attrs:{\"can-yaml\":false,\"mode\":_vm.mode,\"resource\":_vm.value,\"errors\":_vm.errors},on:{\"error\":e=>_vm.errors = e,\"finish\":_vm.save}},[_c('ResourceTabs',{attrs:{\"mode\":\"mode\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[(_vm.showSourceTab)?_c('Tab',{attrs:{\"label-key\":\"epinio.applications.steps.source.label\",\"name\":\"source\",\"weight\":30}},[_c('div',{staticClass:\"wizard-container\"},[_c('Wizard',{staticClass:\"wizard\",attrs:{\"steps\":_vm.steps,\"banner-title\":_vm.t('epinio.applications.steps.source.label'),\"banner-title-subtext\":_vm.t('epinio.applications.steps.source.subtext'),\"header-mode\":\"edit\",\"finish-mode\":\"done\",\"edit-first-step\":true},on:{\"cancel\":_vm.cancel,\"finish\":_vm.finish},scopedSlots:_vm._u([{key:\"source\",fn:function(){return [(_vm.source)?_c('AppSource',{attrs:{\"application\":_vm.value,\"source\":_vm.source,\"mode\":_vm.mode,\"info\":_vm.epinioInfo},on:{\"change\":_vm.updateSource,\"changeAppInfo\":_vm.updateInfo,\"changeAppConfig\":_vm.updateManifestConfigurations,\"valid\":function($event){_vm.steps[0].ready = $event}}}):_vm._e()]},proxy:true},{key:\"progress\",fn:function({step}){return [_c('AppProgress',{attrs:{\"application\":_vm.value,\"source\":_vm.source,\"bindings\":_vm.bindings,\"mode\":_vm.mode,\"step\":step}})]}}],null,false,1359924540)})],1)]):_vm._e(),_c('Tab',{attrs:{\"label-key\":\"epinio.applications.steps.basics.label\",\"name\":\"info\",\"weight\":20}},[_c('AppInfo',{attrs:{\"application\":_vm.value,\"mode\":_vm.mode},on:{\"change\":_vm.updateInfo}})],1),_c('Tab',{attrs:{\"label-key\":\"epinio.applications.steps.configurations.label\",\"name\":\"configurations\",\"weight\":10}},[_c('AppConfiguration',{attrs:{\"application\":_vm.value,\"initial-application\":_vm.initialValue,\"mode\":_vm.mode},on:{\"change\":_vm.updateConfigurations}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue, { PropType } from 'vue';\nimport Application from '../models/applications';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport CruResource from '@shell/components/CruResource.vue';\nimport ResourceTabs from '@shell/components/form/ResourceTabs/index.vue';\nimport Tab from '@shell/components/Tabbed/Tab.vue';\nimport Loading from '@shell/components/Loading.vue';\nimport AppInfo, { EpinioAppInfo } from '../components/application/AppInfo.vue';\nimport AppConfiguration, { EpinioAppBindings } from '../components/application/AppConfiguration.vue';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport Wizard from '@shell/components/Wizard.vue';\nimport { createEpinioRoute } from '../utils/custom-routing';\nimport AppSource from '../components/application/AppSource.vue';\nimport { _EDIT } from '@shell/config/query-params';\n\nimport AppProgress from '../components/application/AppProgress.vue';\nimport { EpinioAppSource, EpinioCompRecord, EPINIO_TYPES } from '../types';\nimport { allHash } from '@shell/utils/promise';\n\ninterface Data {\n  bindings: EpinioAppBindings,\n  source?: EpinioAppSource,\n  errors: string[],\n}\n\n// Data, Methods, Computed, Props\nexport default Vue.extend<Data, EpinioCompRecord, EpinioCompRecord, EpinioCompRecord>({\n  components: {\n    AppSource,\n    AppProgress,\n    Loading,\n    CruResource,\n    ResourceTabs,\n    Tab,\n    AppInfo,\n    Wizard,\n    AppConfiguration\n  },\n\n  data() {\n    const source = this.value.appSource;\n\n    /**\n     * Edit git application from specific commit\n     */\n    if (source.git && this.$route.query?.commit) {\n      source.git.commit = this.$route?.query?.commit;\n    }\n\n    return {\n      bindings: {\n        configurations: [],\n        services:       []\n      },\n      errors: [],\n      source,\n      steps:  [\n        {\n          name:       'source',\n          label:      this.t('epinio.applications.steps.source.label'),\n          subtext:    this.t('epinio.applications.steps.source.subtext'),\n          ready:      false,\n          nextButton: {\n            labelKey: 'epinio.applications.steps.configurations.update',\n            style:    'btn role-primary bg-warning'\n          }\n        }, {\n          name:           'progress',\n          label:          this.t('epinio.applications.steps.progress.label'),\n          subtext:        this.t('epinio.applications.steps.progress.subtext'),\n          ready:          false,\n          previousButton: { disable: true }\n        },\n      ],\n      epinioInfo: undefined\n    };\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    value: {\n      type:     Object as PropType<Application>,\n      required: true\n    },\n    initialValue: {\n      type:     Object as PropType<Application>,\n      required: true\n    },\n    mode: {\n      type:     String,\n      required: true\n    },\n  },\n\n  async fetch() {\n    const hash: { [key:string]: any } = await allHash({\n      ns:     this.$store.dispatch('epinio/findAll', { type: EPINIO_TYPES.NAMESPACE }),\n      charts: this.$store.dispatch('epinio/findAll', { type: EPINIO_TYPES.APP_CHARTS }),\n      info:   this.$store.dispatch('epinio/info'),\n    });\n\n    this.epinioInfo = hash.info;\n  },\n\n  computed: {\n    shouldShowButtons() {\n      return this.$route.hash === '#source' ? 'hide-buttons-deploy' : '';\n    },\n    showSourceTab() {\n      return this.mode === _EDIT;\n    },\n  },\n\n  methods: {\n    async save(saveCb: (success: boolean) => void) {\n      this.errors = [];\n      try {\n        await this.value.update();\n\n        await this.value.updateConfigurations(\n          this.initialValue.baseConfigurationsNames || [],\n          this.bindings?.configurations || [],\n        );\n\n        await this.value.updateServices(\n          this.initialValue.services || [],\n          this.bindings?.services || [],\n        );\n\n        await this.value.forceFetch();\n        if (!this._isBeingDestroyed || !this._isDestroyed) {\n          saveCb(true);\n          this.done();\n        }\n      } catch (err) {\n        this.errors = epinioExceptionToErrorsArray(err);\n        saveCb(false);\n      }\n    },\n\n    set(obj: { [key: string]: string}, changes: { [key: string]: string}) {\n      Object.entries(changes).forEach(([key, value]: [string, any]) => {\n        Vue.set(obj, key, value);\n      });\n    },\n\n    updateInfo(changes: EpinioAppInfo) {\n      this.value.meta = this.value.meta || {};\n      this.value.configuration = this.value.configuration || {};\n      this.set(this.value.meta, changes.meta);\n      this.set(this.value.configuration, changes.configuration);\n    },\n\n    updateConfigurations(changes: EpinioAppBindings) {\n      Vue.set(this, 'bindings', changes);\n      this.set(this.value.configuration, [\n        ...changes.configurations,\n        // .map(s => s.meta.name)\n        // ...changes.services\n      ]);\n    },\n\n    cancel() {\n      this.$router.replace(this.value.listLocation);\n    },\n\n    finish() {\n      this.$router.replace(createEpinioRoute(`c-cluster-resource-id`, {\n        cluster:  this.$store.getters['clusterId'],\n        resource: this.value.type,\n        id:       `${ this.value.meta.namespace }/${ this.value.meta.name }`\n      }));\n    },\n\n    updateSource(changes: EpinioAppSource) {\n      this.source = {} as EpinioAppSource;\n      const { appChart, ...cleanChanges } = changes;\n\n      this.value.configuration = this.value.configuration || {};\n\n      if (appChart) {\n        // app chart actually belongs in config, so stick it in there\n        this.set(this.value.configuration, { appchart: appChart });\n      }\n\n      this.set(this.source, cleanChanges);\n    },\n\n    updateManifestConfigurations(changes: string[]) {\n      this.set(this.value.configuration, { configurations: changes });\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./applications.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./applications.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./applications.vue?vue&type=template&id=09c4406a&scoped=true&\"\nimport script from \"./applications.vue?vue&type=script&lang=ts&\"\nexport * from \"./applications.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./applications.vue?vue&type=style&index=0&id=09c4406a&prod&lang=scss&scoped=true&\"\nimport style1 from \"./applications.vue?vue&type=style&index=1&id=09c4406a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09c4406a\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".hide-buttons-deploy .cru__footer{display:none!important}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".wizard-container[data-v-09c4406a]{position:relative;margin-bottom:-20px;margin-right:-20px}.wizard-container .wizard[data-v-09c4406a]{position:relative;overflow:auto}.wizard-container .wizard .appSource[data-v-09c4406a],.wizard-container .wizard .progress-container[data-v-09c4406a]{padding-bottom:75px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./applications.vue?vue&type=style&index=0&id=09c4406a&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"02c9ddcc\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./applications.vue?vue&type=style&index=1&id=09c4406a&prod&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"52096bd6\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./applications.vue?vue&type=style&index=1&id=09c4406a&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (!_vm.value || _vm.$fetchState.pending)?_c('Loading'):(_vm.value)?_c('CruResource',{attrs:{\"min-height\":'7em',\"mode\":_vm.mode,\"done-route\":_vm.doneRoute,\"resource\":_vm.value,\"can-yaml\":false,\"errors\":_vm.errors,\"validation-passed\":_vm.validationPassed,\"namespace-key\":\"meta.namespace\"},on:{\"error\":(e) => (_vm.errors = e),\"finish\":_vm.save,\"cancel\":_vm.done}},[(_vm.value.isServiceRelated)?_c('Banner',{attrs:{\"color\":\"info\"}},[_vm._v(\" \"+_vm._s(_vm.t('epinio.configurations.tableHeaders.service.tooltip'))+\" \")]):_vm._e(),_c('NameNsDescription',{attrs:{\"name-key\":\"name\",\"namespace-key\":\"namespace\",\"namespaces-override\":_vm.namespaceNames,\"create-namespace-override\":true,\"description-hidden\":true,\"value\":_vm.value.meta,\"mode\":_vm.mode}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"loading\":_vm.$fetchState.pending,\"disabled\":_vm.noApps,\"options\":_vm.nsAppOptions,\"searchable\":true,\"mode\":_vm.mode,\"multiple\":true,\"label-key\":'epinio.configurations.bindApps.label',\"placeholder\":_vm.noApps ? _vm.t('epinio.configurations.bindApps.placeholderNoOptions') : _vm.t('epinio.configurations.bindApps.placeholderWithOptions')},model:{value:(_vm.selectedApps),callback:function ($$v) {_vm.selectedApps=$$v},expression:\"selectedApps\"}})],1)]),_c('div',{staticClass:\"spacer\"}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-11\"},[_c('KeyValue',{attrs:{\"value\":_vm.value.data,\"initial-empty-row\":true,\"mode\":_vm.mode,\"title\":_vm.t('epinio.configurations.pairs.label'),\"title-protip\":_vm.t('epinio.configurations.pairs.tooltip'),\"key-label\":_vm.t('epinio.applications.create.envvar.keyLabel'),\"value-label\":_vm.t('epinio.applications.create.envvar.valueLabel'),\"valueMarkdownMultiline\":true,\"parse-lines-from-file\":true,\"parse-value-from-file\":true},on:{\"input\":function($event){return _vm.setData($event)}}})],1)])],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue, { PropType } from 'vue';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport Loading from '@shell/components/Loading.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription.vue';\nimport { mapGetters } from 'vuex';\nimport EpinioConfiguration from '../models/configurations';\nimport { EPINIO_TYPES, EpinioNamespace, EpinioCompRecord } from '../types';\nimport KeyValue from '@shell/components/form/KeyValue.vue';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport { validateKubernetesName } from '@shell/utils/validators/kubernetes-name';\nimport { sortBy } from '@shell/utils/sort';\nimport LabeledSelect from '@shell/components/form/LabeledSelect.vue';\nimport Banner from '@components/Banner/Banner.vue';\nimport EpinioBindAppsMixin from './bind-apps-mixin.js';\n\ninterface Data {\n}\n\nexport default Vue.extend<Data, EpinioCompRecord, EpinioCompRecord, EpinioCompRecord>({\n  components: {\n    Loading,\n    CruResource,\n    NameNsDescription,\n    KeyValue,\n    Banner,\n    LabeledSelect\n  },\n\n  mixins: [CreateEditView, EpinioBindAppsMixin],\n\n  props: {\n    mode: {\n      type:     String,\n      required: true\n    },\n    value: {\n      type:     Object as PropType<EpinioConfiguration>,\n      required: true\n    },\n    initialValue: {\n      type:     Object as PropType<EpinioConfiguration>,\n      required: true\n    }\n  },\n\n  async fetch() {\n    await this.mixinFetch();\n\n    Vue.set(this.value.meta, 'namespace', this.initialValue.meta.namespace || this.namespaces[0]?.metadata.name);\n    this.selectedApps = [...this.initialValue.configuration?.boundapps || []];\n  },\n\n  data() {\n    Vue.set(this.value, 'data', { ...this.initialValue.configuration?.details });\n\n    return {\n      errors:           [],\n      selectedApps:     [],\n      validationPassed: false\n    };\n  },\n\n  mounted() {\n    this.updateValidation();\n  },\n\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n\n    namespaces() {\n      return sortBy(this.$store.getters['epinio/all'](EPINIO_TYPES.NAMESPACE), 'name', false);\n    },\n\n    namespaceNames() {\n      return this.namespaces.map((n: EpinioNamespace) => n.metadata.name);\n    },\n\n  },\n\n  methods: {\n    async save(saveCb: (success: boolean) => void) {\n      this.errors = [];\n      try {\n        if (this.isCreate) {\n          await this.value.create();\n          await this.updateConfigurationAppBindings();\n          await this.$store.dispatch('epinio/findAll', { type: this.value.type, opt: { force: true } });\n        }\n\n        if (this.isEdit) {\n          await this.value.update();\n          await this.updateConfigurationAppBindings();\n          await this.value.forceFetch();\n        }\n\n        if (!this._isBeingDestroyed || !this._isDestroyed) {\n          saveCb(true);\n          this.done();\n        }\n      } catch (err) {\n        this.errors = epinioExceptionToErrorsArray(err);\n        saveCb(false);\n      }\n    },\n\n    setData(data: any[]) {\n      Vue.set(this.value, 'data', data);\n    },\n\n    updateValidation() {\n      const nameErrors = validateKubernetesName(this.value?.meta.name || '', this.t('epinio.namespace.name'), this.$store.getters, undefined, []);\n      const nsErrors = validateKubernetesName(this.value?.meta.namespace || '', '', this.$store.getters, undefined, []);\n\n      if (nameErrors.length === 0 && nsErrors.length === 0) {\n        const dataValues = Object.entries(this.value?.data || {});\n\n        if (!!dataValues.length) {\n          Vue.set(this, 'validationPassed', true);\n\n          return;\n        }\n      }\n\n      Vue.set(this, 'validationPassed', false);\n    }\n\n  },\n\n  watch: {\n    'value.meta.namespace'() {\n      Vue.set(this, 'selectedApps', []);\n      this.updateValidation(); // For when a user is supplying their own ns\n    },\n\n    'value.meta.name'() {\n      this.updateValidation();\n    },\n\n    'value.data': {\n      deep: true,\n\n      handler(neu) {\n        this.updateValidation();\n      }\n    }\n  }\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./configurations.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./configurations.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./configurations.vue?vue&type=template&id=ece12daa&\"\nimport script from \"./configurations.vue?vue&type=script&lang=ts&\"\nexport * from \"./configurations.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./applications.vue?vue&type=style&index=0&id=09c4406a&prod&lang=scss&scoped=true&\""],"sourceRoot":""}