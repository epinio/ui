{"version":3,"sources":["webpack://epinio-1.11.0-3/./edit/applications.vue","webpack://epinio-1.11.0-3/./edit/applications.vue?1fd2","webpack://epinio-1.11.0-3/./edit/applications.vue?1ed4","webpack://epinio-1.11.0-3/./edit/applications.vue?c532","webpack://epinio-1.11.0-3/./edit/applications.vue?862e","webpack://epinio-1.11.0-3/./edit/applications.vue?0945","webpack://epinio-1.11.0-3/./edit/configurations.vue","webpack://epinio-1.11.0-3/./edit/configurations.vue?5ab0","webpack://epinio-1.11.0-3/./edit/configurations.vue?e128","webpack://epinio-1.11.0-3/./edit/configurations.vue?7d1d","webpack://epinio-1.11.0-3/./edit/applications.vue?615a","webpack://epinio-1.11.0-3/./edit/applications.vue?6614","webpack://epinio-1.11.0-3/./edit/applications.vue?5474","webpack://epinio-1.11.0-3/./edit/applications.vue?6a66"],"names":["render","_vm","this","_c","_self","_setupProxy","value","$fetchState","pending","class","shouldShowButtons","attrs","mode","errors","validationPassed","on","e","save","model","callback","$$v","expression","showSourceTab","staticClass","steps","t","cancel","finish","scopedSlots","_u","key","fn","source","epinioInfo","updateSource","updateInfo","updateManifestConfigurations","$event","ready","_e","proxy","step","bindings","tabErrors","appInfo","validate","initialValue","updateConfigurations","staticRenderFns","Vue","extend","components","AppSource","AppProgress","Loading","CruResource","ResourceTabs","Tab","AppInfo","Wizard","AppConfiguration","data","_this$$route$query","appSource","_this$$route","_this$$route$query2","git","$route","query","commit","configurations","services","name","label","subtext","nextButton","labelKey","style","previousButton","disable","undefined","mixins","CreateEditView","props","type","Object","required","String","hash","allHash","ns","$store","dispatch","EPINIO_TYPES","NAMESPACE","charts","APP_CHARTS","info","computed","_EDIT","values","find","error","methods","saveCb","_this$bindings","_this$bindings2","update","baseConfigurationsNames","updateServices","forceFetch","_isBeingDestroyed","_isDestroyed","done","err","epinioExceptionToErrorsArray","set","obj","changes","entries","forEach","meta","configuration","$router","replace","listLocation","createEpinioRoute","cluster","getters","resource","id","namespace","appChart","cleanChanges","appchart","tab","component","doneRoute","isServiceRelated","_v","_s","namespaceNames","noApps","nsAppOptions","selectedApps","setData","NameNsDescription","KeyValue","Banner","LabeledSelect","EpinioBindAppsMixin","_this$namespaces$","_this$initialValue$co","mixinFetch","namespaces","metadata","boundapps","_this$initialValue$co2","details","mounted","updateValidation","mapGetters","sortBy","map","n","isCreate","create","updateConfigurationAppBindings","opt","force","isEdit","_this$value","_this$value2","nameErrors","validateKubernetesName","nsErrors","length","_this$value3","dataValues","watch","deep","handler","neu","content","__esModule","default","module","i","locals","exports","add","___CSS_LOADER_API_IMPORT___","push"],"mappings":"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","file":"epinio-1.11.0-3.umd.min.edit.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (!_vm.value || _vm.$fetchState.pending)?_c('Loading'):_c('CruResource',{class:_vm.shouldShowButtons,attrs:{\"can-yaml\":false,\"mode\":_vm.mode,\"resource\":_vm.value,\"errors\":_vm.errors,\"validation-passed\":_vm.validationPassed},on:{\"error\":e=>_vm.errors = e,\"finish\":_vm.save}},[_c('ResourceTabs',{attrs:{\"mode\":\"mode\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[(_vm.showSourceTab)?_c('Tab',{attrs:{\"label-key\":\"epinio.applications.steps.source.label\",\"name\":\"source\",\"weight\":30}},[_c('div',{staticClass:\"wizard-container\"},[_c('Wizard',{staticClass:\"wizard\",attrs:{\"steps\":_vm.steps,\"banner-title\":_vm.t('epinio.applications.steps.source.label'),\"banner-title-subtext\":_vm.t('epinio.applications.steps.source.subtext'),\"header-mode\":\"edit\",\"finish-mode\":\"done\",\"edit-first-step\":true},on:{\"cancel\":_vm.cancel,\"finish\":_vm.finish},scopedSlots:_vm._u([{key:\"source\",fn:function(){return [(_vm.source)?_c('AppSource',{attrs:{\"application\":_vm.value,\"source\":_vm.source,\"mode\":_vm.mode,\"info\":_vm.epinioInfo},on:{\"change\":_vm.updateSource,\"changeAppInfo\":_vm.updateInfo,\"changeAppConfig\":_vm.updateManifestConfigurations,\"valid\":function($event){_vm.steps[0].ready = $event}}}):_vm._e()]},proxy:true},{key:\"progress\",fn:function({step}){return [_c('AppProgress',{attrs:{\"application\":_vm.value,\"source\":_vm.source,\"bindings\":_vm.bindings,\"mode\":_vm.mode,\"step\":step}})]}}],null,false,1359924540)})],1)]):_vm._e(),_c('Tab',{attrs:{\"label-key\":\"epinio.applications.steps.basics.label\",\"name\":\"info\",\"weight\":20,\"error\":_vm.tabErrors.appInfo}},[_c('AppInfo',{attrs:{\"application\":_vm.value,\"mode\":_vm.mode},on:{\"change\":_vm.updateInfo,\"valid\":function($event){return _vm.validate($event, 'appInfo')}}})],1),_c('Tab',{attrs:{\"label-key\":\"epinio.applications.steps.configurations.label\",\"name\":\"configurations\",\"weight\":10}},[_c('AppConfiguration',{attrs:{\"application\":_vm.value,\"initial-application\":_vm.initialValue,\"mode\":_vm.mode},on:{\"change\":_vm.updateConfigurations}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue, { PropType } from 'vue';\nimport Application from '../models/applications';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport CruResource from '@shell/components/CruResource.vue';\nimport ResourceTabs from '@shell/components/form/ResourceTabs/index.vue';\nimport Tab from '@shell/components/Tabbed/Tab.vue';\nimport Loading from '@shell/components/Loading.vue';\nimport AppInfo, { EpinioAppInfo } from '../components/application/AppInfo.vue';\nimport AppConfiguration, { EpinioAppBindings } from '../components/application/AppConfiguration.vue';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport Wizard from '@shell/components/Wizard.vue';\nimport { createEpinioRoute } from '../utils/custom-routing';\nimport AppSource from '../components/application/AppSource.vue';\nimport { _EDIT } from '@shell/config/query-params';\n\nimport AppProgress from '../components/application/AppProgress.vue';\nimport { EpinioAppSource, EpinioCompRecord, EPINIO_TYPES } from '../types';\nimport { allHash } from '@shell/utils/promise';\n\ninterface Data {\n  bindings: EpinioAppBindings,\n  source?: EpinioAppSource,\n  errors: string[],\n}\n\n// Data, Methods, Computed, Props\nexport default Vue.extend<Data, EpinioCompRecord, EpinioCompRecord, EpinioCompRecord>({\n  components: {\n    AppSource,\n    AppProgress,\n    Loading,\n    CruResource,\n    ResourceTabs,\n    Tab,\n    AppInfo,\n    Wizard,\n    AppConfiguration\n  },\n\n  data() {\n    const source = this.value.appSource;\n\n    /**\n     * Edit git application from specific commit\n     */\n    if (source.git && this.$route.query?.commit) {\n      source.git.commit = this.$route?.query?.commit;\n    }\n\n    return {\n      bindings: {\n        configurations: [],\n        services:       []\n      },\n      errors: [],\n      source,\n      steps:  [\n        {\n          name:       'source',\n          label:      this.t('epinio.applications.steps.source.label'),\n          subtext:    this.t('epinio.applications.steps.source.subtext'),\n          ready:      false,\n          nextButton: {\n            labelKey: 'epinio.applications.steps.configurations.update',\n            style:    'btn role-primary bg-warning'\n          }\n        }, {\n          name:           'progress',\n          label:          this.t('epinio.applications.steps.progress.label'),\n          subtext:        this.t('epinio.applications.steps.progress.subtext'),\n          ready:          false,\n          previousButton: { disable: true }\n        },\n      ],\n      epinioInfo: undefined,\n      tabErrors:  { appInfo: false }\n    };\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    value: {\n      type:     Object as PropType<Application>,\n      required: true\n    },\n    initialValue: {\n      type:     Object as PropType<Application>,\n      required: true\n    },\n    mode: {\n      type:     String,\n      required: true\n    },\n  },\n\n  async fetch() {\n    const hash: { [key:string]: any } = await allHash({\n      ns:     this.$store.dispatch('epinio/findAll', { type: EPINIO_TYPES.NAMESPACE }),\n      charts: this.$store.dispatch('epinio/findAll', { type: EPINIO_TYPES.APP_CHARTS }),\n      info:   this.$store.dispatch('epinio/info'),\n    });\n\n    this.epinioInfo = hash.info;\n  },\n\n  computed: {\n    shouldShowButtons() {\n      return this.$route.hash === '#source' ? 'hide-buttons-deploy' : '';\n    },\n    showSourceTab() {\n      return this.mode === _EDIT;\n    },\n    validationPassed() {\n      return !Object.values(this.tabErrors).find((error) => error);\n    }\n  },\n\n  methods: {\n    async save(saveCb: (success: boolean) => void) {\n      this.errors = [];\n      try {\n        await this.value.update();\n\n        await this.value.updateConfigurations(\n          this.initialValue.baseConfigurationsNames || [],\n          this.bindings?.configurations || [],\n        );\n\n        await this.value.updateServices(\n          this.initialValue.services || [],\n          this.bindings?.services || [],\n        );\n\n        await this.value.forceFetch();\n        if (!this._isBeingDestroyed || !this._isDestroyed) {\n          saveCb(true);\n          this.done();\n        }\n      } catch (err) {\n        this.errors = epinioExceptionToErrorsArray(err);\n        saveCb(false);\n      }\n    },\n\n    set(obj: { [key: string]: string}, changes: { [key: string]: string}) {\n      Object.entries(changes).forEach(([key, value]: [string, any]) => {\n        Vue.set(obj, key, value);\n      });\n    },\n\n    updateInfo(changes: EpinioAppInfo) {\n      this.value.meta = this.value.meta || {};\n      this.value.configuration = this.value.configuration || {};\n      this.set(this.value.meta, changes.meta);\n      this.set(this.value.configuration, changes.configuration);\n    },\n\n    updateConfigurations(changes: EpinioAppBindings) {\n      Vue.set(this, 'bindings', changes);\n      this.set(this.value.configuration, [\n        ...changes.configurations,\n        // .map(s => s.meta.name)\n        // ...changes.services\n      ]);\n    },\n\n    cancel() {\n      this.$router.replace(this.value.listLocation);\n    },\n\n    finish() {\n      this.$router.replace(createEpinioRoute(`c-cluster-resource-id`, {\n        cluster:  this.$store.getters['clusterId'],\n        resource: this.value.type,\n        id:       `${ this.value.meta.namespace }/${ this.value.meta.name }`\n      }));\n    },\n\n    updateSource(changes: EpinioAppSource) {\n      this.source = {} as EpinioAppSource;\n      const { appChart, ...cleanChanges } = changes;\n\n      this.value.configuration = this.value.configuration || {};\n\n      if (appChart) {\n        // app chart actually belongs in config, so stick it in there\n        this.set(this.value.configuration, { appchart: appChart });\n      }\n\n      this.set(this.source, cleanChanges);\n    },\n\n    updateManifestConfigurations(changes: string[]) {\n      this.set(this.value.configuration, { configurations: changes });\n    },\n    validate(value: boolean, tab: string) {\n      if (tab) {\n        this.tabErrors[tab] = !value;\n      }\n\n      // UpdateSource wizard will save settings as well, needs to disable the button in case of errors\n      this.steps[0].ready = value;\n    }\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./applications.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./applications.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./applications.vue?vue&type=template&id=4228732c&scoped=true&\"\nimport script from \"./applications.vue?vue&type=script&lang=ts&\"\nexport * from \"./applications.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./applications.vue?vue&type=style&index=0&id=4228732c&prod&lang=scss&scoped=true&\"\nimport style1 from \"./applications.vue?vue&type=style&index=1&id=4228732c&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4228732c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./applications.vue?vue&type=style&index=0&id=4228732c&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./applications.vue?vue&type=style&index=1&id=4228732c&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (!_vm.value || _vm.$fetchState.pending)?_c('Loading'):(_vm.value)?_c('CruResource',{attrs:{\"min-height\":'7em',\"mode\":_vm.mode,\"done-route\":_vm.doneRoute,\"resource\":_vm.value,\"can-yaml\":false,\"errors\":_vm.errors,\"validation-passed\":_vm.validationPassed,\"namespace-key\":\"meta.namespace\"},on:{\"error\":(e) => (_vm.errors = e),\"finish\":_vm.save,\"cancel\":_vm.done}},[(_vm.value.isServiceRelated)?_c('Banner',{attrs:{\"color\":\"info\"}},[_vm._v(\" \"+_vm._s(_vm.t('epinio.configurations.tableHeaders.service.tooltip'))+\" \")]):_vm._e(),_c('NameNsDescription',{attrs:{\"name-key\":\"name\",\"namespace-key\":\"namespace\",\"namespaces-override\":_vm.namespaceNames,\"create-namespace-override\":true,\"description-hidden\":true,\"value\":_vm.value.meta,\"mode\":_vm.mode}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"loading\":_vm.$fetchState.pending,\"disabled\":_vm.noApps,\"options\":_vm.nsAppOptions,\"searchable\":true,\"mode\":_vm.mode,\"multiple\":true,\"label-key\":'epinio.configurations.bindApps.label',\"placeholder\":_vm.noApps ? _vm.t('epinio.configurations.bindApps.placeholderNoOptions') : _vm.t('epinio.configurations.bindApps.placeholderWithOptions')},model:{value:(_vm.selectedApps),callback:function ($$v) {_vm.selectedApps=$$v},expression:\"selectedApps\"}})],1)]),_c('div',{staticClass:\"spacer\"}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-11\"},[_c('KeyValue',{attrs:{\"value\":_vm.value.data,\"initial-empty-row\":true,\"mode\":_vm.mode,\"title\":_vm.t('epinio.configurations.pairs.label'),\"title-protip\":_vm.t('epinio.configurations.pairs.tooltip'),\"key-label\":_vm.t('epinio.applications.create.envvar.keyLabel'),\"value-label\":_vm.t('epinio.applications.create.envvar.valueLabel'),\"valueMarkdownMultiline\":true,\"parse-lines-from-file\":true,\"parse-value-from-file\":true},on:{\"input\":function($event){return _vm.setData($event)}}})],1)])],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue, { PropType } from 'vue';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport Loading from '@shell/components/Loading.vue';\nimport CruResource from '@shell/components/CruResource.vue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription.vue';\nimport { mapGetters } from 'vuex';\nimport EpinioConfiguration from '../models/configurations';\nimport { EPINIO_TYPES, EpinioNamespace, EpinioCompRecord } from '../types';\nimport KeyValue from '@shell/components/form/KeyValue.vue';\nimport { epinioExceptionToErrorsArray } from '../utils/errors';\nimport { validateKubernetesName } from '@shell/utils/validators/kubernetes-name';\nimport { sortBy } from '@shell/utils/sort';\nimport LabeledSelect from '@shell/components/form/LabeledSelect.vue';\nimport Banner from '@components/Banner/Banner.vue';\nimport EpinioBindAppsMixin from './bind-apps-mixin.js';\n\ninterface Data {\n}\n\nexport default Vue.extend<Data, EpinioCompRecord, EpinioCompRecord, EpinioCompRecord>({\n  components: {\n    Loading,\n    CruResource,\n    NameNsDescription,\n    KeyValue,\n    Banner,\n    LabeledSelect\n  },\n\n  mixins: [CreateEditView, EpinioBindAppsMixin],\n\n  props: {\n    mode: {\n      type:     String,\n      required: true\n    },\n    value: {\n      type:     Object as PropType<EpinioConfiguration>,\n      required: true\n    },\n    initialValue: {\n      type:     Object as PropType<EpinioConfiguration>,\n      required: true\n    }\n  },\n\n  async fetch() {\n    await this.mixinFetch();\n\n    Vue.set(this.value.meta, 'namespace', this.initialValue.meta.namespace || this.namespaces[0]?.metadata.name);\n    this.selectedApps = [...this.initialValue.configuration?.boundapps || []];\n  },\n\n  data() {\n    Vue.set(this.value, 'data', { ...this.initialValue.configuration?.details });\n\n    return {\n      errors:           [],\n      selectedApps:     [],\n      validationPassed: false\n    };\n  },\n\n  mounted() {\n    this.updateValidation();\n  },\n\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n\n    namespaces() {\n      return sortBy(this.$store.getters['epinio/all'](EPINIO_TYPES.NAMESPACE), 'name', false);\n    },\n\n    namespaceNames() {\n      return this.namespaces.map((n: EpinioNamespace) => n.metadata.name);\n    },\n\n  },\n\n  methods: {\n    async save(saveCb: (success: boolean) => void) {\n      this.errors = [];\n      try {\n        if (this.isCreate) {\n          await this.value.create();\n          await this.updateConfigurationAppBindings();\n          await this.$store.dispatch('epinio/findAll', { type: this.value.type, opt: { force: true } });\n        }\n\n        if (this.isEdit) {\n          await this.value.update();\n          await this.updateConfigurationAppBindings();\n          await this.value.forceFetch();\n        }\n\n        if (!this._isBeingDestroyed || !this._isDestroyed) {\n          saveCb(true);\n          this.done();\n        }\n      } catch (err) {\n        this.errors = epinioExceptionToErrorsArray(err);\n        saveCb(false);\n      }\n    },\n\n    setData(data: any[]) {\n      Vue.set(this.value, 'data', data);\n    },\n\n    updateValidation() {\n      const nameErrors = validateKubernetesName(this.value?.meta.name || '', this.t('epinio.namespace.name'), this.$store.getters, undefined, []);\n      const nsErrors = validateKubernetesName(this.value?.meta.namespace || '', '', this.$store.getters, undefined, []);\n\n      if (nameErrors.length === 0 && nsErrors.length === 0) {\n        const dataValues = Object.entries(this.value?.data || {});\n\n        if (!!dataValues.length) {\n          Vue.set(this, 'validationPassed', true);\n\n          return;\n        }\n      }\n\n      Vue.set(this, 'validationPassed', false);\n    }\n\n  },\n\n  watch: {\n    'value.meta.namespace'() {\n      Vue.set(this, 'selectedApps', []);\n      this.updateValidation(); // For when a user is supplying their own ns\n    },\n\n    'value.meta.name'() {\n      this.updateValidation();\n    },\n\n    'value.data': {\n      deep: true,\n\n      handler(neu) {\n        this.updateValidation();\n      }\n    }\n  }\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./configurations.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./configurations.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./configurations.vue?vue&type=template&id=ece12daa&\"\nimport script from \"./configurations.vue?vue&type=script&lang=ts&\"\nexport * from \"./configurations.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./applications.vue?vue&type=style&index=0&id=4228732c&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5fed68c8\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".hide-buttons-deploy .cru__footer{display:none!important}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./applications.vue?vue&type=style&index=1&id=4228732c&prod&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"81b9dcb4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".wizard-container[data-v-4228732c]{position:relative;margin-bottom:-20px;margin-right:-20px}.wizard-container .wizard[data-v-4228732c]{position:relative;overflow:auto}.wizard-container .wizard .appSource[data-v-4228732c],.wizard-container .wizard .progress-container[data-v-4228732c]{padding-bottom:75px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}